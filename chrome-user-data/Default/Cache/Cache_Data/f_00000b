var Ql=r=>{throw TypeError(r)};var Ws=(r,t,e)=>t.has(r)||Ql("Cannot "+e);var y=(r,t,e)=>(Ws(r,t,"read from private field"),e?e.call(r):t.get(r)),C=(r,t,e)=>t.has(r)?Ql("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),P=(r,t,e,n)=>(Ws(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),T=(r,t,e)=>(Ws(r,t,"access private method"),e);var co=(r,t,e,n)=>({set _(i){P(r,t,i,e)},get _(){return y(r,t,n)}});import{r as tt,s as dl,a as Yn,f as Kt,b as Je,d as _s,e as Wy,g as zy,j as zs,c as H}from"./app-chunk-one-Dq9u3Mlt.js";var dd={exports:{}},Ss={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky=tt,Vy=Symbol.for("react.element"),Jy=Symbol.for("react.fragment"),Qy=Object.prototype.hasOwnProperty,Hy=Ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yy={key:!0,ref:!0,__self:!0,__source:!0};function pd(r,t,e){var n,i={},o=null,s=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Qy.call(t,n)&&!Yy.hasOwnProperty(n)&&(i[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Vy,type:r,key:o,ref:s,props:i,_owner:Hy.current}}Ss.Fragment=Jy;Ss.jsx=pd;Ss.jsxs=pd;dd.exports=Ss;var Xy=dd.exports;const Zy="modulepreload",tg=function(r){return"/"+r},Hl={},Iu=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(e.map(u=>{if(u=tg(u),u in Hl)return;Hl[u]=!0;const l=u.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":Zy,l||(c.as="script"),c.crossOrigin="",c.href=u,a&&c.setAttribute("nonce",a),document.head.appendChild(c),l)return new Promise((h,d)=>{c.addEventListener("load",h),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};var eg=dl,rg=function(){return eg()&&!!Symbol.toStringTag},yd=Function.prototype.toString,cn=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,$u,Eo;if(typeof cn=="function"&&typeof Object.defineProperty=="function")try{$u=Object.defineProperty({},"length",{get:function(){throw Eo}}),Eo={},cn(function(){throw 42},null,$u)}catch(r){r!==Eo&&(cn=null)}else cn=null;var ng=/^\s*class\b/,Cu=function(t){try{var e=yd.call(t);return ng.test(e)}catch{return!1}},Ks=function(t){try{return Cu(t)?!1:(yd.call(t),!0)}catch{return!1}},wo=Object.prototype.toString,ig="[object Object]",og="[object Function]",sg="[object GeneratorFunction]",ag="[object HTMLAllCollection]",ug="[object HTML document.all class]",lg="[object HTMLCollection]",cg=typeof Symbol=="function"&&!!Symbol.toStringTag,fg=!(0 in[,]),Ru=function(){return!1};if(typeof document=="object"){var hg=document.all;wo.call(hg)===wo.call(document.all)&&(Ru=function(t){if((fg||!t)&&(typeof t>"u"||typeof t=="object"))try{var e=wo.call(t);return(e===ag||e===ug||e===lg||e===ig)&&t("")==null}catch{}return!1})}var gd=cn?function(t){if(Ru(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{cn(t,null,$u)}catch(e){if(e!==Eo)return!1}return!Cu(t)&&Ks(t)}:function(t){if(Ru(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(cg)return Ks(t);if(Cu(t))return!1;var e=wo.call(t);return e!==og&&e!==sg&&!/^\[object HTML/.test(e)?!1:Ks(t)},j,Nn=SyntaxError,vd=Function,dn=TypeError,Vs=function(r){try{return vd('"use strict"; return ('+r+").constructor;")()}catch{}},fr=Object.getOwnPropertyDescriptor;if(fr)try{fr({},"")}catch{fr=null}var Js=function(){throw new dn},dg=fr?function(){try{return arguments.callee,Js}catch{try{return fr(arguments,"callee").get}catch{return Js}}}():Js,qr=Yn(),pg=Je(),dt=Object.getPrototypeOf||(pg?function(r){return r.__proto__}:null),tn={},yg=typeof Uint8Array>"u"||!dt?j:dt(Uint8Array),hr={"%AggregateError%":typeof AggregateError>"u"?j:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?j:ArrayBuffer,"%ArrayIteratorPrototype%":qr&&dt?dt([][Symbol.iterator]()):j,"%AsyncFromSyncIteratorPrototype%":j,"%AsyncFunction%":tn,"%AsyncGenerator%":tn,"%AsyncGeneratorFunction%":tn,"%AsyncIteratorPrototype%":tn,"%Atomics%":typeof Atomics>"u"?j:Atomics,"%BigInt%":typeof BigInt>"u"?j:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?j:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?j:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?j:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?j:Float32Array,"%Float64Array%":typeof Float64Array>"u"?j:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?j:FinalizationRegistry,"%Function%":vd,"%GeneratorFunction%":tn,"%Int8Array%":typeof Int8Array>"u"?j:Int8Array,"%Int16Array%":typeof Int16Array>"u"?j:Int16Array,"%Int32Array%":typeof Int32Array>"u"?j:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":qr&&dt?dt(dt([][Symbol.iterator]())):j,"%JSON%":typeof JSON=="object"?JSON:j,"%Map%":typeof Map>"u"?j:Map,"%MapIteratorPrototype%":typeof Map>"u"||!qr||!dt?j:dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?j:Promise,"%Proxy%":typeof Proxy>"u"?j:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?j:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?j:Set,"%SetIteratorPrototype%":typeof Set>"u"||!qr||!dt?j:dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?j:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":qr&&dt?dt(""[Symbol.iterator]()):j,"%Symbol%":qr?Symbol:j,"%SyntaxError%":Nn,"%ThrowTypeError%":dg,"%TypedArray%":yg,"%TypeError%":dn,"%Uint8Array%":typeof Uint8Array>"u"?j:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?j:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?j:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?j:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?j:WeakMap,"%WeakRef%":typeof WeakRef>"u"?j:WeakRef,"%WeakSet%":typeof WeakSet>"u"?j:WeakSet};if(dt)try{null.error}catch(r){var gg=dt(dt(r));hr["%Error.prototype%"]=gg}var vg=function r(t){var e;if(t==="%AsyncFunction%")e=Vs("async function () {}");else if(t==="%GeneratorFunction%")e=Vs("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=Vs("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&dt&&(e=dt(i.prototype))}return hr[t]=e,e},Yl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ki=Kt,Bo=_s,mg=ki.call(Function.call,Array.prototype.concat),bg=ki.call(Function.apply,Array.prototype.splice),Xl=ki.call(Function.call,String.prototype.replace),Lo=ki.call(Function.call,String.prototype.slice),_g=ki.call(Function.call,RegExp.prototype.exec),Sg=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Eg=/\\(\\)?/g,wg=function(t){var e=Lo(t,0,1),n=Lo(t,-1);if(e==="%"&&n!=="%")throw new Nn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new Nn("invalid intrinsic syntax, expected opening `%`");var i=[];return Xl(t,Sg,function(o,s,a,u){i[i.length]=a?Xl(u,Eg,"$1"):s||o}),i},Ag=function(t,e){var n=t,i;if(Bo(Yl,n)&&(i=Yl[n],n="%"+i[0]+"%"),Bo(hr,n)){var o=hr[n];if(o===tn&&(o=vg(n)),typeof o>"u"&&!e)throw new dn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Nn("intrinsic "+t+" does not exist!")},Pg=function(t,e){if(typeof t!="string"||t.length===0)throw new dn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new dn('"allowMissing" argument must be a boolean');if(_g(/^%?[^%]*%?$/,t)===null)throw new Nn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=wg(t),i=n.length>0?n[0]:"",o=Ag("%"+i+"%",e),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],bg(n,mg([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=Lo(h,0,1),p=Lo(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Nn("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(u=!0),i+="."+h,s="%"+i+"%",Bo(hr,s))a=hr[s];else if(a!=null){if(!(h in a)){if(!e)throw new dn("base intrinsic for "+t+" exists, but the property is not available.");return}if(fr&&f+1>=n.length){var g=fr(a,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else c=Bo(a,h),a=a[h];c&&!u&&(hr[s]=a)}}return a},Og=Pg,Ao=Og("%Object.getOwnPropertyDescriptor%",!0);if(Ao)try{Ao([],"length")}catch{Ao=null}var pl=Ao,D=TypeError,Ig=Object,Xn=Error,Ui=EvalError,Ni=RangeError,xi=ReferenceError,Nr=SyntaxError,ji=URIError,md=Math.abs,yl=Math.floor,$g=Math.max,Cg=Math.min,Rg=Math.pow,Tg=Math.round,Mi=Number.isNaN||function(t){return t!==t},Dg=Mi,Fg=function(t){return Dg(t)||t===0?t:t<0?-1:1},kg=Object.getOwnPropertyDescriptor,Po=kg;if(Po)try{Po([],"length")}catch{Po=null}var Ug=Po,Oo=Object.defineProperty||!1;if(Oo)try{Oo({},"a",{value:1})}catch{Oo=!1}var Ng=Oo,Qs,Zl;function xg(){return Zl||(Zl=1,Qs=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[e]=i;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,e);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),Qs}var Hs,tc;function jg(){if(tc)return Hs;tc=1;var r=typeof Symbol<"u"&&Symbol,t=xg();return Hs=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Hs}var bd=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,Mg=Object,Bg=Mg,_d=Bg.getPrototypeOf||null,gl=Function.prototype.call,vl=Function.prototype.apply,Lg=typeof Reflect<"u"&&Reflect&&Reflect.apply,qg=Kt,Gg=vl,Wg=gl,zg=Lg,Sd=zg||qg.call(Wg,Gg),Kg=Kt,Vg=D,Jg=gl,Qg=Sd,Bi=function(t){if(t.length<1||typeof t[0]!="function")throw new Vg("a function is required");return Qg(Kg,Jg,t)},Hg=Object.getOwnPropertyDescriptor,Io=Hg;if(Io)try{Io([],"length")}catch{Io=null}var Yg=Io,Xg=Bi,ec=Yg,Ed;try{Ed=[].__proto__===Array.prototype}catch(r){if(!r||typeof r!="object"||!("code"in r)||r.code!=="ERR_PROTO_ACCESS")throw r}var Ys=!!Ed&&ec&&ec(Object.prototype,"__proto__"),wd=Object,rc=wd.getPrototypeOf,Zg=Ys&&typeof Ys.get=="function"?Xg([Ys.get]):typeof rc=="function"?function(t){return rc(t==null?t:wd(t))}:!1,nc=bd,ic=_d,oc=Zg,Ad=nc?function(t){return nc(t)}:ic?function(t){if(!t||typeof t!="object"&&typeof t!="function")throw new TypeError("getProto: not an object");return ic(t)}:oc?function(t){return oc(t)}:null,tv=Function.prototype.call,ev=Object.prototype.hasOwnProperty,rv=Kt,Yt=rv.call(tv,ev),x,nv=Ig,iv=Xn,ov=Ui,sv=Ni,av=xi,xn=Nr,pn=D,uv=ji,lv=md,cv=yl,fv=$g,hv=Cg,dv=Rg,pv=Tg,yv=Fg,Pd=Function,Xs=function(r){try{return Pd('"use strict"; return ('+r+").constructor;")()}catch{}},_i=Ug,gv=Ng,Zs=function(){throw new pn},vv=_i?function(){try{return arguments.callee,Zs}catch{try{return _i(arguments,"callee").get}catch{return Zs}}}():Zs,Gr=jg()(),pt=Ad,mv=_d,bv=bd,Od=vl,Li=gl,en={},_v=typeof Uint8Array>"u"||!pt?x:pt(Uint8Array),dr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?x:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?x:ArrayBuffer,"%ArrayIteratorPrototype%":Gr&&pt?pt([][Symbol.iterator]()):x,"%AsyncFromSyncIteratorPrototype%":x,"%AsyncFunction%":en,"%AsyncGenerator%":en,"%AsyncGeneratorFunction%":en,"%AsyncIteratorPrototype%":en,"%Atomics%":typeof Atomics>"u"?x:Atomics,"%BigInt%":typeof BigInt>"u"?x:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?x:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?x:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?x:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":iv,"%eval%":eval,"%EvalError%":ov,"%Float16Array%":typeof Float16Array>"u"?x:Float16Array,"%Float32Array%":typeof Float32Array>"u"?x:Float32Array,"%Float64Array%":typeof Float64Array>"u"?x:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?x:FinalizationRegistry,"%Function%":Pd,"%GeneratorFunction%":en,"%Int8Array%":typeof Int8Array>"u"?x:Int8Array,"%Int16Array%":typeof Int16Array>"u"?x:Int16Array,"%Int32Array%":typeof Int32Array>"u"?x:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gr&&pt?pt(pt([][Symbol.iterator]())):x,"%JSON%":typeof JSON=="object"?JSON:x,"%Map%":typeof Map>"u"?x:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gr||!pt?x:pt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":nv,"%Object.getOwnPropertyDescriptor%":_i,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?x:Promise,"%Proxy%":typeof Proxy>"u"?x:Proxy,"%RangeError%":sv,"%ReferenceError%":av,"%Reflect%":typeof Reflect>"u"?x:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?x:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gr||!pt?x:pt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?x:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gr&&pt?pt(""[Symbol.iterator]()):x,"%Symbol%":Gr?Symbol:x,"%SyntaxError%":xn,"%ThrowTypeError%":vv,"%TypedArray%":_v,"%TypeError%":pn,"%Uint8Array%":typeof Uint8Array>"u"?x:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?x:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?x:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?x:Uint32Array,"%URIError%":uv,"%WeakMap%":typeof WeakMap>"u"?x:WeakMap,"%WeakRef%":typeof WeakRef>"u"?x:WeakRef,"%WeakSet%":typeof WeakSet>"u"?x:WeakSet,"%Function.prototype.call%":Li,"%Function.prototype.apply%":Od,"%Object.defineProperty%":gv,"%Object.getPrototypeOf%":mv,"%Math.abs%":lv,"%Math.floor%":cv,"%Math.max%":fv,"%Math.min%":hv,"%Math.pow%":dv,"%Math.round%":pv,"%Math.sign%":yv,"%Reflect.getPrototypeOf%":bv};if(pt)try{null.error}catch(r){var Sv=pt(pt(r));dr["%Error.prototype%"]=Sv}var Ev=function r(t){var e;if(t==="%AsyncFunction%")e=Xs("async function () {}");else if(t==="%GeneratorFunction%")e=Xs("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=Xs("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&pt&&(e=pt(i.prototype))}return dr[t]=e,e},sc={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},qi=Kt,qo=Yt,wv=qi.call(Li,Array.prototype.concat),Av=qi.call(Od,Array.prototype.splice),ac=qi.call(Li,String.prototype.replace),Go=qi.call(Li,String.prototype.slice),Pv=qi.call(Li,RegExp.prototype.exec),Ov=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Iv=/\\(\\)?/g,$v=function(t){var e=Go(t,0,1),n=Go(t,-1);if(e==="%"&&n!=="%")throw new xn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new xn("invalid intrinsic syntax, expected opening `%`");var i=[];return ac(t,Ov,function(o,s,a,u){i[i.length]=a?ac(u,Iv,"$1"):s||o}),i},Cv=function(t,e){var n=t,i;if(qo(sc,n)&&(i=sc[n],n="%"+i[0]+"%"),qo(dr,n)){var o=dr[n];if(o===en&&(o=Ev(n)),typeof o>"u"&&!e)throw new pn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new xn("intrinsic "+t+" does not exist!")},St=function(t,e){if(typeof t!="string"||t.length===0)throw new pn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new pn('"allowMissing" argument must be a boolean');if(Pv(/^%?[^%]*%?$/,t)===null)throw new xn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=$v(t),i=n.length>0?n[0]:"",o=Cv("%"+i+"%",e),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],Av(n,wv([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=Go(h,0,1),p=Go(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new xn("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(u=!0),i+="."+h,s="%"+i+"%",qo(dr,s))a=dr[s];else if(a!=null){if(!(h in a)){if(!e)throw new pn("base intrinsic for "+t+" exists, but the property is not available.");return}if(_i&&f+1>=n.length){var g=_i(a,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else c=qo(a,h),a=a[h];c&&!u&&(dr[s]=a)}}return a},Id=St,$d=Bi,Rv=$d([Id("%String.prototype.indexOf%")]),Ft=function(t,e){var n=Id(t,!!e);return typeof n=="function"&&Rv(t,".prototype.")>-1?$d([n]):n},M,Tv=Xn,Dv=Ui,Fv=Ni,kv=xi,jn=Nr,yn=D,Uv=ji,Cd=Function,ta=function(r){try{return Cd('"use strict"; return ('+r+").constructor;")()}catch{}},pr=Object.getOwnPropertyDescriptor;if(pr)try{pr({},"")}catch{pr=null}var ea=function(){throw new yn},Nv=pr?function(){try{return arguments.callee,ea}catch{try{return pr(arguments,"callee").get}catch{return ea}}}():ea,Wr=Yn(),xv=Je(),yt=Object.getPrototypeOf||(xv?function(r){return r.__proto__}:null),rn={},jv=typeof Uint8Array>"u"||!yt?M:yt(Uint8Array),yr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":Wr&&yt?yt([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":rn,"%AsyncGenerator%":rn,"%AsyncGeneratorFunction%":rn,"%AsyncIteratorPrototype%":rn,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Tv,"%eval%":eval,"%EvalError%":Dv,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":Cd,"%GeneratorFunction%":rn,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wr&&yt?yt(yt([][Symbol.iterator]())):M,"%JSON%":typeof JSON=="object"?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wr||!yt?M:yt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":Fv,"%ReferenceError%":kv,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wr||!yt?M:yt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wr&&yt?yt(""[Symbol.iterator]()):M,"%Symbol%":Wr?Symbol:M,"%SyntaxError%":jn,"%ThrowTypeError%":Nv,"%TypedArray%":jv,"%TypeError%":yn,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":Uv,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet};if(yt)try{null.error}catch(r){var Mv=yt(yt(r));yr["%Error.prototype%"]=Mv}var Bv=function r(t){var e;if(t==="%AsyncFunction%")e=ta("async function () {}");else if(t==="%GeneratorFunction%")e=ta("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=ta("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&yt&&(e=yt(i.prototype))}return yr[t]=e,e},uc={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Gi=Kt,Wo=Yt,Lv=Gi.call(Function.call,Array.prototype.concat),qv=Gi.call(Function.apply,Array.prototype.splice),lc=Gi.call(Function.call,String.prototype.replace),zo=Gi.call(Function.call,String.prototype.slice),Gv=Gi.call(Function.call,RegExp.prototype.exec),Wv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zv=/\\(\\)?/g,Kv=function(t){var e=zo(t,0,1),n=zo(t,-1);if(e==="%"&&n!=="%")throw new jn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new jn("invalid intrinsic syntax, expected opening `%`");var i=[];return lc(t,Wv,function(o,s,a,u){i[i.length]=a?lc(u,zv,"$1"):s||o}),i},Vv=function(t,e){var n=t,i;if(Wo(uc,n)&&(i=uc[n],n="%"+i[0]+"%"),Wo(yr,n)){var o=yr[n];if(o===rn&&(o=Bv(n)),typeof o>"u"&&!e)throw new yn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new jn("intrinsic "+t+" does not exist!")},Jv=function(t,e){if(typeof t!="string"||t.length===0)throw new yn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new yn('"allowMissing" argument must be a boolean');if(Gv(/^%?[^%]*%?$/,t)===null)throw new jn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Kv(t),i=n.length>0?n[0]:"",o=Vv("%"+i+"%",e),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],qv(n,Lv([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=zo(h,0,1),p=zo(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new jn("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(u=!0),i+="."+h,s="%"+i+"%",Wo(yr,s))a=yr[s];else if(a!=null){if(!(h in a)){if(!e)throw new yn("base intrinsic for "+t+" exists, but the property is not available.");return}if(pr&&f+1>=n.length){var g=pr(a,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else c=Wo(a,h),a=a[h];c&&!u&&(yr[s]=a)}}return a},Qv=Jv,$o=Qv("%Object.defineProperty%",!0)||!1;if($o)try{$o({},"a",{value:1})}catch{$o=!1}var Wi=$o,cc=Wi,Hv=Nr,zr=D,fc=pl,zi=function(t,e,n){if(!t||typeof t!="object"&&typeof t!="function")throw new zr("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new zr("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new zr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new zr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new zr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new zr("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!fc&&fc(t,e);if(cc)cc(t,e,{configurable:s===null&&u?u.configurable:!s,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:o===null&&u?u.writable:!o});else if(a||!i&&!o&&!s)t[e]=n;else throw new Hv("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Tu=Wi,Rd=function(){return!!Tu};Rd.hasArrayLengthDefineBug=function(){if(!Tu)return null;try{return Tu([],"length",{value:1}).length!==1}catch{return!0}};var Zn=Rd,Yv=Kt,Xv=vl,Zv=Sd,ml=function(){return Zv(Yv,Xv,arguments)},xr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mn=typeof window>"u"||"Deno"in globalThis;function Qt(){}function tm(r,t){return typeof r=="function"?r(t):r}function Du(r){return typeof r=="number"&&r>=0&&r!==1/0}function Td(r,t){return Math.max(r+(t||0)-Date.now(),0)}function gn(r,t){return typeof r=="function"?r(t):r}function se(r,t){return typeof r=="function"?r(t):r}function hc(r,t){const{type:e="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:a}=r;if(s){if(n){if(t.queryHash!==bl(s,t.options))return!1}else if(!Si(t.queryKey,s))return!1}if(e!=="all"){const u=t.isActive();if(e==="active"&&!u||e==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function dc(r,t){const{exact:e,status:n,predicate:i,mutationKey:o}=r;if(o){if(!t.options.mutationKey)return!1;if(e){if(Ir(t.options.mutationKey)!==Ir(o))return!1}else if(!Si(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function bl(r,t){return((t==null?void 0:t.queryKeyHashFn)||Ir)(r)}function Ir(r){return JSON.stringify(r,(t,e)=>Fu(e)?Object.keys(e).sort().reduce((n,i)=>(n[i]=e[i],n),{}):e)}function Si(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?!Object.keys(t).some(e=>!Si(r[e],t[e])):!1}function _l(r,t){if(r===t)return r;const e=pc(r)&&pc(t);if(e||Fu(r)&&Fu(t)){const n=e?r:Object.keys(r),i=n.length,o=e?t:Object.keys(t),s=o.length,a=e?[]:{};let u=0;for(let l=0;l<s;l++){const f=e?l:o[l];(!e&&n.includes(f)||e)&&r[f]===void 0&&t[f]===void 0?(a[f]=void 0,u++):(a[f]=_l(r[f],t[f]),a[f]===r[f]&&r[f]!==void 0&&u++)}return i===s&&u===i?r:a}return t}function Ko(r,t){if(!t||Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}function pc(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Fu(r){if(!yc(r))return!1;const t=r.constructor;if(t===void 0)return!0;const e=t.prototype;return!(!yc(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function yc(r){return Object.prototype.toString.call(r)==="[object Object]"}function em(r){return new Promise(t=>{setTimeout(t,r)})}function ku(r,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(r,t):e.structuralSharing!==!1?_l(r,t):t}function rm(r,t,e=0){const n=[...r,t];return e&&n.length>e?n.slice(1):n}function nm(r,t,e=0){const n=[t,...r];return e&&n.length>e?n.slice(0,-1):n}var Dd=Symbol();function Fd(r,t){return!r.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!r.queryFn||r.queryFn===Dd?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var rr,Ne,En,rd,im=(rd=class extends xr{constructor(){super();C(this,rr);C(this,Ne);C(this,En);P(this,En,t=>{if(!Mn&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}})}onSubscribe(){y(this,Ne)||this.setEventListener(y(this,En))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,Ne))==null||t.call(this),P(this,Ne,void 0))}setEventListener(t){var e;P(this,En,t),(e=y(this,Ne))==null||e.call(this),P(this,Ne,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){y(this,rr)!==t&&(P(this,rr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){var t;return typeof y(this,rr)=="boolean"?y(this,rr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},rr=new WeakMap,Ne=new WeakMap,En=new WeakMap,rd),Sl=new im,wn,xe,An,nd,om=(nd=class extends xr{constructor(){super();C(this,wn,!0);C(this,xe);C(this,An);P(this,An,t=>{if(!Mn&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}})}onSubscribe(){y(this,xe)||this.setEventListener(y(this,An))}onUnsubscribe(){var t;this.hasListeners()||((t=y(this,xe))==null||t.call(this),P(this,xe,void 0))}setEventListener(t){var e;P(this,An,t),(e=y(this,xe))==null||e.call(this),P(this,xe,t(this.setOnline.bind(this)))}setOnline(t){y(this,wn)!==t&&(P(this,wn,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return y(this,wn)}},wn=new WeakMap,xe=new WeakMap,An=new WeakMap,nd),Vo=new om;function sm(r){return Math.min(1e3*2**r,3e4)}function kd(r){return(r??"online")==="online"?Vo.isOnline():!0}var Ud=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function ra(r){return r instanceof Ud}function Nd(r){let t=!1,e=0,n=!1,i,o,s;const a=new Promise((E,_)=>{o=E,s=_}),u=E=>{var _;n||(p(new Ud(E)),(_=r.abort)==null||_.call(r))},l=()=>{t=!0},f=()=>{t=!1},c=()=>Sl.isFocused()&&(r.networkMode==="always"||Vo.isOnline())&&r.canRun(),h=()=>kd(r.networkMode)&&r.canRun(),d=E=>{var _;n||(n=!0,(_=r.onSuccess)==null||_.call(r,E),i==null||i(),o(E))},p=E=>{var _;n||(n=!0,(_=r.onError)==null||_.call(r,E),i==null||i(),s(E))},g=()=>new Promise(E=>{var _;i=w=>{(n||c())&&E(w)},(_=r.onPause)==null||_.call(r)}).then(()=>{var E;i=void 0,n||(E=r.onContinue)==null||E.call(r)}),S=()=>{if(n)return;let E;const _=e===0?r.initialPromise:void 0;try{E=_??r.fn()}catch(w){E=Promise.reject(w)}Promise.resolve(E).then(d).catch(w=>{var $;if(n)return;const A=r.retry??(Mn?0:3),O=r.retryDelay??sm,I=typeof O=="function"?O(e,w):O,F=A===!0||typeof A=="number"&&e<A||typeof A=="function"&&A(e,w);if(t||!F){p(w);return}e++,($=r.onFail)==null||$.call(r,e,w),em(I).then(()=>c()?void 0:g()).then(()=>{t?p(w):S()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:f,canStart:h,start:()=>(h()?S():g().then(S),a)}}function am(){let r=[],t=0,e=h=>{h()},n=h=>{h()},i=h=>setTimeout(h,0);const o=h=>{i=h},s=h=>{let d;t++;try{d=h()}finally{t--,t||l()}return d},a=h=>{t?r.push(h):i(()=>{e(h)})},u=h=>(...d)=>{a(()=>{h(...d)})},l=()=>{const h=r;r=[],h.length&&i(()=>{n(()=>{h.forEach(d=>{e(d)})})})};return{batch:s,batchCalls:u,schedule:a,setNotifyFunction:h=>{e=h},setBatchNotifyFunction:h=>{n=h},setScheduler:o}}var nt=am(),nr,id,xd=(id=class{constructor(){C(this,nr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Du(this.gcTime)&&P(this,nr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Mn?1/0:5*60*1e3))}clearGcTimeout(){y(this,nr)&&(clearTimeout(y(this,nr)),P(this,nr,void 0))}},nr=new WeakMap,id),Pn,On,Jt,At,$i,ir,ne,Se,od,um=(od=class extends xd{constructor(t){super();C(this,ne);C(this,Pn);C(this,On);C(this,Jt);C(this,At);C(this,$i);C(this,ir);P(this,ir,!1),P(this,$i,t.defaultOptions),this.setOptions(t.options),this.observers=[],P(this,Jt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,P(this,Pn,lm(this.options)),this.state=t.state??y(this,Pn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=y(this,At))==null?void 0:t.promise}setOptions(t){this.options={...y(this,$i),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&y(this,Jt).remove(this)}setData(t,e){const n=ku(this.state.data,t,this.options);return T(this,ne,Se).call(this,{data:n,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt,manual:e==null?void 0:e.manual}),n}setState(t,e){T(this,ne,Se).call(this,{type:"setState",state:t,setStateOptions:e})}cancel(t){var n,i;const e=(n=y(this,At))==null?void 0:n.promise;return(i=y(this,At))==null||i.cancel(t),e?e.then(Qt).catch(Qt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(y(this,Pn))}isActive(){return this.observers.some(t=>se(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Td(this.state.dataUpdatedAt,t)}onFocus(){var e;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=y(this,At))==null||e.continue()}onOnline(){var e;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=y(this,At))==null||e.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),y(this,Jt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(y(this,At)&&(y(this,ir)?y(this,At).cancel({revert:!0}):y(this,At).cancelRetry()),this.scheduleGc()),y(this,Jt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||T(this,ne,Se).call(this,{type:"invalidate"})}fetch(t,e){var u,l,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(e!=null&&e.cancelRefetch))this.cancel({silent:!0});else if(y(this,At))return y(this,At).continueRetry(),y(this,At).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(h=>h.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(P(this,ir,!0),n.signal)})},o=()=>{const c=Fd(this.options,e),h={queryKey:this.queryKey,meta:this.meta};return i(h),P(this,ir,!1),this.options.persister?this.options.persister(c,h,this):c(h)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(s),(u=this.options.behavior)==null||u.onFetch(s,this),P(this,On,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=s.fetchOptions)==null?void 0:l.meta))&&T(this,ne,Se).call(this,{type:"fetch",meta:(f=s.fetchOptions)==null?void 0:f.meta});const a=c=>{var h,d,p,g;ra(c)&&c.silent||T(this,ne,Se).call(this,{type:"error",error:c}),ra(c)||((d=(h=y(this,Jt).config).onError)==null||d.call(h,c,this),(g=(p=y(this,Jt).config).onSettled)==null||g.call(p,this.state.data,c,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return P(this,At,Nd({initialPromise:e==null?void 0:e.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{var h,d,p,g;if(c===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(c),(d=(h=y(this,Jt).config).onSuccess)==null||d.call(h,c,this),(g=(p=y(this,Jt).config).onSettled)==null||g.call(p,c,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(c,h)=>{T(this,ne,Se).call(this,{type:"failed",failureCount:c,error:h})},onPause:()=>{T(this,ne,Se).call(this,{type:"pause"})},onContinue:()=>{T(this,ne,Se).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),y(this,At).start()}},Pn=new WeakMap,On=new WeakMap,Jt=new WeakMap,At=new WeakMap,$i=new WeakMap,ir=new WeakMap,ne=new WeakSet,Se=function(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...jd(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return ra(i)&&i.revert&&y(this,On)?{...y(this,On),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),nt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),y(this,Jt).notify({query:this,type:"updated",action:t})})},od);function jd(r,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kd(t.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function lm(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,e=t!==void 0,n=e?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var pe,sd,cm=(sd=class extends xr{constructor(t={}){super();C(this,pe);this.config=t,P(this,pe,new Map)}build(t,e,n){const i=e.queryKey,o=e.queryHash??bl(i,e);let s=this.get(o);return s||(s=new um({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){y(this,pe).has(t.queryHash)||(y(this,pe).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=y(this,pe).get(t.queryHash);e&&(t.destroy(),e===t&&y(this,pe).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return y(this,pe).get(t)}getAll(){return[...y(this,pe).values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>hc(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>hc(t,n)):e}notify(t){nt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){nt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},pe=new WeakMap,sd),ye,Ct,or,ge,ke,ad,fm=(ad=class extends xd{constructor(t){super();C(this,ge);C(this,ye);C(this,Ct);C(this,or);this.mutationId=t.mutationId,P(this,Ct,t.mutationCache),P(this,ye,[]),this.state=t.state||Md(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){y(this,ye).includes(t)||(y(this,ye).push(t),this.clearGcTimeout(),y(this,Ct).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){P(this,ye,y(this,ye).filter(e=>e!==t)),this.scheduleGc(),y(this,Ct).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){y(this,ye).length||(this.state.status==="pending"?this.scheduleGc():y(this,Ct).remove(this))}continue(){var t;return((t=y(this,or))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,s,a,u,l,f,c,h,d,p,g,S,E,_,w,A,O,I,F;P(this,or,Nd({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:($,K)=>{T(this,ge,ke).call(this,{type:"failed",failureCount:$,error:K})},onPause:()=>{T(this,ge,ke).call(this,{type:"pause"})},onContinue:()=>{T(this,ge,ke).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>y(this,Ct).canRun(this)}));const e=this.state.status==="pending",n=!y(this,or).canStart();try{if(!e){T(this,ge,ke).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(i=y(this,Ct).config).onMutate)==null?void 0:o.call(i,t,this));const K=await((a=(s=this.options).onMutate)==null?void 0:a.call(s,t));K!==this.state.context&&T(this,ge,ke).call(this,{type:"pending",context:K,variables:t,isPaused:n})}const $=await y(this,or).start();return await((l=(u=y(this,Ct).config).onSuccess)==null?void 0:l.call(u,$,t,this.state.context,this)),await((c=(f=this.options).onSuccess)==null?void 0:c.call(f,$,t,this.state.context)),await((d=(h=y(this,Ct).config).onSettled)==null?void 0:d.call(h,$,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,$,null,t,this.state.context)),T(this,ge,ke).call(this,{type:"success",data:$}),$}catch($){try{throw await((E=(S=y(this,Ct).config).onError)==null?void 0:E.call(S,$,t,this.state.context,this)),await((w=(_=this.options).onError)==null?void 0:w.call(_,$,t,this.state.context)),await((O=(A=y(this,Ct).config).onSettled)==null?void 0:O.call(A,void 0,$,this.state.variables,this.state.context,this)),await((F=(I=this.options).onSettled)==null?void 0:F.call(I,void 0,$,t,this.state.context)),$}finally{T(this,ge,ke).call(this,{type:"error",error:$})}}finally{y(this,Ct).runNext(this)}}},ye=new WeakMap,Ct=new WeakMap,or=new WeakMap,ge=new WeakSet,ke=function(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),nt.batch(()=>{y(this,ye).forEach(n=>{n.onMutationUpdate(t)}),y(this,Ct).notify({mutation:this,type:"updated",action:t})})},ad);function Md(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lt,Ci,ud,hm=(ud=class extends xr{constructor(t={}){super();C(this,Lt);C(this,Ci);this.config=t,P(this,Lt,new Map),P(this,Ci,Date.now())}build(t,e,n){const i=new fm({mutationCache:this,mutationId:++co(this,Ci)._,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){const e=fo(t),n=y(this,Lt).get(e)??[];n.push(t),y(this,Lt).set(e,n),this.notify({type:"added",mutation:t})}remove(t){var n;const e=fo(t);if(y(this,Lt).has(e)){const i=(n=y(this,Lt).get(e))==null?void 0:n.filter(o=>o!==t);i&&(i.length===0?y(this,Lt).delete(e):y(this,Lt).set(e,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const e=(n=y(this,Lt).get(fo(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!e||e===t}runNext(t){var n;const e=(n=y(this,Lt).get(fo(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(e==null?void 0:e.continue())??Promise.resolve()}clear(){nt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...y(this,Lt).values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>dc(e,n))}findAll(t={}){return this.getAll().filter(e=>dc(t,e))}notify(t){nt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return nt.batch(()=>Promise.all(t.map(e=>e.continue().catch(Qt))))}},Lt=new WeakMap,Ci=new WeakMap,ud);function fo(r){var t;return((t=r.options.scope)==null?void 0:t.id)??String(r.mutationId)}function Uu(r){return{onFetch:(t,e)=>{const n=async()=>{var p,g,S,E,_;const i=t.options,o=(S=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:S.direction,s=((E=t.state.data)==null?void 0:E.pages)||[],a=((_=t.state.data)==null?void 0:_.pageParams)||[],u={pages:[],pageParams:[]};let l=!1;const f=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?l=!0:t.signal.addEventListener("abort",()=>{l=!0}),t.signal)})},c=Fd(t.options,t.fetchOptions),h=async(w,A,O)=>{if(l)return Promise.reject();if(A==null&&w.pages.length)return Promise.resolve(w);const I={queryKey:t.queryKey,pageParam:A,direction:O?"backward":"forward",meta:t.options.meta};f(I);const F=await c(I),{maxPages:$}=t.options,K=O?nm:rm;return{pages:K(w.pages,F,$),pageParams:K(w.pageParams,A,$)}};let d;if(o&&s.length){const w=o==="backward",A=w?Bd:Nu,O={pages:s,pageParams:a},I=A(i,O);d=await h(O,I,w)}else{d=await h(u,a[0]??i.initialPageParam);const w=r??s.length;for(let A=1;A<w;A++){const O=Nu(i,d);if(O==null)break;d=await h(d,O)}}return d};t.options.persister?t.fetchFn=()=>{var i,o;return(o=(i=t.options).persister)==null?void 0:o.call(i,n,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e)}:t.fetchFn=n}}}function Nu(r,{pages:t,pageParams:e}){const n=t.length-1;return t.length>0?r.getNextPageParam(t[n],t,e[n],e):void 0}function Bd(r,{pages:t,pageParams:e}){var n;return t.length>0?(n=r.getPreviousPageParam)==null?void 0:n.call(r,t[0],t,e[0],e):void 0}function dm(r,t){return t?Nu(r,t)!=null:!1}function pm(r,t){return!t||!r.getPreviousPageParam?!1:Bd(r,t)!=null}var rt,je,Me,In,$n,Be,Cn,Rn,ld,EO=(ld=class{constructor(r={}){C(this,rt);C(this,je);C(this,Me);C(this,In);C(this,$n);C(this,Be);C(this,Cn);C(this,Rn);P(this,rt,r.queryCache||new cm),P(this,je,r.mutationCache||new hm),P(this,Me,r.defaultOptions||{}),P(this,In,new Map),P(this,$n,new Map),P(this,Be,0)}mount(){co(this,Be)._++,y(this,Be)===1&&(P(this,Cn,Sl.subscribe(async r=>{r&&(await this.resumePausedMutations(),y(this,rt).onFocus())})),P(this,Rn,Vo.subscribe(async r=>{r&&(await this.resumePausedMutations(),y(this,rt).onOnline())})))}unmount(){var r,t;co(this,Be)._--,y(this,Be)===0&&((r=y(this,Cn))==null||r.call(this),P(this,Cn,void 0),(t=y(this,Rn))==null||t.call(this),P(this,Rn,void 0))}isFetching(r){return y(this,rt).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return y(this,je).findAll({...r,status:"pending"}).length}getQueryData(r){var e;const t=this.defaultQueryOptions({queryKey:r});return(e=y(this,rt).get(t.queryHash))==null?void 0:e.state.data}ensureQueryData(r){const t=this.getQueryData(r.queryKey);if(t===void 0)return this.fetchQuery(r);{const e=this.defaultQueryOptions(r),n=y(this,rt).build(this,e);return r.revalidateIfStale&&n.isStaleByTime(gn(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(t)}}getQueriesData(r){return y(this,rt).findAll(r).map(({queryKey:t,state:e})=>{const n=e.data;return[t,n]})}setQueryData(r,t,e){const n=this.defaultQueryOptions({queryKey:r}),i=y(this,rt).get(n.queryHash),o=i==null?void 0:i.state.data,s=tm(t,o);if(s!==void 0)return y(this,rt).build(this,n).setData(s,{...e,manual:!0})}setQueriesData(r,t,e){return nt.batch(()=>y(this,rt).findAll(r).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(r){var e;const t=this.defaultQueryOptions({queryKey:r});return(e=y(this,rt).get(t.queryHash))==null?void 0:e.state}removeQueries(r){const t=y(this,rt);nt.batch(()=>{t.findAll(r).forEach(e=>{t.remove(e)})})}resetQueries(r,t){const e=y(this,rt),n={type:"active",...r};return nt.batch(()=>(e.findAll(r).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(r={},t={}){const e={revert:!0,...t},n=nt.batch(()=>y(this,rt).findAll(r).map(i=>i.cancel(e)));return Promise.all(n).then(Qt).catch(Qt)}invalidateQueries(r={},t={}){return nt.batch(()=>{if(y(this,rt).findAll(r).forEach(n=>{n.invalidate()}),r.refetchType==="none")return Promise.resolve();const e={...r,type:r.refetchType??r.type??"active"};return this.refetchQueries(e,t)})}refetchQueries(r={},t){const e={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=nt.batch(()=>y(this,rt).findAll(r).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,e);return e.throwOnError||(o=o.catch(Qt)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Qt)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const e=y(this,rt).build(this,t);return e.isStaleByTime(gn(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(Qt).catch(Qt)}fetchInfiniteQuery(r){return r.behavior=Uu(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(Qt).catch(Qt)}resumePausedMutations(){return Vo.isOnline()?y(this,je).resumePausedMutations():Promise.resolve()}getQueryCache(){return y(this,rt)}getMutationCache(){return y(this,je)}getDefaultOptions(){return y(this,Me)}setDefaultOptions(r){P(this,Me,r)}setQueryDefaults(r,t){y(this,In).set(Ir(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...y(this,In).values()];let e={};return t.forEach(n=>{Si(r,n.queryKey)&&(e={...e,...n.defaultOptions})}),e}setMutationDefaults(r,t){y(this,$n).set(Ir(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...y(this,$n).values()];let e={};return t.forEach(n=>{Si(r,n.mutationKey)&&(e={...e,...n.defaultOptions})}),e}defaultQueryOptions(r){if(r._defaulted)return r;const t={...y(this,Me).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return t.queryHash||(t.queryHash=bl(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Dd&&(t.enabled=!1),t}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...y(this,Me).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){y(this,rt).clear(),y(this,je).clear()}},rt=new WeakMap,je=new WeakMap,Me=new WeakMap,In=new WeakMap,$n=new WeakMap,Be=new WeakMap,Cn=new WeakMap,Rn=new WeakMap,ld),Ut,z,Ri,Rt,sr,Tn,ve,Ti,Dn,Fn,ar,ur,Le,kn,V,ci,xu,ju,Mu,Bu,Lu,qu,Gu,Ld,cd,Es=(cd=class extends xr{constructor(t,e){super();C(this,V);C(this,Ut);C(this,z);C(this,Ri);C(this,Rt);C(this,sr);C(this,Tn);C(this,ve);C(this,Ti);C(this,Dn);C(this,Fn);C(this,ar);C(this,ur);C(this,Le);C(this,kn,new Set);this.options=e,P(this,Ut,t),P(this,ve,null),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(y(this,z).addObserver(this),gc(y(this,z),this.options)?T(this,V,ci).call(this):this.updateResult(),T(this,V,Bu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wu(y(this,z),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wu(y(this,z),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,T(this,V,Lu).call(this),T(this,V,qu).call(this),y(this,z).removeObserver(this)}setOptions(t,e){const n=this.options,i=y(this,z);if(this.options=y(this,Ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof se(this.options.enabled,y(this,z))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");T(this,V,Gu).call(this),y(this,z).setOptions(this.options),n._defaulted&&!Ko(this.options,n)&&y(this,Ut).getQueryCache().notify({type:"observerOptionsUpdated",query:y(this,z),observer:this});const o=this.hasListeners();o&&vc(y(this,z),i,this.options,n)&&T(this,V,ci).call(this),this.updateResult(e),o&&(y(this,z)!==i||se(this.options.enabled,y(this,z))!==se(n.enabled,y(this,z))||gn(this.options.staleTime,y(this,z))!==gn(n.staleTime,y(this,z)))&&T(this,V,xu).call(this);const s=T(this,V,ju).call(this);o&&(y(this,z)!==i||se(this.options.enabled,y(this,z))!==se(n.enabled,y(this,z))||s!==y(this,Le))&&T(this,V,Mu).call(this,s)}getOptimisticResult(t){const e=y(this,Ut).getQueryCache().build(y(this,Ut),t),n=this.createResult(e,t);return gm(this,n)&&(P(this,Rt,n),P(this,Tn,this.options),P(this,sr,y(this,z).state)),n}getCurrentResult(){return y(this,Rt)}trackResult(t,e){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),e==null||e(i),t[i])})}),n}trackProp(t){y(this,kn).add(t)}getCurrentQuery(){return y(this,z)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=y(this,Ut).defaultQueryOptions(t),n=y(this,Ut).getQueryCache().build(y(this,Ut),e);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,e))}fetch(t){return T(this,V,ci).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),y(this,Rt)))}createResult(t,e){var F;const n=y(this,z),i=this.options,o=y(this,Rt),s=y(this,sr),a=y(this,Tn),l=t!==n?t.state:y(this,Ri),{state:f}=t;let c={...f},h=!1,d;if(e._optimisticResults){const $=this.hasListeners(),K=!$&&gc(t,e),et=$&&vc(t,n,e,i);(K||et)&&(c={...c,...jd(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:p,errorUpdatedAt:g,status:S}=c;if(e.select&&c.data!==void 0)if(o&&c.data===(s==null?void 0:s.data)&&e.select===y(this,Ti))d=y(this,Dn);else try{P(this,Ti,e.select),d=e.select(c.data),d=ku(o==null?void 0:o.data,d,e),P(this,Dn,d),P(this,ve,null)}catch($){P(this,ve,$)}else d=c.data;if(e.placeholderData!==void 0&&d===void 0&&S==="pending"){let $;if(o!=null&&o.isPlaceholderData&&e.placeholderData===(a==null?void 0:a.placeholderData))$=o.data;else if($=typeof e.placeholderData=="function"?e.placeholderData((F=y(this,Fn))==null?void 0:F.state.data,y(this,Fn)):e.placeholderData,e.select&&$!==void 0)try{$=e.select($),P(this,ve,null)}catch(K){P(this,ve,K)}$!==void 0&&(S="success",d=ku(o==null?void 0:o.data,$,e),h=!0)}y(this,ve)&&(p=y(this,ve),d=y(this,Dn),g=Date.now(),S="error");const E=c.fetchStatus==="fetching",_=S==="pending",w=S==="error",A=_&&E,O=d!==void 0;return{status:S,fetchStatus:c.fetchStatus,isPending:_,isSuccess:S==="success",isError:w,isInitialLoading:A,isLoading:A,data:d,dataUpdatedAt:c.dataUpdatedAt,error:p,errorUpdatedAt:g,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:E,isRefetching:E&&!_,isLoadingError:w&&!O,isPaused:c.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&O,isStale:El(t,e),refetch:this.refetch}}updateResult(t){const e=y(this,Rt),n=this.createResult(y(this,z),this.options);if(P(this,sr,y(this,z).state),P(this,Tn,this.options),y(this,sr).data!==void 0&&P(this,Fn,y(this,z)),Ko(n,e))return;P(this,Rt,n);const i={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!y(this,kn).size)return!0;const u=new Set(a??y(this,kn));return this.options.throwOnError&&u.add("error"),Object.keys(y(this,Rt)).some(l=>{const f=l;return y(this,Rt)[f]!==e[f]&&u.has(f)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),T(this,V,Ld).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&T(this,V,Bu).call(this)}},Ut=new WeakMap,z=new WeakMap,Ri=new WeakMap,Rt=new WeakMap,sr=new WeakMap,Tn=new WeakMap,ve=new WeakMap,Ti=new WeakMap,Dn=new WeakMap,Fn=new WeakMap,ar=new WeakMap,ur=new WeakMap,Le=new WeakMap,kn=new WeakMap,V=new WeakSet,ci=function(t){T(this,V,Gu).call(this);let e=y(this,z).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Qt)),e},xu=function(){T(this,V,Lu).call(this);const t=gn(this.options.staleTime,y(this,z));if(Mn||y(this,Rt).isStale||!Du(t))return;const n=Td(y(this,Rt).dataUpdatedAt,t)+1;P(this,ar,setTimeout(()=>{y(this,Rt).isStale||this.updateResult()},n))},ju=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(y(this,z)):this.options.refetchInterval)??!1},Mu=function(t){T(this,V,qu).call(this),P(this,Le,t),!(Mn||se(this.options.enabled,y(this,z))===!1||!Du(y(this,Le))||y(this,Le)===0)&&P(this,ur,setInterval(()=>{(this.options.refetchIntervalInBackground||Sl.isFocused())&&T(this,V,ci).call(this)},y(this,Le)))},Bu=function(){T(this,V,xu).call(this),T(this,V,Mu).call(this,T(this,V,ju).call(this))},Lu=function(){y(this,ar)&&(clearTimeout(y(this,ar)),P(this,ar,void 0))},qu=function(){y(this,ur)&&(clearInterval(y(this,ur)),P(this,ur,void 0))},Gu=function(){const t=y(this,Ut).getQueryCache().build(y(this,Ut),this.options);if(t===y(this,z))return;const e=y(this,z);P(this,z,t),P(this,Ri,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},Ld=function(t){nt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(y(this,Rt))}),y(this,Ut).getQueryCache().notify({query:y(this,z),type:"observerResultsUpdated"})})},cd);function ym(r,t){return se(t.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&t.retryOnMount===!1)}function gc(r,t){return ym(r,t)||r.state.data!==void 0&&Wu(r,t,t.refetchOnMount)}function Wu(r,t,e){if(se(t.enabled,r)!==!1){const n=typeof e=="function"?e(r):e;return n==="always"||n!==!1&&El(r,t)}return!1}function vc(r,t,e,n){return(r!==t||se(n.enabled,r)===!1)&&(!e.suspense||r.state.status!=="error")&&El(r,e)}function El(r,t){return se(t.enabled,r)!==!1&&r.isStaleByTime(gn(t.staleTime,r))}function gm(r,t){return!Ko(r.getCurrentResult(),t)}function mc(r,t){return r.filter(e=>!t.includes(e))}function vm(r,t,e){const n=r.slice(0);return n[t]=e,n}var lr,ie,Un,qt,cr,Di,Fi,zt,qd,zu,Ku,Vu,fd,mm=(fd=class extends xr{constructor(t,e,n){super();C(this,zt);C(this,lr);C(this,ie);C(this,Un);C(this,qt);C(this,cr);C(this,Di);C(this,Fi);P(this,lr,t),P(this,Un,[]),P(this,qt,[]),P(this,ie,[]),this.setQueries(e)}onSubscribe(){this.listeners.size===1&&y(this,qt).forEach(t=>{t.subscribe(e=>{T(this,zt,Ku).call(this,t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,y(this,qt).forEach(t=>{t.destroy()})}setQueries(t,e,n){P(this,Un,t),nt.batch(()=>{const i=y(this,qt),o=T(this,zt,zu).call(this,y(this,Un));o.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions,n));const s=o.map(l=>l.observer),a=s.map(l=>l.getCurrentResult()),u=s.some((l,f)=>l!==i[f]);i.length===s.length&&!u||(P(this,qt,s),P(this,ie,a),this.hasListeners()&&(mc(i,s).forEach(l=>{l.destroy()}),mc(s,i).forEach(l=>{l.subscribe(f=>{T(this,zt,Ku).call(this,l,f)})}),T(this,zt,Vu).call(this)))})}getCurrentResult(){return y(this,ie)}getQueries(){return y(this,qt).map(t=>t.getCurrentQuery())}getObservers(){return y(this,qt)}getOptimisticResult(t,e){const n=T(this,zt,zu).call(this,t),i=n.map(o=>o.observer.getOptimisticResult(o.defaultedQueryOptions));return[i,o=>T(this,zt,qd).call(this,o??i,e),()=>n.map((o,s)=>{const a=i[s];return o.defaultedQueryOptions.notifyOnChangeProps?a:o.observer.trackResult(a,u=>{n.forEach(l=>{l.observer.trackProp(u)})})})]}},lr=new WeakMap,ie=new WeakMap,Un=new WeakMap,qt=new WeakMap,cr=new WeakMap,Di=new WeakMap,Fi=new WeakMap,zt=new WeakSet,qd=function(t,e){return e?((!y(this,cr)||y(this,ie)!==y(this,Fi)||e!==y(this,Di))&&(P(this,Di,e),P(this,Fi,y(this,ie)),P(this,cr,_l(y(this,cr),e(t)))),y(this,cr)):t},zu=function(t){const e=y(this,qt),n=new Map(e.map(c=>[c.options.queryHash,c])),i=t.map(c=>y(this,lr).defaultQueryOptions(c)),o=i.flatMap(c=>{const h=n.get(c.queryHash);return h!=null?[{defaultedQueryOptions:c,observer:h}]:[]}),s=new Set(o.map(c=>c.defaultedQueryOptions.queryHash)),a=i.filter(c=>!s.has(c.queryHash)),u=c=>{const h=y(this,lr).defaultQueryOptions(c);return y(this,qt).find(p=>p.options.queryHash===h.queryHash)??new Es(y(this,lr),h)},l=a.map(c=>({defaultedQueryOptions:c,observer:u(c)})),f=(c,h)=>i.indexOf(c.defaultedQueryOptions)-i.indexOf(h.defaultedQueryOptions);return o.concat(l).sort(f)},Ku=function(t,e){const n=y(this,qt).indexOf(t);n!==-1&&(P(this,ie,vm(y(this,ie),n,e)),T(this,zt,Vu).call(this))},Vu=function(){nt.batch(()=>{this.listeners.forEach(t=>{t(y(this,ie))})})},fd),bm=class extends Es{constructor(r,t){super(r,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(r,t){super.setOptions({...r,behavior:Uu()},t)}getOptimisticResult(r){return r.behavior=Uu(),super.getOptimisticResult(r)}fetchNextPage(r){return this.fetch({...r,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(r){return this.fetch({...r,meta:{fetchMore:{direction:"backward"}}})}createResult(r,t){var p,g;const{state:e}=r,n=super.createResult(r,t),{isFetching:i,isRefetching:o,isError:s,isRefetchError:a}=n,u=(g=(p=e.fetchMeta)==null?void 0:p.fetchMore)==null?void 0:g.direction,l=s&&u==="forward",f=i&&u==="forward",c=s&&u==="backward",h=i&&u==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:dm(t,e.data),hasPreviousPage:pm(t,e.data),isFetchNextPageError:l,isFetchingNextPage:f,isFetchPreviousPageError:c,isFetchingPreviousPage:h,isRefetchError:a&&!l&&!c,isRefetching:o&&!f&&!h}}},qe,Ge,Nt,Ae,Oe,Co,Ju,hd,_m=(hd=class extends xr{constructor(e,n){super();C(this,Oe);C(this,qe);C(this,Ge);C(this,Nt);C(this,Ae);P(this,qe,e),this.setOptions(n),this.bindMethods(),T(this,Oe,Co).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var i;const n=this.options;this.options=y(this,qe).defaultMutationOptions(e),Ko(this.options,n)||y(this,qe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:y(this,Nt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ir(n.mutationKey)!==Ir(this.options.mutationKey)?this.reset():((i=y(this,Nt))==null?void 0:i.state.status)==="pending"&&y(this,Nt).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=y(this,Nt))==null||e.removeObserver(this)}onMutationUpdate(e){T(this,Oe,Co).call(this),T(this,Oe,Ju).call(this,e)}getCurrentResult(){return y(this,Ge)}reset(){var e;(e=y(this,Nt))==null||e.removeObserver(this),P(this,Nt,void 0),T(this,Oe,Co).call(this),T(this,Oe,Ju).call(this)}mutate(e,n){var i;return P(this,Ae,n),(i=y(this,Nt))==null||i.removeObserver(this),P(this,Nt,y(this,qe).getMutationCache().build(y(this,qe),this.options)),y(this,Nt).addObserver(this),y(this,Nt).execute(e)}},qe=new WeakMap,Ge=new WeakMap,Nt=new WeakMap,Ae=new WeakMap,Oe=new WeakSet,Co=function(){var n;const e=((n=y(this,Nt))==null?void 0:n.state)??Md();P(this,Ge,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Ju=function(e){nt.batch(()=>{var n,i,o,s,a,u,l,f;if(y(this,Ae)&&this.hasListeners()){const c=y(this,Ge).variables,h=y(this,Ge).context;(e==null?void 0:e.type)==="success"?((i=(n=y(this,Ae)).onSuccess)==null||i.call(n,e.data,c,h),(s=(o=y(this,Ae)).onSettled)==null||s.call(o,e.data,null,c,h)):(e==null?void 0:e.type)==="error"&&((u=(a=y(this,Ae)).onError)==null||u.call(a,e.error,c,h),(f=(l=y(this,Ae)).onSettled)==null||f.call(l,void 0,e.error,c,h))}this.listeners.forEach(c=>{c(y(this,Ge))})})},hd),Gd=tt.createContext(void 0),wl=r=>{const t=tt.useContext(Gd);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},AO=({client:r,children:t})=>(tt.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),Xy.jsx(Gd.Provider,{value:r,children:t})),Wd=tt.createContext(!1),zd=()=>tt.useContext(Wd);Wd.Provider;function Sm(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Em=tt.createContext(Sm()),Kd=()=>tt.useContext(Em);function Vd(r,t){return typeof r=="function"?r(...t):!!r}function wm(){}var Jd=(r,t)=>{(r.suspense||r.throwOnError)&&(t.isReset()||(r.retryOnMount=!1))},Qd=r=>{tt.useEffect(()=>{r.clearReset()},[r])},Hd=({result:r,errorResetBoundary:t,throwOnError:e,query:n})=>r.isError&&!t.isReset()&&!r.isFetching&&n&&Vd(e,[r.error,n]),Yd=r=>{r.suspense&&typeof r.staleTime!="number"&&(r.staleTime=1e3)},Am=(r,t)=>r.isLoading&&r.isFetching&&!t,Qu=(r,t)=>(r==null?void 0:r.suspense)&&t.isPending,Hu=(r,t,e)=>t.fetchOptimistic(r).catch(()=>{e.clearReset()});function PO({queries:r,...t},e){const n=wl(),i=zd(),o=Kd(),s=tt.useMemo(()=>r.map(p=>{const g=n.defaultQueryOptions(p);return g._optimisticResults=i?"isRestoring":"optimistic",g}),[r,n,i]);s.forEach(p=>{Yd(p),Jd(p,o)}),Qd(o);const[a]=tt.useState(()=>new mm(n,s,t)),[u,l,f]=a.getOptimisticResult(s,t.combine);tt.useSyncExternalStore(tt.useCallback(p=>i?()=>{}:a.subscribe(nt.batchCalls(p)),[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),tt.useEffect(()=>{a.setQueries(s,t,{listeners:!1})},[s,t,a]);const h=u.some((p,g)=>Qu(s[g],p))?u.flatMap((p,g)=>{const S=s[g];if(S){const E=new Es(n,S);if(Qu(S,p))return Hu(S,E,o);Am(p,i)&&Hu(S,E,o)}return[]}):[];if(h.length>0)throw Promise.all(h);const d=u.find((p,g)=>{const S=s[g];return S&&Hd({result:p,errorResetBoundary:o,throwOnError:S.throwOnError,query:n.getQueryCache().get(S.queryHash)})});if(d!=null&&d.error)throw d.error;return l(f())}function Xd(r,t,e){var l,f,c,h;const n=wl(),i=zd(),o=Kd(),s=n.defaultQueryOptions(r);(f=(l=n.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||f.call(l,s),s._optimisticResults=i?"isRestoring":"optimistic",Yd(s),Jd(s,o),Qd(o);const[a]=tt.useState(()=>new t(n,s)),u=a.getOptimisticResult(s);if(tt.useSyncExternalStore(tt.useCallback(d=>{const p=i?()=>{}:a.subscribe(nt.batchCalls(d));return a.updateResult(),p},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),tt.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),Qu(s,u))throw Hu(s,a,o);if(Hd({result:u,errorResetBoundary:o,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash)}))throw u.error;return(h=(c=n.getDefaultOptions().queries)==null?void 0:c._experimental_afterQuery)==null||h.call(c,s,u),s.notifyOnChangeProps?u:a.trackResult(u)}function OO(r,t){return Xd(r,Es)}function IO(r,t){const e=wl(),[n]=tt.useState(()=>new _m(e,r));tt.useEffect(()=>{n.setOptions(r)},[n,r]);const i=tt.useSyncExternalStore(tt.useCallback(s=>n.subscribe(nt.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=tt.useCallback((s,a)=>{n.mutate(s,a).catch(wm)},[n]);if(i.error&&Vd(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function $O(r,t){return Xd(r,bm)}var Zd={exports:{}},Pm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[e]=i;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==i||s.enumerable!==!0)return!1}return!0},bc=typeof Symbol<"u"&&Symbol,Om=Pm,tp=function(){return typeof bc!="function"||typeof Symbol!="function"||typeof bc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Om()},B,Im=Xn,$m=Ui,Cm=Ni,Rm=xi,Bn=Nr,vn=D,Tm=ji,ep=Function,na=function(r){try{return ep('"use strict"; return ('+r+").constructor;")()}catch{}},gr=Object.getOwnPropertyDescriptor;if(gr)try{gr({},"")}catch{gr=null}var ia=function(){throw new vn},Dm=gr?function(){try{return arguments.callee,ia}catch{try{return gr(arguments,"callee").get}catch{return ia}}}():ia,Kr=tp(),Fm=Je(),gt=Object.getPrototypeOf||(Fm?function(r){return r.__proto__}:null),nn={},km=typeof Uint8Array>"u"||!gt?B:gt(Uint8Array),vr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?B:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?B:ArrayBuffer,"%ArrayIteratorPrototype%":Kr&&gt?gt([][Symbol.iterator]()):B,"%AsyncFromSyncIteratorPrototype%":B,"%AsyncFunction%":nn,"%AsyncGenerator%":nn,"%AsyncGeneratorFunction%":nn,"%AsyncIteratorPrototype%":nn,"%Atomics%":typeof Atomics>"u"?B:Atomics,"%BigInt%":typeof BigInt>"u"?B:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?B:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?B:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?B:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Im,"%eval%":eval,"%EvalError%":$m,"%Float32Array%":typeof Float32Array>"u"?B:Float32Array,"%Float64Array%":typeof Float64Array>"u"?B:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?B:FinalizationRegistry,"%Function%":ep,"%GeneratorFunction%":nn,"%Int8Array%":typeof Int8Array>"u"?B:Int8Array,"%Int16Array%":typeof Int16Array>"u"?B:Int16Array,"%Int32Array%":typeof Int32Array>"u"?B:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Kr&&gt?gt(gt([][Symbol.iterator]())):B,"%JSON%":typeof JSON=="object"?JSON:B,"%Map%":typeof Map>"u"?B:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Kr||!gt?B:gt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?B:Promise,"%Proxy%":typeof Proxy>"u"?B:Proxy,"%RangeError%":Cm,"%ReferenceError%":Rm,"%Reflect%":typeof Reflect>"u"?B:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?B:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Kr||!gt?B:gt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?B:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Kr&&gt?gt(""[Symbol.iterator]()):B,"%Symbol%":Kr?Symbol:B,"%SyntaxError%":Bn,"%ThrowTypeError%":Dm,"%TypedArray%":km,"%TypeError%":vn,"%Uint8Array%":typeof Uint8Array>"u"?B:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?B:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?B:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?B:Uint32Array,"%URIError%":Tm,"%WeakMap%":typeof WeakMap>"u"?B:WeakMap,"%WeakRef%":typeof WeakRef>"u"?B:WeakRef,"%WeakSet%":typeof WeakSet>"u"?B:WeakSet};if(gt)try{null.error}catch(r){var Um=gt(gt(r));vr["%Error.prototype%"]=Um}var Nm=function r(t){var e;if(t==="%AsyncFunction%")e=na("async function () {}");else if(t==="%GeneratorFunction%")e=na("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=na("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&gt&&(e=gt(i.prototype))}return vr[t]=e,e},_c={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ki=Kt,Jo=Yt,xm=Ki.call(Function.call,Array.prototype.concat),jm=Ki.call(Function.apply,Array.prototype.splice),Sc=Ki.call(Function.call,String.prototype.replace),Qo=Ki.call(Function.call,String.prototype.slice),Mm=Ki.call(Function.call,RegExp.prototype.exec),Bm=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Lm=/\\(\\)?/g,qm=function(t){var e=Qo(t,0,1),n=Qo(t,-1);if(e==="%"&&n!=="%")throw new Bn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new Bn("invalid intrinsic syntax, expected opening `%`");var i=[];return Sc(t,Bm,function(o,s,a,u){i[i.length]=a?Sc(u,Lm,"$1"):s||o}),i},Gm=function(t,e){var n=t,i;if(Jo(_c,n)&&(i=_c[n],n="%"+i[0]+"%"),Jo(vr,n)){var o=vr[n];if(o===nn&&(o=Nm(n)),typeof o>"u"&&!e)throw new vn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Bn("intrinsic "+t+" does not exist!")},Wm=function(t,e){if(typeof t!="string"||t.length===0)throw new vn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new vn('"allowMissing" argument must be a boolean');if(Mm(/^%?[^%]*%?$/,t)===null)throw new Bn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=qm(t),i=n.length>0?n[0]:"",o=Gm("%"+i+"%",e),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],jm(n,xm([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=Qo(h,0,1),p=Qo(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Bn("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(u=!0),i+="."+h,s="%"+i+"%",Jo(vr,s))a=vr[s];else if(a!=null){if(!(h in a)){if(!e)throw new vn("base intrinsic for "+t+" exists, but the property is not available.");return}if(gr&&f+1>=n.length){var g=gr(a,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else c=Jo(a,h),a=a[h];c&&!u&&(vr[s]=a)}}return a},L,Ln=SyntaxError,rp=Function,mn=TypeError,oa=function(r){try{return rp('"use strict"; return ('+r+").constructor;")()}catch{}},mr=Object.getOwnPropertyDescriptor;if(mr)try{mr({},"")}catch{mr=null}var sa=function(){throw new mn},zm=mr?function(){try{return arguments.callee,sa}catch{try{return mr(arguments,"callee").get}catch{return sa}}}():sa,Vr=tp(),Km=Je(),vt=Object.getPrototypeOf||(Km?function(r){return r.__proto__}:null),on={},Vm=typeof Uint8Array>"u"||!vt?L:vt(Uint8Array),br={"%AggregateError%":typeof AggregateError>"u"?L:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?L:ArrayBuffer,"%ArrayIteratorPrototype%":Vr&&vt?vt([][Symbol.iterator]()):L,"%AsyncFromSyncIteratorPrototype%":L,"%AsyncFunction%":on,"%AsyncGenerator%":on,"%AsyncGeneratorFunction%":on,"%AsyncIteratorPrototype%":on,"%Atomics%":typeof Atomics>"u"?L:Atomics,"%BigInt%":typeof BigInt>"u"?L:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?L:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?L:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?L:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?L:Float32Array,"%Float64Array%":typeof Float64Array>"u"?L:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?L:FinalizationRegistry,"%Function%":rp,"%GeneratorFunction%":on,"%Int8Array%":typeof Int8Array>"u"?L:Int8Array,"%Int16Array%":typeof Int16Array>"u"?L:Int16Array,"%Int32Array%":typeof Int32Array>"u"?L:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Vr&&vt?vt(vt([][Symbol.iterator]())):L,"%JSON%":typeof JSON=="object"?JSON:L,"%Map%":typeof Map>"u"?L:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Vr||!vt?L:vt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?L:Promise,"%Proxy%":typeof Proxy>"u"?L:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?L:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?L:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Vr||!vt?L:vt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?L:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Vr&&vt?vt(""[Symbol.iterator]()):L,"%Symbol%":Vr?Symbol:L,"%SyntaxError%":Ln,"%ThrowTypeError%":zm,"%TypedArray%":Vm,"%TypeError%":mn,"%Uint8Array%":typeof Uint8Array>"u"?L:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?L:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?L:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?L:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?L:WeakMap,"%WeakRef%":typeof WeakRef>"u"?L:WeakRef,"%WeakSet%":typeof WeakSet>"u"?L:WeakSet};if(vt)try{null.error}catch(r){var Jm=vt(vt(r));br["%Error.prototype%"]=Jm}var Qm=function r(t){var e;if(t==="%AsyncFunction%")e=oa("async function () {}");else if(t==="%GeneratorFunction%")e=oa("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=oa("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&vt&&(e=vt(i.prototype))}return br[t]=e,e},Ec={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Vi=Kt,Ho=_s,Hm=Vi.call(Function.call,Array.prototype.concat),Ym=Vi.call(Function.apply,Array.prototype.splice),wc=Vi.call(Function.call,String.prototype.replace),Yo=Vi.call(Function.call,String.prototype.slice),Xm=Vi.call(Function.call,RegExp.prototype.exec),Zm=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,tb=/\\(\\)?/g,eb=function(t){var e=Yo(t,0,1),n=Yo(t,-1);if(e==="%"&&n!=="%")throw new Ln("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new Ln("invalid intrinsic syntax, expected opening `%`");var i=[];return wc(t,Zm,function(o,s,a,u){i[i.length]=a?wc(u,tb,"$1"):s||o}),i},rb=function(t,e){var n=t,i;if(Ho(Ec,n)&&(i=Ec[n],n="%"+i[0]+"%"),Ho(br,n)){var o=br[n];if(o===on&&(o=Qm(n)),typeof o>"u"&&!e)throw new mn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Ln("intrinsic "+t+" does not exist!")},nb=function(t,e){if(typeof t!="string"||t.length===0)throw new mn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new mn('"allowMissing" argument must be a boolean');if(Xm(/^%?[^%]*%?$/,t)===null)throw new Ln("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=eb(t),i=n.length>0?n[0]:"",o=rb("%"+i+"%",e),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],Ym(n,Hm([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=Yo(h,0,1),p=Yo(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Ln("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(u=!0),i+="."+h,s="%"+i+"%",Ho(br,s))a=br[s];else if(a!=null){if(!(h in a)){if(!e)throw new mn("base intrinsic for "+t+" exists, but the property is not available.");return}if(mr&&f+1>=n.length){var g=mr(a,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else c=Ho(a,h),a=a[h];c&&!u&&(br[s]=a)}}return a},ib=nb,Ro=ib("%Object.getOwnPropertyDescriptor%",!0);if(Ro)try{Ro([],"length")}catch{Ro=null}var ob=Ro,sb=Wm,Ac=zi,ab=Zn(),Pc=ob,Oc=D,ub=sb("%Math.floor%"),lb=function(t,e){if(typeof t!="function")throw new Oc("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||ub(e)!==e)throw new Oc("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&Pc){var s=Pc(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(ab?Ac(t,"length",e,!0,!0):Ac(t,"length",e)),t};(function(r){var t=lb,e=Wi,n=Bi,i=ml;r.exports=function(s){var a=n(arguments),u=s.length-(arguments.length-1);return t(a,1+(u>0?u:0),!0)},e?e(r.exports,"apply",{value:i}):r.exports.apply=i})(Zd);var cb=Zd.exports,Ic=Object.prototype.toString,np=function(t){var e=Ic.call(t),n=e==="[object Arguments]";return n||(n=e!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Ic.call(t.callee)==="[object Function]"),n},aa,$c;function fb(){if($c)return aa;$c=1;var r;if(!Object.keys){var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=np,i=Object.prototype.propertyIsEnumerable,o=!i.call({toString:null},"toString"),s=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(h){var d=h.constructor;return d&&d.prototype===h},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!l["$"+h]&&t.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{u(window[h])}catch{return!0}}catch{return!0}return!1}(),c=function(h){if(typeof window>"u"||!f)return u(h);try{return u(h)}catch{return!1}};r=function(d){var p=d!==null&&typeof d=="object",g=e.call(d)==="[object Function]",S=n(d),E=p&&e.call(d)==="[object String]",_=[];if(!p&&!g&&!S)throw new TypeError("Object.keys called on a non-object");var w=s&&g;if(E&&d.length>0&&!t.call(d,0))for(var A=0;A<d.length;++A)_.push(String(A));if(S&&d.length>0)for(var O=0;O<d.length;++O)_.push(String(O));else for(var I in d)!(w&&I==="prototype")&&t.call(d,I)&&_.push(String(I));if(o)for(var F=c(d),$=0;$<a.length;++$)!(F&&a[$]==="constructor")&&t.call(d,a[$])&&_.push(a[$]);return _}}return aa=r,aa}var hb=Array.prototype.slice,db=np,Cc=Object.keys,To=Cc?function(t){return Cc(t)}:fb(),Rc=Object.keys;To.shim=function(){if(Object.keys){var t=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);t||(Object.keys=function(n){return db(n)?Rc(hb.call(n)):Rc(n)})}else Object.keys=To;return Object.keys||To};var pb=To,q,qn=SyntaxError,ip=Function,bn=TypeError,ua=function(r){try{return ip('"use strict"; return ('+r+").constructor;")()}catch{}},_r=Object.getOwnPropertyDescriptor;if(_r)try{_r({},"")}catch{_r=null}var la=function(){throw new bn},yb=_r?function(){try{return arguments.callee,la}catch{try{return _r(arguments,"callee").get}catch{return la}}}():la,Jr=Yn(),gb=Je(),mt=Object.getPrototypeOf||(gb?function(r){return r.__proto__}:null),sn={},vb=typeof Uint8Array>"u"||!mt?q:mt(Uint8Array),Sr={"%AggregateError%":typeof AggregateError>"u"?q:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?q:ArrayBuffer,"%ArrayIteratorPrototype%":Jr&&mt?mt([][Symbol.iterator]()):q,"%AsyncFromSyncIteratorPrototype%":q,"%AsyncFunction%":sn,"%AsyncGenerator%":sn,"%AsyncGeneratorFunction%":sn,"%AsyncIteratorPrototype%":sn,"%Atomics%":typeof Atomics>"u"?q:Atomics,"%BigInt%":typeof BigInt>"u"?q:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?q:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?q:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?q:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?q:Float32Array,"%Float64Array%":typeof Float64Array>"u"?q:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?q:FinalizationRegistry,"%Function%":ip,"%GeneratorFunction%":sn,"%Int8Array%":typeof Int8Array>"u"?q:Int8Array,"%Int16Array%":typeof Int16Array>"u"?q:Int16Array,"%Int32Array%":typeof Int32Array>"u"?q:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Jr&&mt?mt(mt([][Symbol.iterator]())):q,"%JSON%":typeof JSON=="object"?JSON:q,"%Map%":typeof Map>"u"?q:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Jr||!mt?q:mt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?q:Promise,"%Proxy%":typeof Proxy>"u"?q:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?q:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?q:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Jr||!mt?q:mt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?q:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Jr&&mt?mt(""[Symbol.iterator]()):q,"%Symbol%":Jr?Symbol:q,"%SyntaxError%":qn,"%ThrowTypeError%":yb,"%TypedArray%":vb,"%TypeError%":bn,"%Uint8Array%":typeof Uint8Array>"u"?q:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?q:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?q:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?q:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?q:WeakMap,"%WeakRef%":typeof WeakRef>"u"?q:WeakRef,"%WeakSet%":typeof WeakSet>"u"?q:WeakSet};if(mt)try{null.error}catch(r){var mb=mt(mt(r));Sr["%Error.prototype%"]=mb}var bb=function r(t){var e;if(t==="%AsyncFunction%")e=ua("async function () {}");else if(t==="%GeneratorFunction%")e=ua("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=ua("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&mt&&(e=mt(i.prototype))}return Sr[t]=e,e},Tc={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ji=Kt,Xo=_s,_b=Ji.call(Function.call,Array.prototype.concat),Sb=Ji.call(Function.apply,Array.prototype.splice),Dc=Ji.call(Function.call,String.prototype.replace),Zo=Ji.call(Function.call,String.prototype.slice),Eb=Ji.call(Function.call,RegExp.prototype.exec),wb=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ab=/\\(\\)?/g,Pb=function(t){var e=Zo(t,0,1),n=Zo(t,-1);if(e==="%"&&n!=="%")throw new qn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new qn("invalid intrinsic syntax, expected opening `%`");var i=[];return Dc(t,wb,function(o,s,a,u){i[i.length]=a?Dc(u,Ab,"$1"):s||o}),i},Ob=function(t,e){var n=t,i;if(Xo(Tc,n)&&(i=Tc[n],n="%"+i[0]+"%"),Xo(Sr,n)){var o=Sr[n];if(o===sn&&(o=bb(n)),typeof o>"u"&&!e)throw new bn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new qn("intrinsic "+t+" does not exist!")},op=function(t,e){if(typeof t!="string"||t.length===0)throw new bn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new bn('"allowMissing" argument must be a boolean');if(Eb(/^%?[^%]*%?$/,t)===null)throw new qn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Pb(t),i=n.length>0?n[0]:"",o=Ob("%"+i+"%",e),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],Sb(n,_b([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=Zo(h,0,1),p=Zo(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new qn("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(u=!0),i+="."+h,s="%"+i+"%",Xo(Sr,s))a=Sr[s];else if(a!=null){if(!(h in a)){if(!e)throw new bn("base intrinsic for "+t+" exists, but the property is not available.");return}if(_r&&f+1>=n.length){var g=_r(a,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else c=Xo(a,h),a=a[h];c&&!u&&(Sr[s]=a)}}return a},Ib=op,Yu=Ib("%Object.defineProperty%",!0),Xu=function(){if(Yu)try{return Yu({},"a",{value:1}),!0}catch{return!1}return!1};Xu.hasArrayLengthDefineBug=function(){if(!Xu())return null;try{return Yu([],"length",{value:1}).length!==1}catch{return!0}};var sp=Xu,$b=sp(),Al=op,hi=$b&&Al("%Object.defineProperty%",!0);if(hi)try{hi({},"a",{value:1})}catch{hi=!1}var Cb=Al("%SyntaxError%"),Qr=Al("%TypeError%"),Fc=pl,Rb=function(t,e,n){if(!t||typeof t!="object"&&typeof t!="function")throw new Qr("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new Qr("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Qr("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Qr("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Qr("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Qr("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!Fc&&Fc(t,e);if(hi)hi(t,e,{configurable:s===null&&u?u.configurable:!s,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:o===null&&u?u.writable:!o});else if(a||!i&&!o&&!s)t[e]=n;else throw new Cb("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Tb=pb,Db=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Fb=Object.prototype.toString,kb=Array.prototype.concat,kc=Rb,Ub=function(r){return typeof r=="function"&&Fb.call(r)==="[object Function]"},ap=sp(),Nb=function(r,t,e,n){if(t in r){if(n===!0){if(r[t]===e)return}else if(!Ub(n)||!n())return}ap?kc(r,t,e,!0):kc(r,t,e)},up=function(r,t){var e=arguments.length>2?arguments[2]:{},n=Tb(t);Db&&(n=kb.call(n,Object.getOwnPropertySymbols(t)));for(var i=0;i<n.length;i+=1)Nb(r,n[i],t[n[i]],e[n[i]])};up.supportsDescriptors=!!ap;var ti=up,xb=St,lp=xb("%Array%"),jb=!lp.isArray&&Ft("Object.prototype.toString"),cp=lp.isArray||function(t){return jb(t)==="[object Array]"},fp=cp,Mb=St,Bb=Ft,Lb=D,qb=fp,Gb=Mb("%Reflect.apply%",!0)||Bb("Function.prototype.apply"),hp=function(t,e){var n=arguments.length>2?arguments[2]:[];if(!qb(n))throw new Lb("Assertion failed: optional `argumentsList`, if provided, must be a List");return Gb(t,e,n)},Uc={},Pl=typeof Map=="function"&&Map.prototype,ca=Object.getOwnPropertyDescriptor&&Pl?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ts=Pl&&ca&&typeof ca.get=="function"?ca.get:null,Nc=Pl&&Map.prototype.forEach,Ol=typeof Set=="function"&&Set.prototype,fa=Object.getOwnPropertyDescriptor&&Ol?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,es=Ol&&fa&&typeof fa.get=="function"?fa.get:null,xc=Ol&&Set.prototype.forEach,Wb=typeof WeakMap=="function"&&WeakMap.prototype,di=Wb?WeakMap.prototype.has:null,zb=typeof WeakSet=="function"&&WeakSet.prototype,pi=zb?WeakSet.prototype.has:null,Kb=typeof WeakRef=="function"&&WeakRef.prototype,jc=Kb?WeakRef.prototype.deref:null,Vb=Boolean.prototype.valueOf,Jb=Object.prototype.toString,Qb=Function.prototype.toString,Hb=String.prototype.match,Il=String.prototype.slice,We=String.prototype.replace,Yb=String.prototype.toUpperCase,Mc=String.prototype.toLowerCase,dp=RegExp.prototype.test,Bc=Array.prototype.concat,me=Array.prototype.join,Xb=Array.prototype.slice,Lc=Math.floor,Zu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ha=Object.getOwnPropertySymbols,tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",yi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Gn||!0)?Symbol.toStringTag:null,pp=Object.prototype.propertyIsEnumerable,qc=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function Gc(r,t){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||dp.call(/e/,t))return t;var e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var n=r<0?-Lc(-r):Lc(r);if(n!==r){var i=String(n),o=Il.call(t,i.length+1);return We.call(i,e,"$&_")+"."+We.call(We.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return We.call(t,e,"$&_")}var el=Wy,Wc=el.custom,zc=vp(Wc)?Wc:null,yp={__proto__:null,double:'"',single:"'"},Zb={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},jr=function r(t,e,n,i){var o=e||{};if(we(o,"quoteStyle")&&!we(yp,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(we(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=we(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(we(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(we(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return bp(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return a?Gc(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return a?Gc(t,l):l}var f=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof t=="object")return rl(t)?"[Array]":"[Object]";var c=v_(o,n);if(typeof i>"u")i=[];else if(mp(i,t)>=0)return"[Circular]";function h(st,ht,Xt){if(ht&&(i=Xb.call(i),i.push(ht)),Xt){var be={depth:o.depth};return we(o,"quoteStyle")&&(be.quoteStyle=o.quoteStyle),r(st,be,n+1,i)}return r(st,o,n+1,i)}if(typeof t=="function"&&!Kc(t)){var d=u_(t),p=ho(t,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+me.call(p,", ")+" }":"")}if(vp(t)){var g=Gn?We.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):tl.call(t);return typeof t=="object"&&!Gn?oi(g):g}if(p_(t)){for(var S="<"+Mc.call(String(t.nodeName)),E=t.attributes||[],_=0;_<E.length;_++)S+=" "+E[_].name+"="+gp(t_(E[_].value),"double",o);return S+=">",t.childNodes&&t.childNodes.length&&(S+="..."),S+="</"+Mc.call(String(t.nodeName))+">",S}if(rl(t)){if(t.length===0)return"[]";var w=ho(t,h);return c&&!g_(w)?"["+nl(w,c)+"]":"[ "+me.call(w,", ")+" ]"}if(r_(t)){var A=ho(t,h);return!("cause"in Error.prototype)&&"cause"in t&&!pp.call(t,"cause")?"{ ["+String(t)+"] "+me.call(Bc.call("[cause]: "+h(t.cause),A),", ")+" }":A.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+me.call(A,", ")+" }"}if(typeof t=="object"&&s){if(zc&&typeof t[zc]=="function"&&el)return el(t,{depth:f-n});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(l_(t)){var O=[];return Nc&&Nc.call(t,function(st,ht){O.push(h(ht,t,!0)+" => "+h(st,t))}),Vc("Map",ts.call(t),O,c)}if(h_(t)){var I=[];return xc&&xc.call(t,function(st){I.push(h(st,t))}),Vc("Set",es.call(t),I,c)}if(c_(t))return da("WeakMap");if(d_(t))return da("WeakSet");if(f_(t))return da("WeakRef");if(i_(t))return oi(h(Number(t)));if(s_(t))return oi(h(Zu.call(t)));if(o_(t))return oi(Vb.call(t));if(n_(t))return oi(h(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof Uc<"u"&&t===Uc)return"{ [object globalThis] }";if(!e_(t)&&!Kc(t)){var F=ho(t,h),$=qc?qc(t)===Object.prototype:t instanceof Object||t.constructor===Object,K=t instanceof Object?"":"null prototype",et=!$&&yi&&Object(t)===t&&yi in t?Il.call(Qe(t),8,-1):K?"Object":"",ft=$||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",ct=ft+(et||K?"["+me.call(Bc.call([],et||[],K||[]),": ")+"] ":"");return F.length===0?ct+"{}":c?ct+"{"+nl(F,c)+"}":ct+"{ "+me.call(F,", ")+" }"}return String(t)};function gp(r,t,e){var n=e.quoteStyle||t,i=yp[n];return i+r+i}function t_(r){return We.call(String(r),/"/g,"&quot;")}function Mr(r){return!yi||!(typeof r=="object"&&(yi in r||typeof r[yi]<"u"))}function rl(r){return Qe(r)==="[object Array]"&&Mr(r)}function e_(r){return Qe(r)==="[object Date]"&&Mr(r)}function Kc(r){return Qe(r)==="[object RegExp]"&&Mr(r)}function r_(r){return Qe(r)==="[object Error]"&&Mr(r)}function n_(r){return Qe(r)==="[object String]"&&Mr(r)}function i_(r){return Qe(r)==="[object Number]"&&Mr(r)}function o_(r){return Qe(r)==="[object Boolean]"&&Mr(r)}function vp(r){if(Gn)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!tl)return!1;try{return tl.call(r),!0}catch{}return!1}function s_(r){if(!r||typeof r!="object"||!Zu)return!1;try{return Zu.call(r),!0}catch{}return!1}var a_=Object.prototype.hasOwnProperty||function(r){return r in this};function we(r,t){return a_.call(r,t)}function Qe(r){return Jb.call(r)}function u_(r){if(r.name)return r.name;var t=Hb.call(Qb.call(r),/^function\s*([\w$]+)/);return t?t[1]:null}function mp(r,t){if(r.indexOf)return r.indexOf(t);for(var e=0,n=r.length;e<n;e++)if(r[e]===t)return e;return-1}function l_(r){if(!ts||!r||typeof r!="object")return!1;try{ts.call(r);try{es.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function c_(r){if(!di||!r||typeof r!="object")return!1;try{di.call(r,di);try{pi.call(r,pi)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function f_(r){if(!jc||!r||typeof r!="object")return!1;try{return jc.call(r),!0}catch{}return!1}function h_(r){if(!es||!r||typeof r!="object")return!1;try{es.call(r);try{ts.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function d_(r){if(!pi||!r||typeof r!="object")return!1;try{pi.call(r,pi);try{di.call(r,di)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function p_(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function bp(r,t){if(r.length>t.maxStringLength){var e=r.length-t.maxStringLength,n="... "+e+" more character"+(e>1?"s":"");return bp(Il.call(r,0,t.maxStringLength),t)+n}var i=Zb[t.quoteStyle||"single"];i.lastIndex=0;var o=We.call(We.call(r,i,"\\$1"),/[\x00-\x1f]/g,y_);return gp(o,"single",t)}function y_(r){var t=r.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+Yb.call(t.toString(16))}function oi(r){return"Object("+r+")"}function da(r){return r+" { ? }"}function Vc(r,t,e,n){var i=n?nl(e,n):me.call(e,", ");return r+" ("+t+") {"+i+"}"}function g_(r){for(var t=0;t<r.length;t++)if(mp(r[t],`
`)>=0)return!1;return!0}function v_(r,t){var e;if(r.indent==="	")e="	";else if(typeof r.indent=="number"&&r.indent>0)e=me.call(Array(r.indent+1)," ");else return null;return{base:e,prev:me.call(Array(t+1),e)}}function nl(r,t){if(r.length===0)return"";var e=`
`+t.prev+t.base;return e+me.call(r,","+e)+`
`+t.prev}function ho(r,t){var e=rl(r),n=[];if(e){n.length=r.length;for(var i=0;i<r.length;i++)n[i]=we(r,i)?t(r[i],r):""}var o=typeof ha=="function"?ha(r):[],s;if(Gn){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var u in r)we(r,u)&&(e&&String(Number(u))===u&&u<r.length||Gn&&s["$"+u]instanceof Symbol||(dp.call(/[^\w$]/,u)?n.push(t(u,r)+": "+t(r[u],r)):n.push(u+": "+t(r[u],r))));if(typeof ha=="function")for(var l=0;l<o.length;l++)pp.call(r,o[l])&&n.push("["+t(o[l])+"]: "+t(r[o[l]],r));return n}var ce=function(t){return!!t&&(typeof t=="function"||typeof t=="object")},ei=function(t){return typeof t=="string"||typeof t=="symbol"},Jc=D,m_=jr,b_=ce,__=ei,ws=function(t,e){if(!b_(t))throw new Jc("Assertion failed: Type(O) is not Object");if(!__(e))throw new Jc("Assertion failed: P is not a Property Key, got "+m_(e));return t[e]},S_=D,E_=jr,w_=ei,A_=function(t,e){if(!w_(e))throw new S_("Assertion failed: P is not a Property Key, got "+E_(e));return t[e]},$l=gd,Qc=D,P_=A_,O_=$l,I_=ei,Hc=jr,$_=function(t,e){if(!I_(e))throw new Qc("Assertion failed: P is not a Property Key");var n=P_(t,e);if(n!=null){if(!O_(n))throw new Qc(Hc(e)+" is not a function: "+Hc(n));return n}},pa,Yc;function C_(){return Yc||(Yc=1,pa=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[e]=i;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==i||s.enumerable!==!0)return!1}return!0}),pa}var ya,Xc;function R_(){if(Xc)return ya;Xc=1;var r=C_();return ya=function(){return r()&&!!Symbol.toStringTag},ya}var ga,Zc;function T_(){return Zc||(Zc=1,ga=Object.getOwnPropertyDescriptor),ga}var va,tf;function D_(){if(tf)return va;tf=1;var r=T_();if(r)try{r([],"length")}catch{r=null}return va=r,va}var ma,ef;function F_(){if(ef)return ma;ef=1;var r=Ft,t=R_()(),e=Yt,n=D_(),i;if(t){var o=r("RegExp.prototype.exec"),s={},a=function(){throw s},u={toString:a,valueOf:a};typeof Symbol.toPrimitive=="symbol"&&(u[Symbol.toPrimitive]=a),i=function(h){if(!h||typeof h!="object")return!1;var d=n(h,"lastIndex"),p=d&&e(d,"value");if(!p)return!1;try{o(h,u)}catch(g){return g===s}}}else{var l=r("Object.prototype.toString"),f="[object RegExp]";i=function(h){return!h||typeof h!="object"&&typeof h!="function"?!1:l(h)===f}}return ma=i,ma}var ba,rf;function _p(){return rf||(rf=1,ba=function(t){return!!t}),ba}var k_=St,nf=k_("%Symbol.match%",!0),U_=F_(),N_=_p(),x_=ce,j_=function(t){if(!x_(t))return!1;if(nf){var e=t[nf];if(typeof e<"u")return N_(e)}return U_(t)},M_=St,B_=M_("%String%"),L_=D,As=function(t){if(typeof t=="symbol")throw new L_("Cannot convert a Symbol value to a string");return B_(t)},q_=D,Cl=function(t){if(t==null)throw new q_(arguments.length>0&&arguments[1]||"Cannot call method on "+t);return t},G_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[e]=i;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,e);if(a.value!==i||a.enumerable!==!0)return!1}return!0},of=typeof Symbol<"u"&&Symbol,W_=G_,Rl=function(){return typeof of!="function"||typeof Symbol!="function"||typeof of("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:W_()},Sp={exports:{}},G,z_=Xn,K_=Ui,V_=Ni,J_=xi,Wn=Nr,_n=D,Q_=ji,Ep=Function,_a=function(r){try{return Ep('"use strict"; return ('+r+").constructor;")()}catch{}},Er=Object.getOwnPropertyDescriptor;if(Er)try{Er({},"")}catch{Er=null}var Sa=function(){throw new _n},H_=Er?function(){try{return arguments.callee,Sa}catch{try{return Er(arguments,"callee").get}catch{return Sa}}}():Sa,Hr=Yn(),Y_=Je(),bt=Object.getPrototypeOf||(Y_?function(r){return r.__proto__}:null),an={},X_=typeof Uint8Array>"u"||!bt?G:bt(Uint8Array),wr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?G:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?G:ArrayBuffer,"%ArrayIteratorPrototype%":Hr&&bt?bt([][Symbol.iterator]()):G,"%AsyncFromSyncIteratorPrototype%":G,"%AsyncFunction%":an,"%AsyncGenerator%":an,"%AsyncGeneratorFunction%":an,"%AsyncIteratorPrototype%":an,"%Atomics%":typeof Atomics>"u"?G:Atomics,"%BigInt%":typeof BigInt>"u"?G:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?G:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?G:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?G:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":z_,"%eval%":eval,"%EvalError%":K_,"%Float32Array%":typeof Float32Array>"u"?G:Float32Array,"%Float64Array%":typeof Float64Array>"u"?G:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?G:FinalizationRegistry,"%Function%":Ep,"%GeneratorFunction%":an,"%Int8Array%":typeof Int8Array>"u"?G:Int8Array,"%Int16Array%":typeof Int16Array>"u"?G:Int16Array,"%Int32Array%":typeof Int32Array>"u"?G:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Hr&&bt?bt(bt([][Symbol.iterator]())):G,"%JSON%":typeof JSON=="object"?JSON:G,"%Map%":typeof Map>"u"?G:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Hr||!bt?G:bt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?G:Promise,"%Proxy%":typeof Proxy>"u"?G:Proxy,"%RangeError%":V_,"%ReferenceError%":J_,"%Reflect%":typeof Reflect>"u"?G:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?G:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Hr||!bt?G:bt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?G:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Hr&&bt?bt(""[Symbol.iterator]()):G,"%Symbol%":Hr?Symbol:G,"%SyntaxError%":Wn,"%ThrowTypeError%":H_,"%TypedArray%":X_,"%TypeError%":_n,"%Uint8Array%":typeof Uint8Array>"u"?G:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?G:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?G:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?G:Uint32Array,"%URIError%":Q_,"%WeakMap%":typeof WeakMap>"u"?G:WeakMap,"%WeakRef%":typeof WeakRef>"u"?G:WeakRef,"%WeakSet%":typeof WeakSet>"u"?G:WeakSet};if(bt)try{null.error}catch(r){var Z_=bt(bt(r));wr["%Error.prototype%"]=Z_}var tS=function r(t){var e;if(t==="%AsyncFunction%")e=_a("async function () {}");else if(t==="%GeneratorFunction%")e=_a("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=_a("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&bt&&(e=bt(i.prototype))}return wr[t]=e,e},sf={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Qi=Kt,rs=Yt,eS=Qi.call(Function.call,Array.prototype.concat),rS=Qi.call(Function.apply,Array.prototype.splice),af=Qi.call(Function.call,String.prototype.replace),ns=Qi.call(Function.call,String.prototype.slice),nS=Qi.call(Function.call,RegExp.prototype.exec),iS=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oS=/\\(\\)?/g,sS=function(t){var e=ns(t,0,1),n=ns(t,-1);if(e==="%"&&n!=="%")throw new Wn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new Wn("invalid intrinsic syntax, expected opening `%`");var i=[];return af(t,iS,function(o,s,a,u){i[i.length]=a?af(u,oS,"$1"):s||o}),i},aS=function(t,e){var n=t,i;if(rs(sf,n)&&(i=sf[n],n="%"+i[0]+"%"),rs(wr,n)){var o=wr[n];if(o===an&&(o=tS(n)),typeof o>"u"&&!e)throw new _n("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new Wn("intrinsic "+t+" does not exist!")},uS=function(t,e){if(typeof t!="string"||t.length===0)throw new _n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new _n('"allowMissing" argument must be a boolean');if(nS(/^%?[^%]*%?$/,t)===null)throw new Wn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=sS(t),i=n.length>0?n[0]:"",o=aS("%"+i+"%",e),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],rS(n,eS([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=ns(h,0,1),p=ns(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Wn("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(u=!0),i+="."+h,s="%"+i+"%",rs(wr,s))a=wr[s];else if(a!=null){if(!(h in a)){if(!e)throw new _n("base intrinsic for "+t+" exists, but the property is not available.");return}if(Er&&f+1>=n.length){var g=Er(a,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else c=rs(a,h),a=a[h];c&&!u&&(wr[s]=a)}}return a},W,zn=SyntaxError,wp=Function,Sn=TypeError,Ea=function(r){try{return wp('"use strict"; return ('+r+").constructor;")()}catch{}},Ar=Object.getOwnPropertyDescriptor;if(Ar)try{Ar({},"")}catch{Ar=null}var wa=function(){throw new Sn},lS=Ar?function(){try{return arguments.callee,wa}catch{try{return Ar(arguments,"callee").get}catch{return wa}}}():wa,Yr=Yn(),cS=Je(),_t=Object.getPrototypeOf||(cS?function(r){return r.__proto__}:null),un={},fS=typeof Uint8Array>"u"||!_t?W:_t(Uint8Array),Pr={"%AggregateError%":typeof AggregateError>"u"?W:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?W:ArrayBuffer,"%ArrayIteratorPrototype%":Yr&&_t?_t([][Symbol.iterator]()):W,"%AsyncFromSyncIteratorPrototype%":W,"%AsyncFunction%":un,"%AsyncGenerator%":un,"%AsyncGeneratorFunction%":un,"%AsyncIteratorPrototype%":un,"%Atomics%":typeof Atomics>"u"?W:Atomics,"%BigInt%":typeof BigInt>"u"?W:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?W:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?W:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?W:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?W:Float32Array,"%Float64Array%":typeof Float64Array>"u"?W:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?W:FinalizationRegistry,"%Function%":wp,"%GeneratorFunction%":un,"%Int8Array%":typeof Int8Array>"u"?W:Int8Array,"%Int16Array%":typeof Int16Array>"u"?W:Int16Array,"%Int32Array%":typeof Int32Array>"u"?W:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Yr&&_t?_t(_t([][Symbol.iterator]())):W,"%JSON%":typeof JSON=="object"?JSON:W,"%Map%":typeof Map>"u"?W:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Yr||!_t?W:_t(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?W:Promise,"%Proxy%":typeof Proxy>"u"?W:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?W:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?W:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Yr||!_t?W:_t(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?W:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Yr&&_t?_t(""[Symbol.iterator]()):W,"%Symbol%":Yr?Symbol:W,"%SyntaxError%":zn,"%ThrowTypeError%":lS,"%TypedArray%":fS,"%TypeError%":Sn,"%Uint8Array%":typeof Uint8Array>"u"?W:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?W:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?W:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?W:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?W:WeakMap,"%WeakRef%":typeof WeakRef>"u"?W:WeakRef,"%WeakSet%":typeof WeakSet>"u"?W:WeakSet};if(_t)try{null.error}catch(r){var hS=_t(_t(r));Pr["%Error.prototype%"]=hS}var dS=function r(t){var e;if(t==="%AsyncFunction%")e=Ea("async function () {}");else if(t==="%GeneratorFunction%")e=Ea("function* () {}");else if(t==="%AsyncGeneratorFunction%")e=Ea("async function* () {}");else if(t==="%AsyncGenerator%"){var n=r("%AsyncGeneratorFunction%");n&&(e=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=r("%AsyncGenerator%");i&&_t&&(e=_t(i.prototype))}return Pr[t]=e,e},uf={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hi=Kt,is=_s,pS=Hi.call(Function.call,Array.prototype.concat),yS=Hi.call(Function.apply,Array.prototype.splice),lf=Hi.call(Function.call,String.prototype.replace),os=Hi.call(Function.call,String.prototype.slice),gS=Hi.call(Function.call,RegExp.prototype.exec),vS=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mS=/\\(\\)?/g,bS=function(t){var e=os(t,0,1),n=os(t,-1);if(e==="%"&&n!=="%")throw new zn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new zn("invalid intrinsic syntax, expected opening `%`");var i=[];return lf(t,vS,function(o,s,a,u){i[i.length]=a?lf(u,mS,"$1"):s||o}),i},_S=function(t,e){var n=t,i;if(is(uf,n)&&(i=uf[n],n="%"+i[0]+"%"),is(Pr,n)){var o=Pr[n];if(o===un&&(o=dS(n)),typeof o>"u"&&!e)throw new Sn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new zn("intrinsic "+t+" does not exist!")},SS=function(t,e){if(typeof t!="string"||t.length===0)throw new Sn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Sn('"allowMissing" argument must be a boolean');if(gS(/^%?[^%]*%?$/,t)===null)throw new zn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=bS(t),i=n.length>0?n[0]:"",o=_S("%"+i+"%",e),s=o.name,a=o.value,u=!1,l=o.alias;l&&(i=l[0],yS(n,pS([0,1],l)));for(var f=1,c=!0;f<n.length;f+=1){var h=n[f],d=os(h,0,1),p=os(h,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new zn("property names with quotes must have matching quotes");if((h==="constructor"||!c)&&(u=!0),i+="."+h,s="%"+i+"%",is(Pr,s))a=Pr[s];else if(a!=null){if(!(h in a)){if(!e)throw new Sn("base intrinsic for "+t+" exists, but the property is not available.");return}if(Ar&&f+1>=n.length){var g=Ar(a,h);c=!!g,c&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[h]}else c=is(a,h),a=a[h];c&&!u&&(Pr[s]=a)}}return a},ES=SS,Do=ES("%Object.getOwnPropertyDescriptor%",!0);if(Do)try{Do([],"length")}catch{Do=null}var wS=Do,AS=uS,cf=zi,PS=Zn(),ff=wS,hf=D,OS=AS("%Math.floor%"),IS=function(t,e){if(typeof t!="function")throw new hf("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||OS(e)!==e)throw new hf("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in t&&ff){var s=ff(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!n)&&(PS?cf(t,"length",e,!0,!0):cf(t,"length",e)),t};(function(r){var t=IS,e=Wi,n=Bi,i=ml;r.exports=function(s){var a=n(arguments),u=s.length-(arguments.length-1);return t(a,1+(u>0?u:0),!0)},e?e(r.exports,"apply",{value:i}):r.exports.apply=i})(Sp);var $S=Sp.exports,Ei=function(){return typeof(function(){}).name=="string"},gi=Object.getOwnPropertyDescriptor;if(gi)try{gi([],"length")}catch{gi=null}Ei.functionsHaveConfigurableNames=function(){if(!Ei()||!gi)return!1;var t=gi(function(){},"name");return!!t&&!!t.configurable};var CS=Function.prototype.bind;Ei.boundFunctionsHaveNames=function(){return Ei()&&typeof CS=="function"&&(function(){}).bind().name!==""};var RS=Ei,df=zi,TS=Zn(),DS=RS.functionsHaveConfigurableNames(),FS=D,Ap=function(t,e){if(typeof t!="function")throw new FS("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||DS)&&(TS?df(t,"name",e,!0,!0):df(t,"name",e)),t},kS=Ap,US=D,NS=Object,Pp=kS(function(){if(this==null||this!==NS(this))throw new US("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},"get flags",!0),xS=Pp,jS=ti.supportsDescriptors,MS=Object.getOwnPropertyDescriptor,Op=function(){if(jS&&/a/mig.flags==="gim"){var t=MS(RegExp.prototype,"flags");if(t&&typeof t.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var e="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(n,"sticky",{get:function(){e+="y"}}),t.get.call(n),e==="dy")return t.get}}return xS},BS=Object.getOwnPropertyDescriptor,Fo=BS;if(Fo)try{Fo([],"length")}catch{Fo=null}var LS=Fo,qS=ti.supportsDescriptors,GS=Op,WS=LS,zS=Object.defineProperty,KS=Xn,pf=Ad,VS=/a/,JS=function(){if(!qS||!pf)throw new KS("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=GS(),e=pf(VS),n=WS(e,"flags");return(!n||n.get!==t)&&zS(e,"flags",{configurable:!0,enumerable:!1,get:t}),t},QS=ti,HS=$S,YS=Pp,Ip=Op,XS=JS,$p=HS(Ip());QS($p,{getPolyfill:Ip,implementation:YS,shim:XS});var Cp=$p,ZS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[e]=i;for(var o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(t,e);if(a.value!==i||a.enumerable!==!0)return!1}return!0},yf=typeof Symbol<"u"&&Symbol,tE=ZS,Rp=function(){return typeof yf!="function"||typeof Symbol!="function"||typeof yf("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:tE()},Aa,gf;function Tp(){return gf||(gf=1,Aa=function(t){return typeof t=="number"&&t>=55296&&t<=56319}),Aa}var Pa,vf;function Dp(){return vf||(vf=1,Pa=function(t){return typeof t=="number"&&t>=56320&&t<=57343}),Pa}var Oa,mf;function eE(){if(mf)return Oa;mf=1;var r=St,t=D,e=r("%String.fromCharCode%"),n=Tp(),i=Dp();return Oa=function(s,a){if(!n(s)||!i(a))throw new t("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return e(s)+e(a)},Oa}var Ia,bf;function rE(){if(bf)return Ia;bf=1;var r=D,t=Ft,e=Tp(),n=Dp(),i=eE(),o=t("String.prototype.charAt"),s=t("String.prototype.charCodeAt");return Ia=function(u,l){if(typeof u!="string")throw new r("Assertion failed: `string` must be a String");var f=u.length;if(l<0||l>=f)throw new r("Assertion failed: `position` must be >= 0, and < the length of `string`");var c=s(u,l),h=o(u,l),d=e(c),p=n(c);if(!d&&!p)return{"[[CodePoint]]":h,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(p||l+1===f)return{"[[CodePoint]]":h,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var g=s(u,l+1);return n(g)?{"[[CodePoint]]":i(c,g),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":h,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}},Ia}var nE=Mi,Fp=function(t){return(typeof t=="number"||typeof t=="bigint")&&!nE(t)&&t!==1/0&&t!==-1/0},$a,_f;function iE(){if(_f)return $a;_f=1;var r=md,t=yl,e=Mi,n=Fp;return $a=function(o){if(typeof o!="number"||e(o)||!n(o))return!1;var s=r(o);return t(s)===s},$a}var kp=Number.MAX_SAFE_INTEGER||9007199254740991,Ca,Sf;function oE(){if(Sf)return Ca;Sf=1;var r=rE(),t=D,e=iE(),n=kp;return Ca=function(o,s,a){if(typeof o!="string")throw new t("Assertion failed: `S` must be a String");if(!e(s)||s<0||s>n)throw new t("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if(typeof a!="boolean")throw new t("Assertion failed: `unicode` must be a Boolean");if(!a)return s+1;var u=o.length;if(s+1>=u)return s+1;var l=r(o,s);return s+l["[[CodeUnitCount]]"]},Ca}var Ra,Ef;function sE(){if(Ef)return Ra;Ef=1;var r=D;return Ra=function(e,n){if(typeof n!="boolean")throw new r("Assertion failed: Type(done) is not Boolean");return{value:e,done:n}},Ra}var Ta,wf;function Tl(){if(wf)return Ta;wf=1;var r=D,t=Yt,e={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};return Ta=function(i){if(!i||typeof i!="object")return!1;for(var o in i)if(t(i,o)&&!e[o])return!1;var s=t(i,"[[Value]]")||t(i,"[[Writable]]"),a=t(i,"[[Get]]")||t(i,"[[Set]]");if(s&&a)throw new r("Property Descriptors may not be both accessor and data descriptors");return!0},Ta}var Da,Af;function aE(){if(Af)return Da;Af=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return Da=r,Da}var Fa,Pf;function uE(){if(Pf)return Fa;Pf=1;var r=Zn,t=aE(),e=r.hasArrayLengthDefineBug(),n=e&&cp,i=Ft,o=i("Object.prototype.propertyIsEnumerable");return Fa=function(a,u,l,f,c,h){if(!t){if(!a(h)||!h["[[Configurable]]"]||!h["[[Writable]]"]||c in f&&o(f,c)!==!!h["[[Enumerable]]"])return!1;var d=h["[[Value]]"];return f[c]=d,u(f[c],d)}return e&&c==="length"&&"[[Value]]"in h&&n(f)&&f.length!==h["[[Value]]"]?(f.length=h["[[Value]]"],f.length===h["[[Value]]"]):(t(f,c,l(h)),!0)},Fa}var ka,Of;function lE(){return Of||(Of=1,ka=function(t){if(typeof t>"u")return t;var e={};return"[[Value]]"in t&&(e.value=t["[[Value]]"]),"[[Writable]]"in t&&(e.writable=!!t["[[Writable]]"]),"[[Get]]"in t&&(e.get=t["[[Get]]"]),"[[Set]]"in t&&(e.set=t["[[Set]]"]),"[[Enumerable]]"in t&&(e.enumerable=!!t["[[Enumerable]]"]),"[[Configurable]]"in t&&(e.configurable=!!t["[[Configurable]]"]),e}),ka}var Ua,If;function cE(){if(If)return Ua;If=1;var r=D,t=Tl(),e=lE();return Ua=function(i){if(typeof i<"u"&&!t(i))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return e(i)},Ua}var Na,$f;function fE(){if($f)return Na;$f=1;var r=D,t=Yt,e=Tl();return Na=function(i){if(typeof i>"u")return!1;if(!e(i))throw new r("Assertion failed: `Desc` must be a Property Descriptor");return!(!t(i,"[[Value]]")&&!t(i,"[[Writable]]"))},Na}var Cf=Mi,Up=function(t,e){return t===e?t===0?1/t===1/e:!0:Cf(t)&&Cf(e)},xa,Rf;function hE(){if(Rf)return xa;Rf=1;var r=Yt,t=D,e=$l,n=_p(),i=ce;return xa=function(s){if(!i(s))throw new t("ToPropertyDescriptor requires an object");var a={};if(r(s,"enumerable")&&(a["[[Enumerable]]"]=n(s.enumerable)),r(s,"configurable")&&(a["[[Configurable]]"]=n(s.configurable)),r(s,"value")&&(a["[[Value]]"]=s.value),r(s,"writable")&&(a["[[Writable]]"]=n(s.writable)),r(s,"get")){var u=s.get;if(typeof u<"u"&&!e(u))throw new t("getter must be a function");a["[[Get]]"]=u}if(r(s,"set")){var l=s.set;if(typeof l<"u"&&!e(l))throw new t("setter must be a function");a["[[Set]]"]=l}if((r(a,"[[Get]]")||r(a,"[[Set]]"))&&(r(a,"[[Value]]")||r(a,"[[Writable]]")))throw new t("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return a},xa}var ja,Tf;function Np(){if(Tf)return ja;Tf=1;var r=D,t=Tl(),e=uE(),n=cE(),i=fE(),o=ei,s=Up,a=hE(),u=ce;return ja=function(f,c,h){if(!u(f))throw new r("Assertion failed: Type(O) is not Object");if(!o(c))throw new r("Assertion failed: P is not a Property Key");var d=t(h)?h:a(h);if(!t(d))throw new r("Assertion failed: Desc is not a valid Property Descriptor");return e(i,s,n,f,c,d)},ja}var Ma,Df;function xp(){return Df||(Df=1,Ma=function(t){return t===null||typeof t!="function"&&typeof t!="object"}),Ma}var Ba,Ff;function dE(){if(Ff)return Ba;Ff=1;var r=St,t=r("%Object.preventExtensions%",!0),e=r("%Object.isExtensible%",!0),n=xp();return Ba=t?function(o){return!n(o)&&e(o)}:function(o){return!n(o)},Ba}var La,kf;function pE(){if(kf)return La;kf=1;var r=D,t=Np(),e=dE(),n=ce,i=ei;return La=function(s,a,u,l){if(!n(s))throw new r("Assertion failed: `homeObject` is not an Object");if(!i(a))throw new r("Assertion failed: `key` is not a Property Key or a Private Name");if(typeof u!="function")throw new r("Assertion failed: `closure` is not a function");if(typeof l!="boolean")throw new r("Assertion failed: `enumerable` is not a Boolean");if(!e(s))throw new r("Assertion failed: `homeObject` is not an ordinary, extensible object, with no non-configurable properties");var f={"[[Value]]":u,"[[Writable]]":!0,"[[Enumerable]]":l,"[[Configurable]]":!0};t(s,a,f)},La}var qa,Uf;function yE(){return Uf||(Uf=1,qa=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)}),qa}var Ga,Nf;function gE(){if(Nf)return Ga;Nf=1;var r=jr,t=D,e=function(a,u,l){for(var f=a,c;(c=f.next)!=null;f=c)if(c.key===u)return f.next=c.next,l||(c.next=a.next,a.next=c),c},n=function(a,u){if(a){var l=e(a,u);return l&&l.value}},i=function(a,u,l){var f=e(a,u);f?f.value=l:a.next={key:u,next:a.next,value:l}},o=function(a,u){return a?!!e(a,u):!1},s=function(a,u){if(a)return e(a,u,!0)};return Ga=function(){var u,l={assert:function(f){if(!l.has(f))throw new t("Side channel does not contain "+r(f))},delete:function(f){var c=u&&u.next,h=s(u,f);return h&&c&&c===h&&(u=void 0),!!h},get:function(f){return n(u,f)},has:function(f){return o(u,f)},set:function(f,c){u||(u={next:void 0}),i(u,f,c)}};return l},Ga}var Wa,xf;function jp(){if(xf)return Wa;xf=1;var r=St,t=Ft,e=jr,n=D,i=r("%Map%",!0),o=t("Map.prototype.get",!0),s=t("Map.prototype.set",!0),a=t("Map.prototype.has",!0),u=t("Map.prototype.delete",!0),l=t("Map.prototype.size",!0);return Wa=!!i&&function(){var c,h={assert:function(d){if(!h.has(d))throw new n("Side channel does not contain "+e(d))},delete:function(d){if(c){var p=u(c,d);return l(c)===0&&(c=void 0),p}return!1},get:function(d){if(c)return o(c,d)},has:function(d){return c?a(c,d):!1},set:function(d,p){c||(c=new i),s(c,d,p)}};return h},Wa}var za,jf;function vE(){if(jf)return za;jf=1;var r=St,t=Ft,e=jr,n=jp(),i=D,o=r("%WeakMap%",!0),s=t("WeakMap.prototype.get",!0),a=t("WeakMap.prototype.set",!0),u=t("WeakMap.prototype.has",!0),l=t("WeakMap.prototype.delete",!0);return za=o?function(){var c,h,d={assert:function(p){if(!d.has(p))throw new i("Side channel does not contain "+e(p))},delete:function(p){if(o&&p&&(typeof p=="object"||typeof p=="function")){if(c)return l(c,p)}else if(n&&h)return h.delete(p);return!1},get:function(p){return o&&p&&(typeof p=="object"||typeof p=="function")&&c?s(c,p):h&&h.get(p)},has:function(p){return o&&p&&(typeof p=="object"||typeof p=="function")&&c?u(c,p):!!h&&h.has(p)},set:function(p,g){o&&p&&(typeof p=="object"||typeof p=="function")?(c||(c=new o),a(c,p,g)):n&&(h||(h=n()),h.set(p,g))}};return d}:n,za}var Ka,Mf;function mE(){if(Mf)return Ka;Mf=1;var r=D,t=jr,e=gE(),n=jp(),i=vE(),o=i||n||e;return Ka=function(){var a,u={assert:function(l){if(!u.has(l))throw new r("Side channel does not contain "+t(l))},delete:function(l){return!!a&&a.delete(l)},get:function(l){return a&&a.get(l)},has:function(l){return!!a&&a.has(l)},set:function(l,f){a||(a=o()),a.set(l,f)}};return u},Ka}var Va,Bf;function Mp(){if(Bf)return Va;Bf=1;var r=Yt,t=mE()(),e=D,n={assert:function(i,o){if(!i||typeof i!="object"&&typeof i!="function")throw new e("`O` is not an object");if(typeof o!="string")throw new e("`slot` must be a string");if(t.assert(i),!n.has(i,o))throw new e("`"+o+"` is not present on `O`")},get:function(i,o){if(!i||typeof i!="object"&&typeof i!="function")throw new e("`O` is not an object");if(typeof o!="string")throw new e("`slot` must be a string");var s=t.get(i);return s&&s["$"+o]},has:function(i,o){if(!i||typeof i!="object"&&typeof i!="function")throw new e("`O` is not an object");if(typeof o!="string")throw new e("`slot` must be a string");var s=t.get(i);return!!s&&r(s,"$"+o)},set:function(i,o,s){if(!i||typeof i!="object"&&typeof i!="function")throw new e("`O` is not an object");if(typeof o!="string")throw new e("`slot` must be a string");var a=t.get(i);a||(a={},t.set(i,a)),a["$"+o]=s}};return Object.freeze&&Object.freeze(n),Va=n,Va}var Ja,Lf;function bE(){if(Lf)return Ja;Lf=1;var r={__proto__:null,foo:{}},t={__proto__:r}.foo===r.foo&&!(r instanceof Object);return Ja=function(){return t},Ja}var Qa,qf;function _E(){if(qf)return Qa;qf=1;var r=St,t=r("%Object.create%",!0),e=D,n=Nr,i=fp,o=yE(),s=ce,a=Mp(),u=bE()();return Qa=function(f){if(f!==null&&!s(f))throw new e("Assertion failed: `proto` must be null or an object");var c=arguments.length<2?[]:arguments[1];if(!i(c))throw new e("Assertion failed: `additionalInternalSlotsList` must be an Array");var h;if(t)h=t(f);else if(u)h={__proto__:f};else{if(f===null)throw new n("native Object.create support is required to create null objects");var d=function(){};d.prototype=f,h=new d}return c.length>0&&o(c,function(p){a.set(h,p,void 0)}),h},Qa}var Ha,Gf;function SE(){if(Gf)return Ha;Gf=1;var r=D,t=Ft("RegExp.prototype.exec"),e=hp,n=ws,i=$l,o=ce;return Ha=function(a,u){if(!o(a))throw new r("Assertion failed: `R` must be an Object");if(typeof u!="string")throw new r("Assertion failed: `S` must be a String");var l=n(a,"exec");if(i(l)){var f=e(l,a,[u]);if(f===null||o(f))return f;throw new r('"exec" method must return `null` or an Object')}return t(a,u)},Ha}var po=D,EE=ei,Wf=Up,wE=ce,zf=function(){try{return delete[].length,!0}catch{return!1}}(),Bp=function(t,e,n,i){if(!wE(t))throw new po("Assertion failed: `O` must be an Object");if(!EE(e))throw new po("Assertion failed: `P` must be a Property Key");if(typeof i!="boolean")throw new po("Assertion failed: `Throw` must be a Boolean");if(i){if(t[e]=n,zf&&!Wf(t[e],n))throw new po("Attempted to assign to readonly property.");return!0}try{return t[e]=n,zf?Wf(t[e],n):!0}catch{return!1}},Ya,Kf;function AE(){return Kf||(Kf=1,Ya=function(t){return t===null||typeof t!="function"&&typeof t!="object"}),Ya}var Xa,Vf;function PE(){if(Vf)return Xa;Vf=1;var r=Date.prototype.getDay,t=function(s){try{return r.call(s),!0}catch{return!1}},e=Object.prototype.toString,n="[object Date]",i=rg();return Xa=function(s){return typeof s!="object"||s===null?!1:i?t(s):e.call(s)===n},Xa}var yo={exports:{}},Za,Jf;function OE(){if(Jf)return Za;Jf=1;var r=dl;return Za=function(){return r()&&!!Symbol.toStringTag},Za}var tu,Qf;function IE(){return Qf||(Qf=1,tu=Object.getOwnPropertyDescriptor),tu}var eu,Hf;function $E(){if(Hf)return eu;Hf=1;var r=IE();if(r)try{r([],"length")}catch{r=null}return eu=r,eu}var ru,Yf;function CE(){if(Yf)return ru;Yf=1;var r=Ft,t=OE()(),e=Yt,n=$E(),i;if(t){var o=r("RegExp.prototype.exec"),s={},a=function(){throw s},u={toString:a,valueOf:a};typeof Symbol.toPrimitive=="symbol"&&(u[Symbol.toPrimitive]=a),i=function(h){if(!h||typeof h!="object")return!1;var d=n(h,"lastIndex"),p=d&&e(d,"value");if(!p)return!1;try{o(h,u)}catch(g){return g===s}}}else{var l=r("Object.prototype.toString"),f="[object RegExp]";i=function(h){return!h||typeof h!="object"&&typeof h!="function"?!1:l(h)===f}}return ru=i,ru}var nu,Xf;function Lp(){if(Xf)return nu;Xf=1;var r=Ft,t=CE(),e=r("RegExp.prototype.exec"),n=D;return nu=function(o){if(!t(o))throw new n("`regex` must be a RegExp");return function(a){return e(o,a)!==null}},nu}var Zf;function RE(){if(Zf)return yo.exports;Zf=1;var r=Ft,t=r("Object.prototype.toString"),e=Rp(),n=Lp();if(e){var i=r("Symbol.prototype.toString"),o=n(/^Symbol\(.*\)$/),s=function(u){return typeof u.valueOf()!="symbol"?!1:o(i(u))};yo.exports=function(u){if(typeof u=="symbol")return!0;if(!u||typeof u!="object"||t(u)!=="[object Symbol]")return!1;try{return s(u)}catch{return!1}}}else yo.exports=function(u){return!1};return yo.exports}var iu,th;function TE(){if(th)return iu;th=1;var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",t=AE(),e=gd,n=PE(),i=RE(),o=function(u,l){if(typeof u>"u"||u===null)throw new TypeError("Cannot call method on "+u);if(typeof l!="string"||l!=="number"&&l!=="string")throw new TypeError('hint must be "string" or "number"');var f=l==="string"?["toString","valueOf"]:["valueOf","toString"],c,h,d;for(d=0;d<f.length;++d)if(c=u[f[d]],e(c)&&(h=c.call(u),t(h)))return h;throw new TypeError("No default value")},s=function(u,l){var f=u[l];if(f!==null&&typeof f<"u"){if(!e(f))throw new TypeError(f+" returned for property "+String(l)+" of object "+u+" is not a function");return f}};return iu=function(u){if(t(u))return u;var l="default";arguments.length>1&&(arguments[1]===String?l="string":arguments[1]===Number&&(l="number"));var f;if(r&&(Symbol.toPrimitive?f=s(u,Symbol.toPrimitive):i(u)&&(f=Symbol.prototype.valueOf)),typeof f<"u"){var c=f.call(u,l);if(t(c))return c;throw new TypeError("unable to convert exotic object to primitive")}return l==="default"&&(n(u)||i(u))&&(l="string"),o(u,l==="default"?"number":l)},iu}var ou,eh;function DE(){if(eh)return ou;eh=1;var r=TE();return ou=function(e){return arguments.length>1?r(e,arguments[1]):r(e)},ou}var su={exports:{}},au,rh;function FE(){if(rh)return au;rh=1;var r,t=Xn,e=Ui,n=Ni,i=xi,o=Nr,s=D,a=ji,u=Function,l=function(it){try{return u('"use strict"; return ('+it+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var c=function(){throw new s},h=f?function(){try{return arguments.callee,c}catch{try{return f(arguments,"callee").get}catch{return c}}}():c,d=Yn(),p=Je(),g=Object.getPrototypeOf||(p?function(it){return it.__proto__}:null),S={},E=typeof Uint8Array>"u"||!g?r:g(Uint8Array),_={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":d&&g?g([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":e,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&g?g(g([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!g?r:g(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":n,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!g?r:g(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&g?g(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":h,"%TypedArray%":E,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(g)try{null.error}catch(it){var w=g(g(it));_["%Error.prototype%"]=w}var A=function it(J){var wt;if(J==="%AsyncFunction%")wt=l("async function () {}");else if(J==="%GeneratorFunction%")wt=l("function* () {}");else if(J==="%AsyncGeneratorFunction%")wt=l("async function* () {}");else if(J==="%AsyncGenerator%"){var at=it("%AsyncGeneratorFunction%");at&&(wt=at.prototype)}else if(J==="%AsyncIteratorPrototype%"){var It=it("%AsyncGenerator%");It&&g&&(wt=g(It.prototype))}return _[J]=wt,wt},O={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=Kt,F=Yt,$=I.call(Function.call,Array.prototype.concat),K=I.call(Function.apply,Array.prototype.splice),et=I.call(Function.call,String.prototype.replace),ft=I.call(Function.call,String.prototype.slice),ct=I.call(Function.call,RegExp.prototype.exec),st=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ht=/\\(\\)?/g,Xt=function(J){var wt=ft(J,0,1),at=ft(J,-1);if(wt==="%"&&at!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(at==="%"&&wt!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var It=[];return et(J,st,function(fe,Lr,kt,oo){It[It.length]=kt?et(oo,ht,"$1"):Lr||fe}),It},be=function(J,wt){var at=J,It;if(F(O,at)&&(It=O[at],at="%"+It[0]+"%"),F(_,at)){var fe=_[at];if(fe===S&&(fe=A(at)),typeof fe>"u"&&!wt)throw new s("intrinsic "+J+" exists, but is not available. Please file an issue!");return{alias:It,name:at,value:fe}}throw new o("intrinsic "+J+" does not exist!")};return au=function(J,wt){if(typeof J!="string"||J.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof wt!="boolean")throw new s('"allowMissing" argument must be a boolean');if(ct(/^%?[^%]*%?$/,J)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var at=Xt(J),It=at.length>0?at[0]:"",fe=be("%"+It+"%",wt),Lr=fe.name,kt=fe.value,oo=!1,Gs=fe.alias;Gs&&(It=Gs[0],K(at,$([0,1],Gs)));for(var so=1,ii=!0;so<at.length;so+=1){var _e=at[so],ao=ft(_e,0,1),uo=ft(_e,-1);if((ao==='"'||ao==="'"||ao==="`"||uo==='"'||uo==="'"||uo==="`")&&ao!==uo)throw new o("property names with quotes must have matching quotes");if((_e==="constructor"||!ii)&&(oo=!0),It+="."+_e,Lr="%"+It+"%",F(_,Lr))kt=_[Lr];else if(kt!=null){if(!(_e in kt)){if(!wt)throw new s("base intrinsic for "+J+" exists, but the property is not available.");return}if(f&&so+1>=at.length){var lo=f(kt,_e);ii=!!lo,ii&&"get"in lo&&!("originalValue"in lo.get)?kt=lo.get:kt=kt[_e]}else ii=F(kt,_e),kt=kt[_e];ii&&!oo&&(_[Lr]=kt)}}return kt},au}var uu,nh;function kE(){if(nh)return uu;nh=1;var r=FE(),t=zi,e=Zn(),n=pl,i=D,o=r("%Math.floor%");return uu=function(a,u){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||o(u)!==u)throw new i("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],f=!0,c=!0;if("length"in a&&n){var h=n(a,"length");h&&!h.configurable&&(f=!1),h&&!h.writable&&(c=!1)}return(f||c||!l)&&(e?t(a,"length",u,!0,!0):t(a,"length",u)),a},uu}var ih;function UE(){return ih||(ih=1,function(r){var t=kE(),e=Wi,n=Bi,i=ml;r.exports=function(s){var a=n(arguments),u=s.length-(arguments.length-1);return t(a,1+(u>0?u:0),!0)},e?e(r.exports,"apply",{value:i}):r.exports.apply=i}(su)),su.exports}var lu,oh;function qp(){if(oh)return lu;oh=1;var r=Cl,t=As,e=Ft,n=e("String.prototype.replace"),i=/^\s$/.test(""),o=i?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=i?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;return lu=function(){var u=t(r(this));return n(n(u,o,""),s,"")},lu}var cu,sh;function Gp(){if(sh)return cu;sh=1;var r=qp(),t="",e="";return cu=function(){return String.prototype.trim&&t.trim()===t&&e.trim()===e&&("_"+e).trim()==="_"+e&&(e+"_").trim()===e+"_"?String.prototype.trim:r},cu}var fu,ah;function NE(){if(ah)return fu;ah=1;var r=Zn(),t=zi,e=Gp();return fu=function(){var i=e();return String.prototype.trim!==i&&(r?t(String.prototype,"trim",i,!0):t(String.prototype,"trim",i)),i},fu}var hu,uh;function xE(){if(uh)return hu;uh=1;var r=UE(),t=ti,e=Cl,n=qp(),i=Gp(),o=NE(),s=r(i()),a=function(l){return e(l),s(l)};return t(a,{getPolyfill:i,implementation:n,shim:o}),hu=a,hu}var du,lh;function jE(){if(lh)return du;lh=1;var r=St,t=r("%RegExp%"),e=D,n=r("%parseInt%"),i=Ft,o=Lp(),s=i("String.prototype.slice"),a=o(/^0b[01]+$/i),u=o(/^0o[0-7]+$/i),l=o(/^[-+]0x[0-9a-f]+$/i),f=["","",""].join(""),c=new t("["+f+"]","g"),h=o(c),d=xE();return du=function p(g){if(typeof g!="string")throw new e("Assertion failed: `argument` is not a String");if(a(g))return+n(s(g,2),2);if(u(g))return+n(s(g,2),8);if(h(g)||l(g))return NaN;var S=d(g);return S!==g?p(S):+g},du}var ME=St,ch=D,BE=ME("%Number%"),LE=xp(),qE=DE(),GE=jE(),WE=function(t){var e=LE(t)?t:qE(t,BE);if(typeof e=="symbol")throw new ch("Cannot convert a Symbol value to a number");if(typeof e=="bigint")throw new ch("Conversion from 'BigInt' to 'number' is not allowed.");return typeof e=="string"?GE(e):+e},zE=yl,KE=function(t){return typeof t=="bigint"?t:zE(t)},fh=KE,VE=D,JE=function(t){if(typeof t!="number"&&typeof t!="bigint")throw new VE("argument must be a Number or a BigInt");var e=t<0?-fh(-t):fh(t);return e===0?0:e},QE=WE,HE=JE,YE=Mi,XE=Fp,ZE=function(t){var e=QE(t);return YE(e)||e===0?0:XE(e)?HE(e):e},hh=kp,t0=ZE,Wp=function(t){var e=t0(t);return e<=0?0:e>hh?hh:e},pu,dh;function e0(){if(dh)return pu;dh=1;var r=dl;return pu=function(){return r()&&!!Symbol.toStringTag},pu}var yu,ph;function r0(){if(ph)return yu;ph=1;var r=St,t=r("%Object.defineProperty%",!0),e=e0()(),n=Yt,i=D,o=e?Symbol.toStringTag:null;return yu=function(a,u){var l=arguments.length>2&&!!arguments[2]&&arguments[2].force,f=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof l<"u"&&typeof l!="boolean"||typeof f<"u"&&typeof f!="boolean")throw new i("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");o&&(l||!n(a,o))&&(t?t(a,o,{configurable:!f,enumerable:!1,value:u,writable:!1}):a[o]=u)},yu}var n0=St,i0=Rp(),vi=D,yh=n0("%IteratorPrototype%",!0),o0=oE(),go=sE(),zp=pE(),gh=ws,s0=_E(),a0=SE(),u0=Bp,l0=Wp,c0=As,f0=ce,Et=Mp(),h0=r0(),Or=function(t,e,n,i){if(typeof e!="string")throw new vi("`S` must be a string");if(typeof n!="boolean")throw new vi("`global` must be a boolean");if(typeof i!="boolean")throw new vi("`fullUnicode` must be a boolean");Et.set(this,"[[IteratingRegExp]]",t),Et.set(this,"[[IteratedString]]",e),Et.set(this,"[[Global]]",n),Et.set(this,"[[Unicode]]",i),Et.set(this,"[[Done]]",!1)};yh&&(Or.prototype=s0(yh));var d0=function(){var t=this;if(!f0(t))throw new vi("receiver must be an object");if(!(t instanceof Or)||!Et.has(t,"[[IteratingRegExp]]")||!Et.has(t,"[[IteratedString]]")||!Et.has(t,"[[Global]]")||!Et.has(t,"[[Unicode]]")||!Et.has(t,"[[Done]]"))throw new vi('"this" value must be a RegExpStringIterator instance');if(Et.get(t,"[[Done]]"))return go(void 0,!0);var e=Et.get(t,"[[IteratingRegExp]]"),n=Et.get(t,"[[IteratedString]]"),i=Et.get(t,"[[Global]]"),o=Et.get(t,"[[Unicode]]"),s=a0(e,n);if(s===null)return Et.set(t,"[[Done]]",!0),go(void 0,!0);if(i){var a=c0(gh(s,"0"));if(a===""){var u=l0(gh(e,"lastIndex")),l=o0(n,u,o);u0(e,"lastIndex",l,!0)}return go(s,!1)}return Et.set(t,"[[Done]]",!0),go(s,!1)};zp(Or.prototype,"next",d0,!1);if(i0&&(h0(Or.prototype,"RegExp String Iterator"),Symbol.iterator&&typeof Or.prototype[Symbol.iterator]!="function")){var p0=function(){return this};zp(Or.prototype,Symbol.iterator,p0,!1)}var y0=function(t,e,n,i){return new Or(t,e,n,i)},vo={exports:{}},gu,vh;function g0(){return vh||(vh=1,gu=St),gu}var mh;function v0(){if(mh)return vo.exports;mh=1;var r=g0(),t=r("%Reflect.construct%",!0),e=Np();try{e({},"",{"[[Get]]":function(){}})}catch{e=null}if(e&&t){var n={},i={};e(i,"length",{"[[Get]]":function(){throw n},"[[Enumerable]]":!0}),vo.exports=function(s){try{t(s,i)}catch(a){return a===n}}}else vo.exports=function(s){return typeof s=="function"&&!!s.prototype};return vo.exports}var m0=St,bh=m0("%Symbol.species%",!0),vu=D,b0=v0(),_h=ce,_0=function(t,e){if(!_h(t))throw new vu("Assertion failed: Type(O) is not Object");var n=t.constructor;if(typeof n>"u")return e;if(!_h(n))throw new vu("O.constructor is not an Object");var i=bh?n[bh]:void 0;if(i==null)return e;if(b0(i))return i;throw new vu("no constructor found")},S0=ce,E0=function(t){if(t===null)return"Null";if(typeof t>"u")return"Undefined";if(S0(t))return"Object";if(typeof t=="number")return"Number";if(typeof t=="boolean")return"Boolean";if(typeof t=="string")return"String"},w0=E0,A0=function(t){return typeof t=="symbol"?"Symbol":typeof t=="bigint"?"BigInt":w0(t)},P0=y0,Kp=ws,O0=Bp,I0=_0,$0=Wp,Vp=As,C0=A0,R0=Cp,T0=Ap,D0=Ft,F0=St,k0=D,Sh=D0("String.prototype.indexOf"),Dl=F0("%RegExp%"),U0="flags"in Dl.prototype,N0=function(t,e){var n,i="flags"in e?Kp(e,"flags"):Vp(R0(e));return U0&&typeof i=="string"?n=new t(e,i):t===Dl?n=new t(e.source,i):n=new t(e,i),{flags:i,matcher:n}},x0=T0(function(t){var e=this;if(C0(e)!=="Object")throw new k0('"this" value must be an Object');var n=Vp(t),i=I0(e,Dl),o=N0(i,e),s=o.flags,a=o.matcher,u=$0(Kp(e,"lastIndex"));O0(a,"lastIndex",u,!0);var l=Sh(s,"g")>-1,f=Sh(s,"u")>-1;return P0(a,n,l,f)},"[Symbol.matchAll]",!0),j0=x0,M0=Rl(),B0=j0,Jp=function(){return!M0||typeof Symbol.matchAll!="symbol"||typeof RegExp.prototype[Symbol.matchAll]!="function"?B0:RegExp.prototype[Symbol.matchAll]},Eh=hp,L0=ws,q0=$_,Qp=j_,wh=As,Ah=Cl,G0=Ft,W0=Rl(),z0=Cp,K0=St,V0=D,Hp=K0("%RegExp%"),J0=G0("String.prototype.indexOf"),Q0=Jp,Ph=function(t){var e=Q0();if(W0&&typeof Symbol.matchAll=="symbol"){var n=q0(t,Symbol.matchAll);return n===Hp.prototype[Symbol.matchAll]&&n!==e?e:n}if(Qp(t))return e},Yp=function(t){var e=Ah(this);if(typeof t<"u"&&t!==null){var n=Qp(t);if(n){var i="flags"in t?L0(t,"flags"):z0(t);if(Ah(i),J0(wh(i),"g")<0)throw new V0("matchAll requires a global regular expression")}var o=Ph(t);if(typeof o<"u")return Eh(o,t,[e])}var s=wh(e),a=new Hp(t,"g");return Eh(Ph(a),a,[s])},H0=Yp,Xp=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return H0},Y0=Object.getOwnPropertyDescriptor,ko=Y0;if(ko)try{ko([],"length")}catch{ko=null}var X0=ko,mu=ti,Z0=Rl(),Oh=X0,tw=Xp,ew=Jp,Ih=Object.defineProperty,rw=function(){var t=tw();if(mu(String.prototype,{matchAll:t},{matchAll:function(){return String.prototype.matchAll!==t}}),Z0){var e=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(mu(Symbol,{matchAll:e},{matchAll:function(){return Symbol.matchAll!==e}}),Ih&&Oh){var n=Oh(Symbol,e);(!n||n.configurable)&&Ih(Symbol,e,{configurable:!1,enumerable:!1,value:e,writable:!1})}var i=ew(),o={};o[e]=i;var s={};s[e]=function(){return RegExp.prototype[e]!==i},mu(RegExp.prototype,o,s)}return t},nw=cb,iw=ti,Zp=Yp,ow=Xp,sw=rw,ty=nw(Zp);iw(ty,{getPolyfill:ow,implementation:Zp,shim:sw});var aw=ty;const CO=zy(aw);var bu={},ey=function(){if(typeof Map<"u")return Map;function r(t,e){var n=-1;return t.some(function(i,o){return i[0]===e?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var n=r(this.__entries__,e),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(e,n){var i=r(this.__entries__,e);~i?this.__entries__[i][1]=n:this.__entries__.push([e,n])},t.prototype.delete=function(e){var n=this.__entries__,i=r(n,e);~i&&n.splice(i,1)},t.prototype.has=function(e){return!!~r(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,n){n===void 0&&(n=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];e.call(n,s[1],s[0])}},t}()}(),il=typeof window<"u"&&typeof document<"u"&&window.document===document,ss=function(){return typeof bu<"u"&&bu.Math===Math?bu:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),uw=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ss):function(r){return setTimeout(function(){return r(Date.now())},1e3/60)}}(),lw=2;function cw(r,t){var e=!1,n=!1,i=0;function o(){e&&(e=!1,r()),n&&a()}function s(){uw(o)}function a(){var u=Date.now();if(e){if(u-i<lw)return;n=!0}else e=!0,n=!1,setTimeout(s,t);i=u}return a}var fw=20,hw=["top","right","bottom","left","width","height","size","weight"],dw=typeof MutationObserver<"u",pw=function(){function r(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=cw(this.refresh.bind(this),fw)}return r.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},r.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},r.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},r.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},r.prototype.connect_=function(){!il||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),dw?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},r.prototype.disconnect_=function(){!il||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},r.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=e===void 0?"":e,i=hw.some(function(o){return!!~n.indexOf(o)});i&&this.refresh()},r.getInstance=function(){return this.instance_||(this.instance_=new r),this.instance_},r.instance_=null,r}(),ry=function(r,t){for(var e=0,n=Object.keys(t);e<n.length;e++){var i=n[e];Object.defineProperty(r,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return r},Kn=function(r){var t=r&&r.ownerDocument&&r.ownerDocument.defaultView;return t||ss},ny=Ps(0,0,0,0);function as(r){return parseFloat(r)||0}function $h(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(n,i){var o=r["border-"+i+"-width"];return n+as(o)},0)}function yw(r){for(var t=["top","right","bottom","left"],e={},n=0,i=t;n<i.length;n++){var o=i[n],s=r["padding-"+o];e[o]=as(s)}return e}function gw(r){var t=r.getBBox();return Ps(0,0,t.width,t.height)}function vw(r){var t=r.clientWidth,e=r.clientHeight;if(!t&&!e)return ny;var n=Kn(r).getComputedStyle(r),i=yw(n),o=i.left+i.right,s=i.top+i.bottom,a=as(n.width),u=as(n.height);if(n.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=$h(n,"left","right")+o),Math.round(u+s)!==e&&(u-=$h(n,"top","bottom")+s)),!bw(r)){var l=Math.round(a+o)-t,f=Math.round(u+s)-e;Math.abs(l)!==1&&(a-=l),Math.abs(f)!==1&&(u-=f)}return Ps(i.left,i.top,a,u)}var mw=function(){return typeof SVGGraphicsElement<"u"?function(r){return r instanceof Kn(r).SVGGraphicsElement}:function(r){return r instanceof Kn(r).SVGElement&&typeof r.getBBox=="function"}}();function bw(r){return r===Kn(r).document.documentElement}function _w(r){return il?mw(r)?gw(r):vw(r):ny}function Sw(r){var t=r.x,e=r.y,n=r.width,i=r.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return ry(s,{x:t,y:e,width:n,height:i,top:e,right:t+n,bottom:i+e,left:t}),s}function Ps(r,t,e,n){return{x:r,y:t,width:e,height:n}}var Ew=function(){function r(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ps(0,0,0,0),this.target=t}return r.prototype.isActive=function(){var t=_w(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},r.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},r}(),ww=function(){function r(t,e){var n=Sw(e);ry(this,{target:t,contentRect:n})}return r}(),Aw=function(){function r(t,e,n){if(this.activeObservations_=[],this.observations_=new ey,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return r.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Kn(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new Ew(t)),this.controller_.addObserver(this),this.controller_.refresh())}},r.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Kn(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},r.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},r.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},r.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new ww(n.target,n.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},r.prototype.clearActive=function(){this.activeObservations_.splice(0)},r.prototype.hasActive=function(){return this.activeObservations_.length>0},r}(),iy=typeof WeakMap<"u"?new WeakMap:new ey,oy=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=pw.getInstance(),n=new Aw(t,e,this);iy.set(this,n)}return r}();["observe","unobserve","disconnect"].forEach(function(r){oy.prototype[r]=function(){var t;return(t=iy.get(this))[r].apply(t,arguments)}});var RO=function(){return typeof ss.ResizeObserver<"u"?ss.ResizeObserver:oy}();function Pw(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,[])).next())})}function Ow(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _u,Ch;function Iw(){return Ch||(Ch=1,_u=function r(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!r(t[i],e[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!r(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}),_u}var $w=Iw(),Cw=Ow($w);const Rh="__googleMapsScriptId";var fn;(function(r){r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE"})(fn||(fn={}));class ln{constructor({apiKey:t,authReferrerPolicy:e,channel:n,client:i,id:o=Rh,language:s,libraries:a=[],mapIds:u,nonce:l,region:f,retries:c=3,url:h="https://maps.googleapis.com/maps/api/js",version:d}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=e,this.channel=n,this.client=i,this.id=o||Rh,this.language=s,this.libraries=a,this.mapIds=u,this.nonce=l,this.region=f,this.retries=c,this.url=h,this.version=d,ln.instance){if(!Cw(this.options,ln.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(ln.instance.options)}`);return ln.instance}ln.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?fn.FAILURE:this.done?fn.SUCCESS:this.loading?fn.LOADING:fn.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,e)=>{this.loadCallback(n=>{n?e(n.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,e;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(o=>!n[o]&&delete n[o]),!((e=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||e===void 0)&&e.importLibrary||(o=>{let s,a,u,l="The Google Maps JavaScript API",f="google",c="importLibrary",h="__ib__",d=document,p=window;p=p[f]||(p[f]={});const g=p.maps||(p.maps={}),S=new Set,E=new URLSearchParams,_=()=>s||(s=new Promise((w,A)=>Pw(this,void 0,void 0,function*(){var O;yield a=d.createElement("script"),a.id=this.id,E.set("libraries",[...S]+"");for(u in o)E.set(u.replace(/[A-Z]/g,I=>"_"+I[0].toLowerCase()),o[u]);E.set("callback",f+".maps."+h),a.src=this.url+"?"+E,g[h]=w,a.onerror=()=>s=A(Error(l+" could not load.")),a.nonce=this.nonce||((O=d.querySelector("script[nonce]"))===null||O===void 0?void 0:O.nonce)||"",d.head.append(a)})));g[c]?console.warn(l+" only loads once. Ignoring:",o):g[c]=(w,...A)=>S.add(w)&&_().then(()=>g[c](w,...A))})(n);const i=this.libraries.map(o=>this.importLibrary(o));i.length||i.push(this.importLibrary("core")),Promise.all(i).then(()=>this.callback(),o=>{const s=new ErrorEvent("error",{error:o});this.loadErrorCallback(s)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var Rw={},Ie={},Vn={},Ot={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Log=r.LogLevel=void 0;const t=" DEBUG ",e="  INFO ",n="  WARN ",i=" ERROR ";function o(a){return a.unshift("[Statsig]"),a}r.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class s{static info(...u){s.level>=r.LogLevel.Info&&console.info(e,...o(u))}static debug(...u){s.level>=r.LogLevel.Debug&&console.debug(t,...o(u))}static warn(...u){s.level>=r.LogLevel.Warn&&console.warn(n,...o(u))}static error(...u){s.level>=r.LogLevel.Error&&console.error(i,...o(u))}}r.Log=s,s.level=r.LogLevel.Warn})(Ot);(function(r){var t={},e,n,i;Object.defineProperty(r,"__esModule",{value:!0}),r._getInstance=r._getStatsigGlobalFlag=r._getStatsigGlobal=void 0;const o=Ot,s=()=>{try{return typeof __STATSIG__<"u"?__STATSIG__:d}catch{return d}};r._getStatsigGlobal=s;const a=p=>(0,r._getStatsigGlobal)()[p];r._getStatsigGlobalFlag=a;const u=p=>{const g=(0,r._getStatsigGlobal)();return p?g.instances&&g.instances[p]:(g.instances&&Object.keys(g.instances).length>1&&o.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),g.firstInstance)};r._getInstance=u;const l="__STATSIG__",f=typeof window<"u"?window:{},c=typeof t<"u"?t:{},h=typeof globalThis<"u"?globalThis:{},d=(i=(n=(e=f[l])!==null&&e!==void 0?e:c[l])!==null&&n!==void 0?n:h[l])!==null&&i!==void 0?i:{instance:r._getInstance};f[l]=d,c[l]=d,h[l]=d})(Vn);var us={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Diagnostics=void 0;const t=new Map,e="start",n="end",i="statsig::diagnostics";r.Diagnostics={_getMarkers:l=>t.get(l),_markInitOverallStart:l=>{a(l,o({},e,"overall"))},_markInitOverallEnd:(l,f,c)=>{a(l,o({success:f,error:f?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:c},n,"overall"))},_markInitNetworkReqStart:(l,f)=>{a(l,o(f,e,"initialize","network_request"))},_markInitNetworkReqEnd:(l,f)=>{a(l,o(f,n,"initialize","network_request"))},_markInitProcessStart:l=>{a(l,o({},e,"initialize","process"))},_markInitProcessEnd:(l,f)=>{a(l,o(f,n,"initialize","process"))},_clearMarkers:l=>{t.delete(l)},_formatError(l){if(l&&typeof l=="object")return{code:u(l,"code"),name:u(l,"name"),message:u(l,"message")}},_getDiagnosticsData(l,f,c,h){var d;return{success:(l==null?void 0:l.ok)===!0,statusCode:l==null?void 0:l.status,sdkRegion:(d=l==null?void 0:l.headers)===null||d===void 0?void 0:d.get("x-statsig-region"),isDelta:c.includes('"is_delta":true')===!0?!0:void 0,attempt:f,error:r.Diagnostics._formatError(h)}},_enqueueDiagnosticsEvent(l,f,c,h){const d=r.Diagnostics._getMarkers(c);if(d==null||d.length<=0)return-1;const p=d[d.length-1].timestamp-d[0].timestamp;r.Diagnostics._clearMarkers(c);const g=s(l,{context:"initialize",markers:d.slice(),statsigOptions:h});return f.enqueue(g),p}};function o(l,f,c,h){return Object.assign({key:c,action:f,step:h,timestamp:Date.now()},l)}function s(l,f){return{eventName:i,user:l,value:null,metadata:f,time:Date.now()}}function a(l,f){var c;const h=(c=t.get(l))!==null&&c!==void 0?c:[];h.push(f),t.set(l,h)}function u(l,f){if(f in l)return l[f]}})(us);var Yi={},$e={},Br={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke._isTypeMatch=Ke._typeOf=void 0;function Tw(r){return Array.isArray(r)?"array":typeof r}Ke._typeOf=Tw;function Dw(r,t){const e=n=>Array.isArray(n)?"array":n===null?"null":typeof n;return e(r)===e(t)}Ke._isTypeMatch=Dw;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._getSortedObject=r._DJB2Object=r._DJB2=void 0;const t=Ke,e=o=>{let s=0;for(let a=0;a<o.length;a++){const u=o.charCodeAt(a);s=(s<<5)-s+u,s=s&s}return String(s>>>0)};r._DJB2=e;const n=(o,s)=>(0,r._DJB2)(JSON.stringify((0,r._getSortedObject)(o,s)));r._DJB2Object=n;const i=(o,s)=>{if(o==null)return null;const a=Object.keys(o).sort(),u={};return a.forEach(l=>{const f=o[l];if(s===0||(0,t._typeOf)(f)!=="object"){u[l]=f;return}u[l]=(0,r._getSortedObject)(f,s!=null?s-1:s)}),u};r._getSortedObject=i})(Br);Object.defineProperty($e,"__esModule",{value:!0});$e._getStorageKey=$e._getUserStorageKey=void 0;const sy=Br;function ay(r,t,e){var n;if(e)return e(r,t);const i=t&&t.customIDs?t.customIDs:{},o=[`uid:${(n=t==null?void 0:t.userID)!==null&&n!==void 0?n:""}`,`cids:${Object.keys(i).sort((s,a)=>s.localeCompare(a)).map(s=>`${s}-${i[s]}`).join(",")}`,`k:${r}`];return(0,sy._DJB2)(o.join("|"))}$e._getUserStorageKey=ay;function Fw(r,t,e){return t?ay(r,t,e):(0,sy._DJB2)(`k:${r}`)}$e._getStorageKey=Fw;var Xi={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.NetworkParam=r.NetworkDefault=r.Endpoint=void 0,r.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},r.NetworkDefault={[r.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[r.Endpoint._initialize]:"https://featureassets.org/v1",[r.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},r.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}})(Xi);var He={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._getUnloadEvent=r._getCurrentPageUrlSafe=r._addDocumentEventListenerSafe=r._addWindowEventListenerSafe=r._isServerEnv=r._getDocumentSafe=r._getWindowSafe=void 0;const t=()=>typeof window<"u"?window:null;r._getWindowSafe=t;const e=()=>{var u;const l=(0,r._getWindowSafe)();return(u=l==null?void 0:l.document)!==null&&u!==void 0?u:null};r._getDocumentSafe=e;const n=()=>{if((0,r._getDocumentSafe)()!==null)return!1;const u=typeof zs<"u"&&zs.versions!=null&&zs.versions.node!=null;return typeof EdgeRuntime=="string"||u};r._isServerEnv=n;const i=(u,l)=>{const f=(0,r._getWindowSafe)();typeof(f==null?void 0:f.addEventListener)=="function"&&f.addEventListener(u,l)};r._addWindowEventListenerSafe=i;const o=(u,l)=>{const f=(0,r._getDocumentSafe)();typeof(f==null?void 0:f.addEventListener)=="function"&&f.addEventListener(u,l)};r._addDocumentEventListenerSafe=o;const s=()=>{var u;try{return(u=(0,r._getWindowSafe)())===null||u===void 0?void 0:u.location.href.split(/[?#]/)[0]}catch{return}};r._getCurrentPageUrlSafe=s;const a=()=>{const u=(0,r._getWindowSafe)();return u&&"onpagehide"in u?"pagehide":"beforeunload"};r._getUnloadEvent=a})(He);var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt._createLayerParameterExposure=Gt._createConfigExposure=Gt._mapExposures=Gt._createGateExposure=Gt._isExposureEvent=void 0;const uy="statsig::config_exposure",ly="statsig::gate_exposure",cy="statsig::layer_exposure",Fl=(r,t,e,n,i)=>(e.bootstrapMetadata&&(n.bootstrapMetadata=e.bootstrapMetadata),{eventName:r,user:t,value:null,metadata:jw(e,n),secondaryExposures:i,time:Date.now()}),kw=({eventName:r})=>r===ly||r===uy||r===cy;Gt._isExposureEvent=kw;const Uw=(r,t,e)=>{var n,i,o;const s={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return((n=t.__evaluation)===null||n===void 0?void 0:n.version)!=null&&(s.configVersion=t.__evaluation.version),Fl(ly,r,t.details,s,Os((o=(i=t.__evaluation)===null||i===void 0?void 0:i.secondary_exposures)!==null&&o!==void 0?o:[],e))};Gt._createGateExposure=Uw;function Os(r,t){return r.map(e=>typeof e=="string"?(t??{})[e]:e).filter(e=>e!=null)}Gt._mapExposures=Os;const Nw=(r,t,e)=>{var n,i,o,s;const a={config:t.name,ruleID:t.ruleID};return((n=t.__evaluation)===null||n===void 0?void 0:n.version)!=null&&(a.configVersion=t.__evaluation.version),((i=t.__evaluation)===null||i===void 0?void 0:i.passed)!=null&&(a.rulePassed=String(t.__evaluation.passed)),Fl(uy,r,t.details,a,Os((s=(o=t.__evaluation)===null||o===void 0?void 0:o.secondary_exposures)!==null&&s!==void 0?s:[],e))};Gt._createConfigExposure=Nw;const xw=(r,t,e,n)=>{var i,o,s,a,u,l,f;const c=t.__evaluation,h=((i=c==null?void 0:c.explicit_parameters)===null||i===void 0?void 0:i.includes(e))===!0;let d="",p=(o=c==null?void 0:c.undelegated_secondary_exposures)!==null&&o!==void 0?o:[];h&&(d=(s=c.allocated_experiment_name)!==null&&s!==void 0?s:"",p=(a=c.secondary_exposures)!==null&&a!==void 0?a:[]);const g=(u=t.__evaluation)===null||u===void 0?void 0:u.parameter_rule_ids,S={config:t.name,parameterName:e,ruleID:(l=g==null?void 0:g[e])!==null&&l!==void 0?l:t.ruleID,allocatedExperiment:d,isExplicitParameter:String(h)};return((f=t.__evaluation)===null||f===void 0?void 0:f.version)!=null&&(S.configVersion=t.__evaluation.version),Fl(cy,r,t.details,S,Os(p,n))};Gt._createLayerParameterExposure=xw;const jw=(r,t)=>(t.reason=r.reason,r.lcut&&(t.lcut=String(r.lcut)),r.receivedAt&&(t.receivedAt=String(r.receivedAt)),t);var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.LoggingEnabledOption=Ce.LogEventCompressionMode=void 0;Ce.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"};Ce.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"};var Re={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._setObjectInStorage=r._getObjectFromStorage=r.Storage=void 0;const t=Ot,e=He,n={},i={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:c=>n[c]?n[c]:null,setItem:(c,h)=>{n[c]=h},removeItem:c=>{delete n[c]},getAllKeys:()=>Object.keys(n)};let o=null;try{const c=(0,e._getWindowSafe)();c&&c.localStorage&&typeof c.localStorage.getItem=="function"&&(o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:h=>c.localStorage.getItem(h),setItem:(h,d)=>c.localStorage.setItem(h,d),removeItem:h=>c.localStorage.removeItem(h),getAllKeys:()=>Object.keys(c.localStorage)})}catch{t.Log.warn("Failed to setup localStorageProvider.")}let s=o??i,a=s;function u(c){try{return c()}catch(h){if(h instanceof Error&&h.name==="SecurityError")return r.Storage._setProvider(i),null;if(h instanceof Error&&h.name==="QuotaExceededError"){const p=r.Storage.getAllKeys().filter(g=>g.startsWith("statsig."));h.message=`${h.message}. Statsig Keys: ${p.length}`}throw h}}r.Storage={isReady:()=>a.isReady(),isReadyResolver:()=>a.isReadyResolver(),getProviderName:()=>a.getProviderName(),getItem:c=>u(()=>a.getItem(c)),setItem:(c,h)=>u(()=>a.setItem(c,h)),removeItem:c=>a.removeItem(c),getAllKeys:()=>a.getAllKeys(),_setProvider:c=>{s=c,a=c},_setDisabled:c=>{c?a=i:a=s}};function l(c){const h=r.Storage.getItem(c);return JSON.parse(h??"null")}r._getObjectFromStorage=l;function f(c,h){r.Storage.setItem(c,JSON.stringify(h))}r._setObjectInStorage=f})(Re);var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.UrlConfiguration=void 0;const Mw=Br,Uo=Xi,Bw={[Uo.Endpoint._initialize]:"i",[Uo.Endpoint._rgstr]:"e",[Uo.Endpoint._download_config_specs]:"d"};class Lw{constructor(t,e,n,i){this.customUrl=null,this.fallbackUrls=null,this.endpoint=t,this.endpointDnsKey=Bw[t],e&&(this.customUrl=e),!e&&n&&(this.customUrl=n.endsWith("/")?`${n}${t}`:`${n}/${t}`),i&&(this.fallbackUrls=i);const o=Uo.NetworkDefault[t];this.defaultUrl=`${o}/${t}`}getUrl(){var t;return(t=this.customUrl)!==null&&t!==void 0?t:this.defaultUrl}getChecksum(){var t;const e=((t=this.fallbackUrls)!==null&&t!==void 0?t:[]).sort().join(",");return(0,Mw._DJB2)(this.customUrl+e)}}Zi.UrlConfiguration=Lw;var Is={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._notifyVisibilityChanged=r._subscribeToVisiblityChanged=r._isUnloading=r._isCurrentlyVisible=void 0;const t=He,e="foreground",n="background",i=[];let o=e,s=!1;const a=()=>o===e;r._isCurrentlyVisible=a;const u=()=>s;r._isUnloading=u;const l=c=>{i.unshift(c)};r._subscribeToVisiblityChanged=l;const f=c=>{c!==o&&(o=c,i.forEach(h=>h(c)))};r._notifyVisibilityChanged=f,(0,t._addWindowEventListenerSafe)("focus",()=>{s=!1,(0,r._notifyVisibilityChanged)(e)}),(0,t._addWindowEventListenerSafe)("blur",()=>(0,r._notifyVisibilityChanged)(n)),(0,t._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,r._notifyVisibilityChanged)(document.visibilityState==="visible"?e:n)}),(0,t._addWindowEventListenerSafe)((0,t._getUnloadEvent)(),()=>{s=!0,(0,r._notifyVisibilityChanged)(n)})})(Is);var si=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.EventLogger=void 0;const qw=$e,Gw=Br,Xr=Ot,Th=Xi,Su=He,Ww=Gt,Dh=Ce,De=Re,zw=Zi,Fh=Is,Kw=100,Vw=1e4,Jw=1e3,Qw=6e5,Hw=500,kh=200,ai={},mo={Startup:"startup",GainedFocus:"gained_focus"};class tr{static _safeFlushAndForget(t){var e;(e=ai[t])===null||e===void 0||e.flush().catch(()=>{})}static _safeRetryFailedLogs(t){var e;(e=ai[t])===null||e===void 0||e._retryFailedLogs(mo.GainedFocus)}constructor(t,e,n,i){var o,s;this._sdkKey=t,this._emitter=e,this._network=n,this._options=i,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=(o=i==null?void 0:i.loggingEnabled)!==null&&o!==void 0?o:(i==null?void 0:i.disableLogging)===!0?Dh.LoggingEnabledOption.disabled:Dh.LoggingEnabledOption.browserOnly,i!=null&&i.loggingEnabled&&i.disableLogging!==void 0&&Xr.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=(s=i==null?void 0:i.loggingBufferMaxSize)!==null&&s!==void 0?s:Kw;const a=i==null?void 0:i.networkConfig;this._logEventUrlConfig=new zw.UrlConfiguration(Th.Endpoint._rgstr,a==null?void 0:a.logEventUrl,a==null?void 0:a.api,a==null?void 0:a.logEventFallbackUrls)}setLogEventCompressionMode(t){this._network.setLogEventCompressionMode(t)}setLoggingEnabled(t){if(this._loggingEnabled==="disabled"&&t!=="disabled"){const e=this._getStorageKey(),n=(0,De._getObjectFromStorage)(e);n&&this._queue.push(...n),De.Storage.removeItem(e)}this._loggingEnabled=t}enqueue(t){this._shouldLogEvent(t)&&(this._normalizeAndAppendEvent(t),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&tr._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(t){var e;const n=(e=this._nonExposedChecks[t])!==null&&e!==void 0?e:0;this._nonExposedChecks[t]=n+1}reset(){this.flush().catch(()=>{}),this._lastExposureTimeMap={}}start(){var t;const e=(0,Su._isServerEnv)();e&&((t=this._options)===null||t===void 0?void 0:t.loggingEnabled)!=="always"||(ai[this._sdkKey]=this,e||(0,Fh._subscribeToVisiblityChanged)(n=>{n==="background"?tr._safeFlushAndForget(this._sdkKey):n==="foreground"&&tr._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(mo.Startup),this._startBackgroundFlushInterval())}stop(){return si(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete ai[this._sdkKey],yield this.flush()})}flush(){return si(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),this._queue.length===0)return;const t=this._queue;this._queue=[],yield this._sendEvents(t)})}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,!(Date.now()-this._creationTime>kh)&&setTimeout(()=>tr._safeFlushAndForget(this._sdkKey),kh))}_shouldLogEvent(t){var e;if(((e=this._options)===null||e===void 0?void 0:e.loggingEnabled)!=="always"&&(0,Su._isServerEnv)())return!1;if(!(0,Ww._isExposureEvent)(t))return!0;const n=t.user?t.user:{statsigEnvironment:void 0},i=(0,qw._getUserStorageKey)(this._sdkKey,n),o=t.metadata?t.metadata:{},s=[t.eventName,i,o.gate,o.config,o.ruleID,o.allocatedExperiment,o.parameterName,String(o.isExplicitParameter),o.reason].join("|"),a=this._lastExposureTimeMap[s],u=Date.now();return a&&u-a<Qw?!1:(Object.keys(this._lastExposureTimeMap).length>Jw&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[s]=u,!0)}_sendEvents(t){return si(this,void 0,void 0,function*(){var e,n;if(this._loggingEnabled==="disabled")return this._saveFailedLogsToStorage(t),!1;try{const o=(0,Fh._isUnloading)()&&this._network.isBeaconSupported()&&((n=(e=this._options)===null||e===void 0?void 0:e.networkConfig)===null||n===void 0?void 0:n.networkOverrideFunc)==null;return this._emitter({name:"pre_logs_flushed",events:t}),(o?this._sendEventsViaBeacon(t):yield this._sendEventsViaPost(t)).success?(this._emitter({name:"logs_flushed",events:t}),!0):(Xr.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(t),!1)}catch{return Xr.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(t){return si(this,void 0,void 0,function*(){var e;const n=yield this._network.post(this._getRequestData(t)),i=(e=n==null?void 0:n.code)!==null&&e!==void 0?e:-1;return{success:i>=200&&i<300}})}_sendEventsViaBeacon(t){return{success:this._network.beacon(this._getRequestData(t))}}_getRequestData(t){return{sdkKey:this._sdkKey,data:{events:t},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[Th.NetworkParam.EventCount]:String(t.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(t){for(;t.length>Hw;)t.shift();const e=this._getStorageKey();try{(0,De._setObjectInStorage)(e,t)}catch{Xr.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(t){const e=this._getStorageKey();si(this,void 0,void 0,function*(){De.Storage.isReady()||(yield De.Storage.isReadyResolver());const n=(0,De._getObjectFromStorage)(e);if(!n)return;t===mo.Startup&&De.Storage.removeItem(e),(yield this._sendEvents(n))&&t===mo.GainedFocus&&De.Storage.removeItem(e)}).catch(()=>{Xr.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,Gw._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(t){t.user&&(t.user=Object.assign({},t.user),delete t.user.privateAttributes);const e={},n=this._getCurrentPageUrl();n&&(e.statsigMetadata={currentPage:n});const i=Object.assign(Object.assign({},t),e);Xr.Log.debug("Enqueued Event:",i),this._queue.push(i)}_appendAndResetNonExposedChecks(){Object.keys(this._nonExposedChecks).length!==0&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var t;if(((t=this._options)===null||t===void 0?void 0:t.includeCurrentPageUrlWithEvents)!==!1)return(0,Su._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var t,e;const n=(e=(t=this._options)===null||t===void 0?void 0:t.loggingIntervalMs)!==null&&e!==void 0?e:Vw,i=setInterval(()=>{const o=ai[this._sdkKey];!o||o._flushIntervalId!==i?clearInterval(i):tr._safeFlushAndForget(this._sdkKey)},n);this._flushIntervalId=i}}Yi.EventLogger=tr;var wi={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigMetadataProvider=r.SDK_VERSION=void 0,r.SDK_VERSION="3.25.2";let t={sdkVersion:r.SDK_VERSION,sdkType:"js-mono"};r.StatsigMetadataProvider={get:()=>t,add:e=>{t=Object.assign(Object.assign({},t),e)}}})(wi);var fy={};Object.defineProperty(fy,"__esModule",{value:!0});var Jn={},Te={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.getUUID=void 0;function Yw(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();let r=new Date().getTime(),t=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(Math.random()*4)]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,n=>{let i=Math.random()*16;return r>0?(i=(r+i)%16|0,r=Math.floor(r/16)):(i=(t+i)%16|0,t=Math.floor(t/16)),(n==="x"?i:i&7|8).toString(16)})}ri.getUUID=Yw;Object.defineProperty(Te,"__esModule",{value:!0});Te.getCookieName=Te.StableID=void 0;const hy=$e,Xw=Ot,dy=He,py=Re,Zw=ri,ui={},kl={},Uh={};Te.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:r=>{if(Uh[r])return null;if(ui[r]!=null)return ui[r];let t=null;return t=eA(r),t!=null?(ui[r]=t,Eu(t,r),t):(t=tA(r),t==null&&(t=(0,Zw.getUUID)()),Eu(t,r),Nh(t,r),ui[r]=t,t)},setOverride:(r,t)=>{ui[t]=r,Eu(r,t),Nh(r,t)},_setCookiesEnabled:(r,t)=>{kl[r]=t},_setDisabled:(r,t)=>{Uh[r]=t}};function yy(r){return`statsig.stable_id.${(0,hy._getStorageKey)(r)}`}function Eu(r,t){const e=yy(t);try{(0,py._setObjectInStorage)(e,r)}catch{Xw.Log.warn("Failed to save StableID to storage")}}function tA(r){const t=yy(r);return(0,py._getObjectFromStorage)(t)}function eA(r){if(!kl[r]||(0,dy._getDocumentSafe)()==null)return null;const t=document.cookie.split(";");for(const e of t){const[n,i]=e.trim().split("=");if(n===Ul(r))return decodeURIComponent(i)}return null}function Nh(r,t){if(!kl[t]||(0,dy._getDocumentSafe)()==null)return;const e=new Date;e.setFullYear(e.getFullYear()+1),document.cookie=`${Ul(t)}=${encodeURIComponent(r)}; expires=${e.toUTCString()}; path=/`}function Ul(r){return`statsig.stable_id.${(0,hy._getStorageKey)(r)}`}Te.getCookieName=Ul;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r._getFullUserHash=$r._normalizeUser=void 0;const rA=Br,nA=Ot;function iA(r,t,e){try{const n=JSON.parse(JSON.stringify(r));return t!=null&&t.environment!=null?n.statsigEnvironment=t.environment:e!=null&&(n.statsigEnvironment={tier:e}),n}catch{return nA.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}}$r._normalizeUser=iA;function oA(r){return r?(0,rA._DJB2Object)(r):null}$r._getFullUserHash=oA;var to={};Object.defineProperty(to,"__esModule",{value:!0});to._typedJsonParse=void 0;const sA=Ot;function aA(r,t,e){try{const n=JSON.parse(r);if(n&&typeof n=="object"&&t in n)return n}catch{}return sA.Log.error(`Failed to parse ${e}`),null}to._typedJsonParse=aA;var wu=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty(Jn,"__esModule",{value:!0});Jn._makeDataAdapterResult=Jn.DataAdapterCore=void 0;const No=Ot,xh=Te,xo=$r,Fe=Re,jh=to,uA=10,lA=8;class cA{constructor(t,e){this._adapterName=t,this._cacheSuffix=e,this._options=null,this._sdkKey=null,this._cacheLimit=uA,this._lastModifiedStoreKey=`statsig.last_modified_time.${e}`,this._inMemoryCache=new fA}attach(t,e,n){this._sdkKey=t,this._options=e}getDataSync(t){const e=t&&(0,xo._normalizeUser)(t,this._options),n=this._getCacheKey(e),i=this._inMemoryCache.get(n,e);if(i&&this._getIsCacheValueValid(i))return i;const o=this._loadFromCache(n);return o&&this._getIsCacheValueValid(o)?(this._inMemoryCache.add(n,o,this._cacheLimit),this._inMemoryCache.get(n,e)):null}setData(t,e){const n=e&&(0,xo._normalizeUser)(e,this._options),i=this._getCacheKey(n);this._inMemoryCache.add(i,jo("Bootstrap",t,null,n),this._cacheLimit)}_getIsCacheValueValid(t){return t.stableID==null||t.stableID===xh.StableID.get(this._getSdkKey())}_getDataAsyncImpl(t,e,n){return wu(this,void 0,void 0,function*(){Fe.Storage.isReady()||(yield Fe.Storage.isReadyResolver());const i=t??this.getDataSync(e),o=[this._fetchAndPrepFromNetwork(i,e,n)];return n!=null&&n.timeoutMs&&o.push(new Promise(s=>setTimeout(s,n.timeoutMs)).then(()=>(No.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(o)})}_prefetchDataImpl(t,e){return wu(this,void 0,void 0,function*(){const n=t&&(0,xo._normalizeUser)(t,this._options),i=this._getCacheKey(n),o=yield this._getDataAsyncImpl(null,n,e);o&&this._inMemoryCache.add(i,Object.assign(Object.assign({},o),{source:"Prefetch"}),this._cacheLimit)})}_fetchAndPrepFromNetwork(t,e,n){return wu(this,void 0,void 0,function*(){var i;const o=(i=t==null?void 0:t.data)!==null&&i!==void 0?i:null,s=t!=null&&this._isCachedResultValidFor204(t,e),a=yield this._fetchFromNetwork(o,e,n,s);if(!a)return No.Log.debug("No response returned for latest value"),null;const u=(0,jh._typedJsonParse)(a,"has_updates","Response"),l=this._getSdkKey(),f=xh.StableID.get(l);let c=null;if((u==null?void 0:u.has_updates)===!0)c=jo("Network",a,f,e);else if(o&&(u==null?void 0:u.has_updates)===!1)c=jo("NetworkNotModified",o,f,e);else return null;const h=this._getCacheKey(e);return this._inMemoryCache.add(h,c,this._cacheLimit),this._writeToCache(h,c),c})}_getSdkKey(){return this._sdkKey!=null?this._sdkKey:(No.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(t){var e;const n=(e=Fe.Storage.getItem)===null||e===void 0?void 0:e.call(Fe.Storage,t);if(n==null)return null;const i=(0,jh._typedJsonParse)(n,"source","Cached Result");return i?Object.assign(Object.assign({},i),{source:"Cache"}):null}_writeToCache(t,e){const n=JSON.stringify(e);for(let i=0;i<lA;i++)try{Fe.Storage.setItem(t,n);break}catch(o){if(!(o instanceof Error)||o.name!=="QuotaExceededError"||this._cacheLimit<=1)throw o;this._cacheLimit=Math.ceil(this._cacheLimit/2),this._runLocalStorageCacheEviction(t,this._cacheLimit-1)}this._runLocalStorageCacheEviction(t)}_runLocalStorageCacheEviction(t,e=this._cacheLimit){var n;const i=(n=(0,Fe._getObjectFromStorage)(this._lastModifiedStoreKey))!==null&&n!==void 0?n:{};i[t]=Date.now();const o=gy(i,e);for(const s of o)delete i[s],Fe.Storage.removeItem(s);(0,Fe._setObjectInStorage)(this._lastModifiedStoreKey,i)}}Jn.DataAdapterCore=cA;function jo(r,t,e,n){return{source:r,data:t,receivedAt:Date.now(),stableID:e,fullUserHash:(0,xo._getFullUserHash)(n)}}Jn._makeDataAdapterResult=jo;class fA{constructor(){this._data={}}get(t,e){var n;const i=this._data[t],o=i==null?void 0:i.stableID,s=(n=e==null?void 0:e.customIDs)===null||n===void 0?void 0:n.stableID;return s&&o&&s!==o?(No.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):i}add(t,e,n){const i=gy(this._data,n-1);for(const o of i)delete this._data[o];this._data[t]=e}merge(t){this._data=Object.assign(Object.assign({},this._data),t)}}function gy(r,t){const e=Object.keys(r);return e.length<=t?[]:t===0?e:e.sort((n,i)=>{const o=r[n],s=r[i];return typeof o=="object"&&typeof s=="object"?o.receivedAt-s.receivedAt:o-s}).slice(0,e.length-t)}var vy={};Object.defineProperty(vy,"__esModule",{value:!0});var Nl={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.SDKType=void 0;const Mh={};let Zr;ni.SDKType={_get:r=>{var t;return((t=Mh[r])!==null&&t!==void 0?t:"js-mono")+(Zr??"")},_setClientType(r,t){Mh[r]=t},_setBindingType(r){(!Zr||Zr==="-react")&&(Zr="-"+r)}};(function(r){var t=H&&H.__awaiter||function(c,h,d,p){function g(S){return S instanceof d?S:new d(function(E){E(S)})}return new(d||(d=Promise))(function(S,E){function _(O){try{A(p.next(O))}catch(I){E(I)}}function w(O){try{A(p.throw(O))}catch(I){E(I)}}function A(O){O.done?S(O.value):g(O.value).then(_,w)}A((p=p.apply(c,h||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorBoundary=r.EXCEPTION_ENDPOINT=void 0;const e=Ot,n=ni,i=wi;r.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const o="[Statsig] UnknownError";class s{constructor(h,d,p,g){this._sdkKey=h,this._options=d,this._emitter=p,this._lastSeenError=g,this._seen=new Set}wrap(h,d){try{const p=h;l(p).forEach(g=>{const S=p[g];"$EB"in S||(p[g]=(...E)=>this._capture(d?`${d}:${g}`:g,()=>S.apply(h,E)),p[g].$EB=!0)})}catch(p){this._onError("eb:wrap",p)}}logError(h,d){this._onError(h,d)}getLastSeenErrorAndReset(){const h=this._lastSeenError;return this._lastSeenError=void 0,h??null}attachErrorIfNoneExists(h){this._lastSeenError||(this._lastSeenError=a(h))}_capture(h,d){try{const p=d();return p&&p instanceof Promise?p.catch(g=>this._onError(h,g)):p}catch(p){return this._onError(h,p),null}}_onError(h,d){try{e.Log.warn(`Caught error in ${h}`,{error:d}),t(this,void 0,void 0,function*(){var g,S,E,_,w,A,O;const I=d||Error(o),F=I instanceof Error,$=F?I.name:"No Name",K=a(I);if(this._lastSeenError=K,this._seen.has($))return;if(this._seen.add($),!((S=(g=this._options)===null||g===void 0?void 0:g.networkConfig)===null||S===void 0)&&S.preventAllNetworkTraffic){(E=this._emitter)===null||E===void 0||E.call(this,{name:"error",error:d,tag:h});return}const et=n.SDKType._get(this._sdkKey),ft=i.StatsigMetadataProvider.get(),ct=F?I.stack:u(I),st=Object.assign({tag:h,exception:$,info:ct,statsigOptions:f(this._options)},Object.assign(Object.assign({},ft),{sdkType:et}));yield((A=(w=(_=this._options)===null||_===void 0?void 0:_.networkConfig)===null||w===void 0?void 0:w.networkOverrideFunc)!==null&&A!==void 0?A:fetch)(r.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(et),"STATSIG-SDK-VERSION":String(ft.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(st)}),(O=this._emitter)===null||O===void 0||O.call(this,{name:"error",error:d,tag:h})}).then(()=>{}).catch(()=>{})}catch{}}}r.ErrorBoundary=s;function a(c){return c instanceof Error?c:typeof c=="string"?new Error(c):new Error("An unknown error occurred.")}function u(c){try{return JSON.stringify(c)}catch{return o}}function l(c){const h=new Set;let d=Object.getPrototypeOf(c);for(;d&&d!==Object.prototype;)Object.getOwnPropertyNames(d).filter(p=>typeof(d==null?void 0:d[p])=="function").forEach(p=>h.add(p)),d=Object.getPrototypeOf(d);return Array.from(h)}function f(c){if(!c)return{};const h={};return Object.keys(c).forEach(d=>{const p=d,g=c[p];switch(typeof g){case"number":case"bigint":case"boolean":h[String(p)]=g;break;case"string":g.length<50?h[String(p)]=g:h[String(p)]="set";break;case"object":p==="environment"?h.environment=g:p==="networkConfig"?h.networkConfig=g:h[String(p)]=g!=null?"set":"unset";break}}),h}})(Nl);var my={};Object.defineProperty(my,"__esModule",{value:!0});var by={};Object.defineProperty(by,"__esModule",{value:!0});var _y={};Object.defineProperty(_y,"__esModule",{value:!0});var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.createMemoKey=Cr.MemoPrefix=void 0;Cr.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};const hA=new Set([]),dA=new Set(["userPersistedValues"]);function pA(r,t,e){let n=`${r}|${t}`;if(!e)return n;for(const i of Object.keys(e)){if(dA.has(i))return;hA.has(i)?n+=`|${i}=true`:n+=`|${i}=${e[i]}`}return n}Cr.createMemoKey=pA;var $s={},Qn={},Cs={},yA=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty(Cs,"__esModule",{value:!0});Cs._fetchTxtRecords=void 0;const gA=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),vA="https://cloudflare-dns.com/dns-query",mA=["i","e","d"],bA=200;function _A(r){return yA(this,void 0,void 0,function*(){const t=yield r(vA,{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:gA});if(!t.ok){const i=new Error("Failed to fetch TXT records from DNS");throw i.name="DnsTxtFetchError",i}const e=yield t.arrayBuffer(),n=new Uint8Array(e);return SA(n)})}Cs._fetchTxtRecords=_A;function SA(r){const t=r.findIndex((n,i)=>i<bA&&String.fromCharCode(n)==="="&&mA.includes(String.fromCharCode(r[i-1])));if(t===-1){const n=new Error("Failed to parse TXT records from DNS");throw n.name="DnsTxtParseError",n}let e="";for(let n=t-1;n<r.length;n++)e+=String.fromCharCode(r[n]);return e.split(",")}var Bh=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty(Qn,"__esModule",{value:!0});Qn._isDomainFailure=Qn.NetworkFallbackResolver=void 0;const EA=Cs,wA=Br,AA=Ot,ol=Re,Lh=7*24*60*60*1e3,PA=4*60*60*1e3;class OA{constructor(t){var e;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=(e=t.networkConfig)===null||e===void 0?void 0:e.networkOverrideFunc}setErrorBoundary(t){this._errorBoundary=t}tryBumpExpiryTime(t,e){var n;const i=(n=this._fallbackInfo)===null||n===void 0?void 0:n[e.endpoint];i&&(i.expiryTime=Date.now()+Lh,Au(t,Object.assign(Object.assign({},this._fallbackInfo),{[e.endpoint]:i})))}getActiveFallbackUrl(t,e){var n,i;if(e.customUrl!=null&&e.fallbackUrls!=null)return null;let o=this._fallbackInfo;o==null&&(o=(n=IA(t))!==null&&n!==void 0?n:{},this._fallbackInfo=o);const s=o[e.endpoint];return!s||Date.now()>((i=s.expiryTime)!==null&&i!==void 0?i:0)||e.getChecksum()!==s.urlConfigChecksum?(delete o[e.endpoint],this._fallbackInfo=o,Au(t,this._fallbackInfo),null):s.url?s.url:null}tryFetchUpdatedFallbackInfo(t,e,n,i){return Bh(this,void 0,void 0,function*(){var o,s;try{if(!Sy(n,i))return!1;const u=e.customUrl==null&&e.fallbackUrls==null?yield this._tryFetchFallbackUrlsFromNetwork(e):e.fallbackUrls,l=this._pickNewFallbackUrl((o=this._fallbackInfo)===null||o===void 0?void 0:o[e.endpoint],u);return l?(this._updateFallbackInfoWithNewUrl(t,e,l),!0):!1}catch(a){return(s=this._errorBoundary)===null||s===void 0||s.logError("tryFetchUpdatedFallbackInfo",a),!1}})}_updateFallbackInfoWithNewUrl(t,e,n){var i,o,s;const a={urlConfigChecksum:e.getChecksum(),url:n,expiryTime:Date.now()+Lh,previous:[]},u=e.endpoint,l=(i=this._fallbackInfo)===null||i===void 0?void 0:i[u];l&&a.previous.push(...l.previous),a.previous.length>10&&(a.previous=[]);const f=(s=(o=this._fallbackInfo)===null||o===void 0?void 0:o[u])===null||s===void 0?void 0:s.url;f!=null&&a.previous.push(f),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[u]:a}),Au(t,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(t){return Bh(this,void 0,void 0,function*(){var e;const n=this._dnsQueryCooldowns[t.endpoint];if(n&&Date.now()<n)return null;this._dnsQueryCooldowns[t.endpoint]=Date.now()+PA;const i=[],o=yield(0,EA._fetchTxtRecords)((e=this._networkOverrideFunc)!==null&&e!==void 0?e:fetch),s=$A(t.defaultUrl);for(const a of o){if(!a.startsWith(t.endpointDnsKey+"="))continue;const u=a.split("=");if(u.length>1){let l=u[1];l.endsWith("/")&&(l=l.slice(0,-1)),i.push(`https://${l}${s}`)}}return i})}_pickNewFallbackUrl(t,e){var n;if(e==null)return null;const i=new Set((n=t==null?void 0:t.previous)!==null&&n!==void 0?n:[]),o=t==null?void 0:t.url;let s=null;for(const a of e){const u=a.endsWith("/")?a.slice(0,-1):a;if(!i.has(a)&&u!==o){s=u;break}}return s}}Qn.NetworkFallbackResolver=OA;function Sy(r,t){var e;const n=(e=r==null?void 0:r.toLowerCase())!==null&&e!==void 0?e:"";return t||n.includes("uncaught exception")||n.includes("failed to fetch")||n.includes("networkerror when attempting to fetch resource")}Qn._isDomainFailure=Sy;function Ey(r){return`statsig.network_fallback.${(0,wA._DJB2)(r)}`}function Au(r,t){const e=Ey(r);if(!t||Object.keys(t).length===0){ol.Storage.removeItem(e);return}ol.Storage.setItem(e,JSON.stringify(t))}function IA(r){const t=Ey(r),e=ol.Storage.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return AA.Log.error("Failed to parse FallbackInfo"),null}}function $A(r){try{return new URL(r).pathname}catch{return null}}var eo={};Object.defineProperty(eo,"__esModule",{value:!0});eo.SDKFlags=void 0;const qh={};eo.SDKFlags={setFlags:(r,t)=>{qh[r]=t},get:(r,t)=>{var e,n;return(n=(e=qh[r])===null||e===void 0?void 0:e[t])!==null&&n!==void 0?n:!1}};var Rs={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigSession=r.SessionID=void 0;const t=Vn,e=$e,n=Ot,i=Re,o=ri,s=30*60*1e3,a=4*60*60*1e3,u={};r.SessionID={get:_=>r.StatsigSession.get(_).data.sessionID},r.StatsigSession={get:_=>{u[_]==null&&(u[_]=l(_));const w=u[_];return c(w)},overrideInitialSessionID:(_,w)=>{u[w]=f(_,w)}};function l(_){let w=E(_);const A=Date.now();return w||(w={sessionID:(0,o.getUUID)(),startTime:A,lastUpdate:A}),{data:w,sdkKey:_}}function f(_,w){const A=Date.now();return{data:{sessionID:_,startTime:A,lastUpdate:A},sdkKey:w}}function c(_){const w=Date.now(),A=_.data,O=_.sdkKey;if(d(A)||p(A)){A.sessionID=(0,o.getUUID)(),A.startTime=w;const F=__STATSIG__==null?void 0:__STATSIG__.instance(O);F&&F.$emt({name:"session_expired"})}A.lastUpdate=w,S(A,_.sdkKey),clearTimeout(_.idleTimeoutID),clearTimeout(_.ageTimeoutID);const I=w-A.startTime;return _.idleTimeoutID=h(O,s),_.ageTimeoutID=h(O,a-I),_}function h(_,w){return setTimeout(()=>{var A;const O=(A=(0,t._getStatsigGlobal)())===null||A===void 0?void 0:A.instance(_);O&&O.$emt({name:"session_expired"})},w)}function d({lastUpdate:_}){return Date.now()-_>s}function p({startTime:_}){return Date.now()-_>a}function g(_){return`statsig.session_id.${(0,e._getStorageKey)(_)}`}function S(_,w){const A=g(w);try{(0,i._setObjectInStorage)(A,_)}catch{n.Log.warn("Failed to save SessionID")}}function E(_){const w=g(_);return(0,i._getObjectFromStorage)(w)}})(Rs);var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.ErrorTag=void 0;ro.ErrorTag={NetworkError:"NetworkError"};var Mo=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty($s,"__esModule",{value:!0});$s.NetworkCore=void 0;const wy=Vn,sl=us,Ze=Ot,te=Xi,CA=Qn,RA=eo,Ay=ni,TA=He,Py=Rs,DA=Te,FA=ro,Oy=wi,mi=Ce,kA=Is,UA=1e4,NA=500,xA=3e4,jA=1e3,Iy=50,MA=Iy/jA,BA=new Set([408,500,502,503,504,522,524,599]);class LA{constructor(t,e){this._emitter=e,this._errorBoundary=null,this._timeout=UA,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,t&&(this._options=t),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new CA.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(t))}setLogEventCompressionMode(t){this._options.logEventCompressionMode=t}setErrorBoundary(t){this._errorBoundary=t,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(t)}isBeaconSupported(){return typeof navigator<"u"&&typeof navigator.sendBeacon=="function"}getLastUsedInitUrlAndReset(){const t=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,t}beacon(t){if(!Gh(t))return!1;const e=this._getInternalRequestArgs("POST",t),n=this._getPopulatedURL(e),i=navigator;return i.sendBeacon.bind(i)(n,e.body)}post(t){return Mo(this,void 0,void 0,function*(){const e=this._getInternalRequestArgs("POST",t);return this._tryEncodeBody(e),yield this._tryToCompressBody(e),this._sendRequest(e)})}get(t){const e=this._getInternalRequestArgs("GET",t);return this._sendRequest(e)}_sendRequest(t){return Mo(this,void 0,void 0,function*(){var e,n,i,o;if(!Gh(t)||this._netConfig.preventAllNetworkTraffic)return null;const{method:s,body:a,retries:u,attempt:l}=t,f=t.urlConfig.endpoint;if(this._isRateLimited(f))return Ze.Log.warn(`Request to ${f} was blocked because you are making requests too frequently.`),null;const c=l??1,h=typeof AbortController<"u"?new AbortController:null,d=setTimeout(()=>{h==null||h.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),p=this._getPopulatedURL(t);let g=null;const S=(0,kA._isUnloading)();try{const E={method:s,body:a,headers:Object.assign({},t.headers),signal:h==null?void 0:h.signal,priority:t.priority,keepalive:S};KA(t,c);const _=this._leakyBucket[f];if(_&&(_.lastRequestTime=Date.now(),this._leakyBucket[f]=_),g=yield((e=this._netConfig.networkOverrideFunc)!==null&&e!==void 0?e:fetch)(p,E),clearTimeout(d),!g.ok){const O=yield g.text().catch(()=>"No Text"),I=new Error(`NetworkError: ${p} ${O}`);throw I.name="NetworkError",I}const A=yield g.text();return Wh(t,g,c,A),this._fallbackResolver.tryBumpExpiryTime(t.sdkKey,t.urlConfig),{body:A,code:g.status}}catch(E){const _=WA(h,E),w=zA(h);if(Wh(t,g,c,"",E),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(t.sdkKey,t.urlConfig,_,w))&&(t.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig)),!u||c>u||!BA.has((n=g==null?void 0:g.status)!==null&&n!==void 0?n:500)){(i=this._emitter)===null||i===void 0||i.call(this,{name:"error",error:E,tag:FA.ErrorTag.NetworkError,requestArgs:t});const O=`A networking error occurred during ${s} request to ${p}.`;return Ze.Log.error(O,_,E),(o=this._errorBoundary)===null||o===void 0||o.attachErrorIfNoneExists(O),null}return yield VA(c),this._sendRequest(Object.assign(Object.assign({},t),{retries:u,attempt:c+1}))}})}_getLogEventCompressionMode(t){let e=t==null?void 0:t.logEventCompressionMode;return!e&&(t==null?void 0:t.disableCompression)===!0&&(e=mi.LogEventCompressionMode.Disabled),e||(e=mi.LogEventCompressionMode.Enabled),e}_isRateLimited(t){var e;const n=Date.now(),i=(e=this._leakyBucket[t])!==null&&e!==void 0?e:{count:0,lastRequestTime:n},o=n-i.lastRequestTime,s=Math.floor(o*MA);return i.count=Math.max(0,i.count-s),i.count>=Iy?!0:(i.count+=1,i.lastRequestTime=n,this._leakyBucket[t]=i,!1)}_getPopulatedURL(t){var e;const n=(e=t.fallbackUrl)!==null&&e!==void 0?e:t.urlConfig.getUrl();(t.urlConfig.endpoint===te.Endpoint._initialize||t.urlConfig.endpoint===te.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=n);const i=Object.assign({[te.NetworkParam.SdkKey]:t.sdkKey,[te.NetworkParam.SdkType]:Ay.SDKType._get(t.sdkKey),[te.NetworkParam.SdkVersion]:Oy.SDK_VERSION,[te.NetworkParam.Time]:String(Date.now()),[te.NetworkParam.SessionID]:Py.SessionID.get(t.sdkKey)},t.params),o=Object.keys(i).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(i[s])}`).join("&");return`${n}${o?`?${o}`:""}`}_tryEncodeBody(t){var e;const n=(0,TA._getWindowSafe)(),i=t.body;if(!(!t.isStatsigEncodable||this._options.disableStatsigEncoding||typeof i!="string"||(0,wy._getStatsigGlobalFlag)("no-encode")!=null||!(n!=null&&n.btoa)))try{t.body=n.btoa(i).split("").reverse().join(""),t.params=Object.assign(Object.assign({},(e=t.params)!==null&&e!==void 0?e:{}),{[te.NetworkParam.StatsigEncoded]:"1"})}catch(o){Ze.Log.warn(`Request encoding failed for ${t.urlConfig.getUrl()}`,o)}}_tryToCompressBody(t){return Mo(this,void 0,void 0,function*(){var e;const n=t.body;if(!(typeof n!="string"||!GA(t,this._options)))try{const i=new TextEncoder().encode(n),o=new CompressionStream("gzip"),s=o.writable.getWriter();s.write(i).catch(Ze.Log.error),s.close().catch(Ze.Log.error);const a=o.readable.getReader(),u=[];let l;for(;!(l=yield a.read()).done;)u.push(l.value);const f=u.reduce((d,p)=>d+p.length,0),c=new Uint8Array(f);let h=0;for(const d of u)c.set(d,h),h+=d.length;t.body=c,t.params=Object.assign(Object.assign({},(e=t.params)!==null&&e!==void 0?e:{}),{[te.NetworkParam.IsGzipped]:"1"})}catch(i){Ze.Log.warn(`Request compression failed for ${t.urlConfig.getUrl()}`,i)}})}_getInternalRequestArgs(t,e){const n=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig),i=Object.assign(Object.assign({},e),{method:t,fallbackUrl:n});return"data"in e&&qA(i,e.data),i}}$s.NetworkCore=LA;const Gh=r=>r.sdkKey?!0:(Ze.Log.warn("Unable to make request without an SDK key"),!1),qA=(r,t)=>{const{sdkKey:e,fallbackUrl:n}=r,i=DA.StableID.get(e),o=Py.SessionID.get(e),s=Ay.SDKType._get(e);r.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},Oy.StatsigMetadataProvider.get()),{stableID:i,sessionID:o,sdkType:s,fallbackUrl:n})}))};function GA(r,t){if(!r.isCompressable||(0,wy._getStatsigGlobalFlag)("no-compress")!=null||typeof CompressionStream>"u"||typeof TextEncoder>"u")return!1;const e=r.urlConfig.customUrl!=null||r.urlConfig.fallbackUrls!=null,n=RA.SDKFlags.get(r.sdkKey,"enable_log_event_compression")===!0;switch(t.logEventCompressionMode){case mi.LogEventCompressionMode.Disabled:return!1;case mi.LogEventCompressionMode.Enabled:return!(e&&!n);case mi.LogEventCompressionMode.Forced:return!0;default:return!1}}function WA(r,t){return r!=null&&r.signal.aborted&&typeof r.signal.reason=="string"?r.signal.reason:typeof t=="string"?t:t instanceof Error?`${t.name}: ${t.message}`:"Unknown Error"}function zA(r){return(r==null?void 0:r.signal.aborted)&&typeof r.signal.reason=="string"&&r.signal.reason.includes("Timeout")||!1}function KA(r,t){r.urlConfig.endpoint===te.Endpoint._initialize&&sl.Diagnostics._markInitNetworkReqStart(r.sdkKey,{attempt:t})}function Wh(r,t,e,n,i){r.urlConfig.endpoint===te.Endpoint._initialize&&sl.Diagnostics._markInitNetworkReqEnd(r.sdkKey,sl.Diagnostics._getDiagnosticsData(t,e,n,i))}function VA(r){return Mo(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,Math.min(NA*(r*r),xA)))})}var $y={};Object.defineProperty($y,"__esModule",{value:!0});var Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});var Ry={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._fastApproxSizeOf=void 0;const t=2,e=1,n=(i,o)=>{let s=0;const a=Object.keys(i);for(let u=0;u<a.length;u++){const l=a[u],f=i[l];if(s+=l.length,typeof f=="object"&&f!==null?s+=(0,r._fastApproxSizeOf)(f,o)+t:s+=String(f).length+e,s>=o)return s}return s};r._fastApproxSizeOf=n})(Ry);var Ts={},JA=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.StatsigClientBase=void 0;const QA=Vn,HA=Nl,YA=Yi,al=Ot,XA=Cr,ZA=He,tP=Rs,Pu=Te,eP=Ce,bo=Re,rP=3e3;class nP{constructor(t,e,n,i){var o,s,a,u;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const l=this.$emt.bind(this);(i==null?void 0:i.logLevel)!=null&&(al.Log.level=i.logLevel),i!=null&&i.disableStorage&&bo.Storage._setDisabled(!0),i!=null&&i.initialSessionID&&tP.StatsigSession.overrideInitialSessionID(i.initialSessionID,t),i!=null&&i.storageProvider&&bo.Storage._setProvider(i.storageProvider),i!=null&&i.enableCookies&&Pu.StableID._setCookiesEnabled(t,i.enableCookies),i!=null&&i.disableStableID&&Pu.StableID._setDisabled(t,!0),this._sdkKey=t,this._options=i??{},this._memoCache={},this.overrideAdapter=(o=i==null?void 0:i.overrideAdapter)!==null&&o!==void 0?o:null,this._logger=new YA.EventLogger(t,l,n,i),this._errorBoundary=new HA.ErrorBoundary(t,i,l),this._errorBoundary.wrap(this),this._errorBoundary.wrap(e),this._errorBoundary.wrap(this._logger),n.setErrorBoundary(this._errorBoundary),this.dataAdapter=e,this.dataAdapter.attach(t,i,n),this.storageProvider=bo.Storage,(u=(a=(s=this.overrideAdapter)===null||s===void 0?void 0:s.loadFromStorage)===null||a===void 0?void 0:a.call(s))===null||u===void 0||u.catch(f=>this._errorBoundary.logError("OA::loadFromStorage",f)),this._primeReadyRipcord(),iP(t,this)}updateRuntimeOptions(t){t.loggingEnabled?(this._options.loggingEnabled=t.loggingEnabled,this._logger.setLoggingEnabled(t.loggingEnabled)):t.disableLogging!=null&&(this._options.disableLogging=t.disableLogging,this._logger.setLoggingEnabled(t.disableLogging?"disabled":"browser-only")),t.disableStorage!=null&&(this._options.disableStorage=t.disableStorage,bo.Storage._setDisabled(t.disableStorage)),t.enableCookies!=null&&(this._options.enableCookies=t.enableCookies,Pu.StableID._setCookiesEnabled(this._sdkKey,t.enableCookies)),t.logEventCompressionMode?this._logger.setLogEventCompressionMode(t.logEventCompressionMode):t.disableCompression&&this._logger.setLogEventCompressionMode(eP.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return JA(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){if(this._listeners[t]){const n=this._listeners[t].indexOf(e);n!==-1&&this._listeners[t].splice(n,1)}}$on(t,e){e.__isInternal=!0,this.on(t,e)}$emt(t){var e;const n=i=>{try{i(t)}catch(o){if(i.__isInternal===!0){this._errorBoundary.logError(`__emit:${t.name}`,o);return}al.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",t)}};this._listeners[t.name]&&this._listeners[t.name].forEach(i=>n(i)),(e=this._listeners["*"])===null||e===void 0||e.forEach(n)}_setStatus(t,e){this.loadingStatus=t,this._memoCache={},this.$emt({name:"values_updated",status:t,values:e})}_enqueueExposure(t,e,n){if((n==null?void 0:n.disableExposureLog)===!0){this._logger.incrementNonExposureCount(t);return}this._logger.enqueue(e)}_memoize(t,e){return(n,i)=>{if(this._options.disableEvaluationMemoization)return e(n,i);const o=(0,XA.createMemoKey)(t,n,i);return o?(o in this._memoCache||(Object.keys(this._memoCache).length>=rP&&(this._memoCache={}),this._memoCache[o]=e(n,i)),this._memoCache[o]):e(n,i)}}}Ts.StatsigClientBase=nP;function iP(r,t){var e;if((0,ZA._isServerEnv)())return;const n=(0,QA._getStatsigGlobal)(),i=(e=n.instances)!==null&&e!==void 0?e:{},o=t;i[r]!=null&&al.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),i[r]=o,n.firstInstance||(n.firstInstance=o),n.instances=i,__STATSIG__=n}var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.DataAdapterCachePrefix=void 0;Ds.DataAdapterCachePrefix="statsig.cached";var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt._makeTypedGet=jt._mergeOverride=jt._makeLayer=jt._makeExperiment=jt._makeDynamicConfig=jt._makeFeatureGate=void 0;const oP=Ot,sP=Ke;function xl(r,t,e,n){var i;return{name:r,details:t,ruleID:(i=e==null?void 0:e.rule_id)!==null&&i!==void 0?i:"",__evaluation:e,value:n}}function aP(r,t,e){var n;return Object.assign(Object.assign({},xl(r,t,e,(e==null?void 0:e.value)===!0)),{idType:(n=e==null?void 0:e.id_type)!==null&&n!==void 0?n:null})}jt._makeFeatureGate=aP;function Dy(r,t,e){var n;const i=(n=e==null?void 0:e.value)!==null&&n!==void 0?n:{};return Object.assign(Object.assign({},xl(r,t,e,i)),{get:Fs(r,e==null?void 0:e.value)})}jt._makeDynamicConfig=Dy;function uP(r,t,e){var n;const i=Dy(r,t,e);return Object.assign(Object.assign({},i),{groupName:(n=e==null?void 0:e.group_name)!==null&&n!==void 0?n:null})}jt._makeExperiment=uP;function lP(r,t,e,n){var i,o;return Object.assign(Object.assign({},xl(r,t,e,void 0)),{get:Fs(r,e==null?void 0:e.value,n),groupName:(i=e==null?void 0:e.group_name)!==null&&i!==void 0?i:null,__value:(o=e==null?void 0:e.value)!==null&&o!==void 0?o:{}})}jt._makeLayer=lP;function cP(r,t,e,n){return Object.assign(Object.assign(Object.assign({},r),t),{get:Fs(r.name,e,n)})}jt._mergeOverride=cP;function Fs(r,t,e){return(n,i)=>{var o;const s=(o=t==null?void 0:t[n])!==null&&o!==void 0?o:null;return s==null?i??null:i!=null&&!(0,sP._isTypeMatch)(s,i)?(oP.Log.warn(`Parameter type mismatch. '${r}.${n}' was found to be type '${typeof s}' but fallback/return type is '${typeof i}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),i??null):(e==null||e(n),s)}}jt._makeTypedGet=Fs;var Fy={};Object.defineProperty(Fy,"__esModule",{value:!0});var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.UPDATE_DETAIL_ERROR_MESSAGES=Hn.createUpdateDetails=void 0;const fP=(r,t,e,n,i,o)=>({duration:e,source:t,success:r,error:n,sourceUrl:i,warnings:o});Hn.createUpdateDetails=fP;Hn.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."};(function(r){var t=H&&H.__createBinding||(Object.create?function(l,f,c,h){h===void 0&&(h=c);var d=Object.getOwnPropertyDescriptor(f,c);(!d||("get"in d?!f.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return f[c]}}),Object.defineProperty(l,h,d)}:function(l,f,c,h){h===void 0&&(h=c),l[h]=f[c]}),e=H&&H.__exportStar||function(l,f){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(f,c)&&t(f,l,c)};Object.defineProperty(r,"__esModule",{value:!0}),r.Storage=r.Log=r.EventLogger=r.Diagnostics=void 0;const n=Vn,i=us;Object.defineProperty(r,"Diagnostics",{enumerable:!0,get:function(){return i.Diagnostics}});const o=Yi;Object.defineProperty(r,"EventLogger",{enumerable:!0,get:function(){return o.EventLogger}});const s=Ot;Object.defineProperty(r,"Log",{enumerable:!0,get:function(){return s.Log}});const a=wi,u=Re;Object.defineProperty(r,"Storage",{enumerable:!0,get:function(){return u.Storage}}),e(Vn,r),e($e,r),e(fy,r),e(Jn,r),e(us,r),e(vy,r),e(Nl,r),e(my,r),e(by,r),e(Br,r),e(_y,r),e(Ot,r),e(Cr,r),e(Xi,r),e($s,r),e($y,r),e(Cy,r),e(He,r),e(ni,r),e(Rs,r),e(Ry,r),e(Te,r),e(Ts,r),e(ro,r),e(Ds,r),e(Gt,r),e(wi,r),e(Ce,r),e(Ty,r),e(jt,r),e(Fy,r),e($r,r),e(Re,r),e(to,r),e(Ke,r),e(Zi,r),e(ri,r),e(Is,r),e(Hn,r),e(eo,r),Object.assign((0,n._getStatsigGlobal)(),{Log:s.Log,SDK_VERSION:a.SDK_VERSION})})(Ie);var jl={},Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});const Ye=Ie;class hP{constructor(t){this._sdkKey=t,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,Ye._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(t,e){var n;if(!t)return!1;const i=(0,Ye._typedJsonParse)(t.data,"has_updates","EvaluationResponse");return i==null?!1:(this._source=t.source,(i==null?void 0:i.has_updates)!==!0||(this._rawValues=t.data,this._lcut=i.time,this._receivedAt=t.receivedAt,this._values=i,this._bootstrapMetadata=this._extractBootstrapMetadata(t.source,i),t.source&&i.user&&this._setWarningState(e,i),Ye.SDKFlags.setFlags(this._sdkKey,(n=i.sdk_flags)!==null&&n!==void 0?n:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(t){var e;return this._getDetailedStoreResult((e=this._values)===null||e===void 0?void 0:e.feature_gates,t)}getConfig(t){var e;return this._getDetailedStoreResult((e=this._values)===null||e===void 0?void 0:e.dynamic_configs,t)}getConfigList(){var t;return!((t=this._values)===null||t===void 0)&&t.dynamic_configs?Object.values(this._values.dynamic_configs).map(e=>e.name):[]}getLayer(t){var e;return this._getDetailedStoreResult((e=this._values)===null||e===void 0?void 0:e.layer_configs,t)}getParamStore(t){var e;return this._getDetailedStoreResult((e=this._values)===null||e===void 0?void 0:e.param_stores,t)}getSource(){return this._source}getExposureMapping(){var t;return(t=this._values)===null||t===void 0?void 0:t.exposures}_extractBootstrapMetadata(t,e){if(t!=="Bootstrap")return null;const n={};return e.user&&(n.user=e.user),e.sdkInfo&&(n.generatorSDKInfo=e.sdkInfo),n.lcut=e.time,n}_getDetailedStoreResult(t,e){let n=null;return t&&(n=t[e]?t[e]:t[(0,Ye._DJB2)(e)]),{result:n,details:this._getDetails(n==null)}}_setWarningState(t,e){var n,i;const o=Ye.StableID.get(this._sdkKey);if(((n=t.customIDs)===null||n===void 0?void 0:n.stableID)!==o&&(!((i=t.customIDs)===null||i===void 0)&&i.stableID||o)){this._warnings.add("StableIDMismatch");return}if("user"in e){const s=e.user,a=Object.assign(Object.assign({},t),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,Ye._getFullUserHash)(a)!==(0,Ye._getFullUserHash)(s)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const t={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(t.warnings=Array.from(this._warnings)),t}_getDetails(t){var e,n;const i=this.getCurrentSourceDetails();let o=i.reason;const s=(e=i.warnings)!==null&&e!==void 0?e:[];this._source==="Bootstrap"&&s.length>0&&(o=o+s[0]),o!=="Uninitialized"&&o!=="NoValues"&&(o=`${o}:${t?"Unrecognized":"Recognized"}`);const a=this._source==="Bootstrap"&&(n=this._bootstrapMetadata)!==null&&n!==void 0?n:void 0;return a&&(i.bootstrapMetadata=a),Object.assign(Object.assign({},i),{reason:o})}}Ml.default=hP;var ks={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});Us._resolveDeltasResponse=void 0;const zh=Ie,dP=2;function pP(r,t){const e=(0,zh._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!e)return{hadBadDeltaChecksum:!0};const n=yP(r,e),i=gP(n),o=(0,zh._DJB2Object)({feature_gates:i.feature_gates,dynamic_configs:i.dynamic_configs,layer_configs:i.layer_configs},dP);return o===e.checksumV2?JSON.stringify(i):{hadBadDeltaChecksum:!0,badChecksum:o,badMergedConfigs:i,badFullResponse:e.deltas_full_response}}Us._resolveDeltasResponse=pP;function yP(r,t){return Object.assign(Object.assign(Object.assign({},r),t),{feature_gates:Object.assign(Object.assign({},r.feature_gates),t.feature_gates),layer_configs:Object.assign(Object.assign({},r.layer_configs),t.layer_configs),dynamic_configs:Object.assign(Object.assign({},r.dynamic_configs),t.dynamic_configs)})}function gP(r){const t=r;return Ou(r.deleted_gates,t.feature_gates),delete t.deleted_gates,Ou(r.deleted_configs,t.dynamic_configs),delete t.deleted_configs,Ou(r.deleted_layers,t.layer_configs),delete t.deleted_layers,t}function Ou(r,t){r==null||r.forEach(e=>{delete t[e]})}var Kh=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty(ks,"__esModule",{value:!0});const _o=Ie,vP=Us;class mP extends _o.NetworkCore{constructor(t,e){super(t,e);const n=t==null?void 0:t.networkConfig;this._option=t,this._initializeUrlConfig=new _o.UrlConfiguration(_o.Endpoint._initialize,n==null?void 0:n.initializeUrl,n==null?void 0:n.api,n==null?void 0:n.initializeFallbackUrls)}fetchEvaluations(t,e,n,i,o){return Kh(this,void 0,void 0,function*(){var s,a,u,l,f,c;const h=e?(0,_o._typedJsonParse)(e,"has_updates","InitializeResponse"):null;let d={user:i,hash:(u=(a=(s=this._option)===null||s===void 0?void 0:s.networkConfig)===null||a===void 0?void 0:a.initializeHashAlgorithm)!==null&&u!==void 0?u:"djb2",deltasResponseRequested:!1,full_checksum:null};if(h!=null&&h.has_updates){const p=(h==null?void 0:h.hash_used)!==((c=(f=(l=this._option)===null||l===void 0?void 0:l.networkConfig)===null||f===void 0?void 0:f.initializeHashAlgorithm)!==null&&c!==void 0?c:"djb2");d=Object.assign(Object.assign({},d),{sinceTime:o&&!p?h.time:0,previousDerivedFields:"derived_fields"in h&&o?h.derived_fields:{},deltasResponseRequested:!0,full_checksum:h.full_checksum,partialUserMatchSinceTime:p?0:h.time})}return this._fetchEvaluations(t,h,d,n)})}_fetchEvaluations(t,e,n,i){return Kh(this,void 0,void 0,function*(){var o,s;const a=yield this.post({sdkKey:t,urlConfig:this._initializeUrlConfig,data:n,retries:2,isStatsigEncodable:!0,priority:i});if((a==null?void 0:a.code)===204)return'{"has_updates": false}';if((a==null?void 0:a.code)!==200)return(o=a==null?void 0:a.body)!==null&&o!==void 0?o:null;if((e==null?void 0:e.has_updates)!==!0||((s=a.body)===null||s===void 0?void 0:s.includes('"is_delta":true'))!==!0||n.deltasResponseRequested!==!0)return a.body;const u=(0,vP._resolveDeltasResponse)(e,a.body);return typeof u=="string"?u:this._fetchEvaluations(t,e,Object.assign(Object.assign(Object.assign({},n),u),{deltasResponseRequested:!1}),i)})}}ks.default=mP;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns._makeParamStoreGetter=void 0;const ky=Ie,xs={disableExposureLog:!0};function js(r){return r==null||r.disableExposureLog===!1}function Bl(r,t){return t!=null&&!(0,ky._isTypeMatch)(r,t)}function bP(r,t){return r.value}function _P(r,t,e){return r.getFeatureGate(t.gate_name,js(e)?void 0:xs).value?t.pass_value:t.fail_value}function SP(r,t,e,n){const o=r.getDynamicConfig(t.config_name,js(n)?void 0:xs).get(t.param_name);return Bl(o,e)?e:o}function EP(r,t,e,n){const o=r.getExperiment(t.experiment_name,js(n)?void 0:xs).get(t.param_name);return Bl(o,e)?e:o}function wP(r,t,e,n){const o=r.getLayer(t.layer_name,js(n)?void 0:xs).get(t.param_name);return Bl(o,e)?e:o}function AP(r,t,e){return(n,i)=>{if(t==null)return i;const o=t[n];if(o==null||i!=null&&(0,ky._typeOf)(i)!==o.param_type)return i;switch(o.ref_type){case"static":return bP(o);case"gate":return _P(r,o,e);case"dynamic_config":return SP(r,o,i,e);case"experiment":return EP(r,o,i,e);case"layer":return wP(r,o,i,e);default:return i}}}Ns._makeParamStoreGetter=AP;var Ms={},PP=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.StatsigEvaluationsDataAdapter=void 0;const Xe=Ie,Vh=ks;class OP extends Xe.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(t,e,n){super.attach(t,e,n),n!==null&&n instanceof Vh.default?this._network=n:this._network=new Vh.default(e??{})}getDataAsync(t,e,n){return this._getDataAsyncImpl(t,(0,Xe._normalizeUser)(e,this._options),n)}prefetchData(t,e){return this._prefetchDataImpl(t,e)}setData(t){const e=(0,Xe._typedJsonParse)(t,"has_updates","data");e&&"user"in e?super.setData(t,e.user):Xe.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(t,e){super.setData(t,e)}_fetchFromNetwork(t,e,n,i){return PP(this,void 0,void 0,function*(){var o;const s=yield(o=this._network)===null||o===void 0?void 0:o.fetchEvaluations(this._getSdkKey(),t,n==null?void 0:n.priority,e,i);return s??null})}_getCacheKey(t){var e;const n=(0,Xe._getStorageKey)(this._getSdkKey(),t,(e=this._options)===null||e===void 0?void 0:e.customUserCacheKeyFunc);return`${Xe.DataAdapterCachePrefix}.${this._cacheSuffix}.${n}`}_isCachedResultValidFor204(t,e){return t.fullUserHash!=null&&t.fullUserHash===(0,Xe._getFullUserHash)(e)}}Ms.StatsigEvaluationsDataAdapter=OP;var So=H&&H.__awaiter||function(r,t,e,n){function i(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(f){try{l(n.next(f))}catch(c){s(c)}}function u(f){try{l(n.throw(f))}catch(c){s(c)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};Object.defineProperty(jl,"__esModule",{value:!0});const U=Ie,IP=Ml,$P=ks,Jh=Ns,CP=Ms;class ls extends U.StatsigClientBase{static instance(t){const e=(0,U._getStatsigGlobal)().instance(t);return e instanceof ls?e:(U.Log.warn((0,U._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new ls(t??"",{}))}constructor(t,e,n=null){var i,o;U.SDKType._setClientType(t,"javascript-client");const s=new $P.default(n,u=>{this.$emt(u)});super(t,(i=n==null?void 0:n.dataAdapter)!==null&&i!==void 0?i:new CP.StatsigEvaluationsDataAdapter,s,n),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(U.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(U.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(U.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(U.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(U.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(U.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new IP.default(t),this._network=s,this._user=this._configureUser(e,n),this._sdkInstanceID=(0,U.getUUID)();const a=(o=n==null?void 0:n.plugins)!==null&&o!==void 0?o:[];for(const u of a)u.bind(this)}initializeSync(t){var e;return this.loadingStatus!=="Uninitialized"?(0,U.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(e=this._store.getWarnings())!==null&&e!==void 0?e:[]]):(this._logger.start(),this.updateUserSync(this._user,t))}initializeAsync(t){return So(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(t),this._initializePromise)})}updateUserSync(t,e){const n=performance.now();try{return this._updateUserSyncImpl(t,e,n)}catch(i){const o=i instanceof Error?i:new Error(String(i));return this._createErrorUpdateDetails(o,n)}}_updateUserSyncImpl(t,e,n){var i;const o=[...(i=this._store.getWarnings())!==null&&i!==void 0?i:[]];this._resetForUser(t);const s=this.dataAdapter.getDataSync(this._user);s==null&&o.push("NoCachedValues"),this._store.setValues(s,this._user),this._finalizeUpdate(s);const a=e==null?void 0:e.disableBackgroundCacheRefresh;return a===!0||a==null&&(s==null?void 0:s.source)==="Bootstrap"?(0,U.createUpdateDetails)(!0,this._store.getSource(),performance.now()-n,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),o):(this._runPostUpdate(s??null,this._user),(0,U.createUpdateDetails)(!0,this._store.getSource(),performance.now()-n,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),o))}updateUserAsync(t,e){return So(this,void 0,void 0,function*(){const n=performance.now();try{return yield this._updateUserAsyncImpl(t,e)}catch(i){const o=i instanceof Error?i:new Error(String(i));return this._createErrorUpdateDetails(o,n)}})}_updateUserAsyncImpl(t,e){return So(this,void 0,void 0,function*(){this._resetForUser(t);const n=this._user;U.Diagnostics._markInitOverallStart(this._sdkKey);let i=this.dataAdapter.getDataSync(n);if(this._store.setValues(i,this._user),this._setStatus("Loading",i),i=yield this.dataAdapter.getDataAsync(i,n,e),n!==this._user)return(0,U.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let o=!1;i!=null&&(U.Diagnostics._markInitProcessStart(this._sdkKey),o=this._store.setValues(i,this._user),U.Diagnostics._markInitProcessEnd(this._sdkKey,{success:o})),this._finalizeUpdate(i),o||(this._errorBoundary.attachErrorIfNoneExists(U.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),U.Diagnostics._markInitOverallEnd(this._sdkKey,o,this._store.getCurrentSourceDetails());const s=U.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,U.createUpdateDetails)(o,this._store.getSource(),s,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:U.StatsigSession.get(this._sdkKey),stableID:U.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(t,e){return this.getFeatureGate(t,e).value}logEvent(t,e,n){const i=typeof t=="string"?{eventName:t,value:e,metadata:n}:t;this.$emt({name:"log_event_called",event:i}),this._logger.enqueue(Object.assign(Object.assign({},i),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(t){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:t}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(t){return So(this,void 0,void 0,function*(){return U.Storage.isReady()||(yield U.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,t)})}_createErrorUpdateDetails(t,e){var n;return(0,U.createUpdateDetails)(!1,this._store.getSource(),performance.now()-e,t,null,[...(n=this._store.getWarnings())!==null&&n!==void 0?n:[]])}_finalizeUpdate(t){this._store.finalize(),this._setStatus("Ready",t)}_runPostUpdate(t,e){this.dataAdapter.getDataAsync(t,e,{priority:"low"}).catch(n=>{U.Log.error("An error occurred after update.",n)})}_resetForUser(t){this._logger.reset(),this._store.reset(),this._user=this._configureUser(t,this._options)}_configureUser(t,e){var n;const i=(0,U._normalizeUser)(t,e),o=(n=i.customIDs)===null||n===void 0?void 0:n.stableID;return o&&U.StableID.setOverride(o,this._sdkKey),Object.keys(this._possibleFirstTouchMetadata).length>0&&(i.analyticsOnlyMetadata=Object.assign(Object.assign({},i.analyticsOnlyMetadata),this._possibleFirstTouchMetadata)),i}_getFeatureGateImpl(t,e){var n,i;const{result:o,details:s}=this._store.getGate(t),a=(0,U._makeFeatureGate)(t,s,o),u=(i=(n=this.overrideAdapter)===null||n===void 0?void 0:n.getGateOverride)===null||i===void 0?void 0:i.call(n,a,this._user,e),l=u??a;return this._enqueueExposure(t,(0,U._createGateExposure)(this._user,l,this._store.getExposureMapping()),e),this.$emt({name:"gate_evaluation",gate:l}),l}_getDynamicConfigImpl(t,e){var n,i;const{result:o,details:s}=this._store.getConfig(t),a=(0,U._makeDynamicConfig)(t,s,o),u=(i=(n=this.overrideAdapter)===null||n===void 0?void 0:n.getDynamicConfigOverride)===null||i===void 0?void 0:i.call(n,a,this._user,e),l=u??a;return this._enqueueExposure(t,(0,U._createConfigExposure)(this._user,l,this._store.getExposureMapping()),e),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:l}),l}_getExperimentImpl(t,e){var n,i,o,s;const{result:a,details:u}=this._store.getConfig(t),l=(0,U._makeExperiment)(t,u,a);l.__evaluation!=null&&(l.__evaluation.secondary_exposures=(0,U._mapExposures)((i=(n=l.__evaluation)===null||n===void 0?void 0:n.secondary_exposures)!==null&&i!==void 0?i:[],this._store.getExposureMapping()));const f=(s=(o=this.overrideAdapter)===null||o===void 0?void 0:o.getExperimentOverride)===null||s===void 0?void 0:s.call(o,l,this._user,e),c=f??l;return this._enqueueExposure(t,(0,U._createConfigExposure)(this._user,c,this._store.getExposureMapping()),e),this.$emt({name:"experiment_evaluation",experiment:c}),c}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(t,e){var n,i,o;const{result:s,details:a}=this._store.getLayer(t),u=(0,U._makeLayer)(t,a,s),l=(i=(n=this.overrideAdapter)===null||n===void 0?void 0:n.getLayerOverride)===null||i===void 0?void 0:i.call(n,u,this._user,e);e!=null&&e.disableExposureLog&&this._logger.incrementNonExposureCount(t);const f=(0,U._mergeOverride)(u,l,(o=l==null?void 0:l.__value)!==null&&o!==void 0?o:u.__value,c=>{e!=null&&e.disableExposureLog||this._enqueueExposure(t,(0,U._createLayerParameterExposure)(this._user,f,c,this._store.getExposureMapping()),e)});return this.$emt({name:"layer_evaluation",layer:f}),f}_getParameterStoreImpl(t,e){var n,i;const{result:o,details:s}=this._store.getParamStore(t);this._logger.incrementNonExposureCount(t);const a={name:t,details:s,__configuration:o,get:(0,Jh._makeParamStoreGetter)(this,o,e)},u=(i=(n=this.overrideAdapter)===null||n===void 0?void 0:n.getParamStoreOverride)===null||i===void 0?void 0:i.call(n,a,e);return u!=null&&(a.__configuration=u.config,a.details=u.details,a.get=(0,Jh._makeParamStoreGetter)(this,u.config,e)),a}}jl.default=ls;(function(r){var t=H&&H.__createBinding||(Object.create?function(s,a,u,l){l===void 0&&(l=u);var f=Object.getOwnPropertyDescriptor(a,u);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(s,l,f)}:function(s,a,u,l){l===void 0&&(l=u),s[l]=a[u]}),e=H&&H.__exportStar||function(s,a){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,s,u)};Object.defineProperty(r,"__esModule",{value:!0}),r.StatsigClient=void 0;const n=Ie,i=jl;r.StatsigClient=i.default,e(Ie,r);const o=Object.assign((0,n._getStatsigGlobal)(),{StatsigClient:i.default});r.default=o})(Rw);const m={init:function(r){r===void 0&&m.zg!==void 0||(m.zg=!!r),m.t||(m.t=!0)},destroy:function(){m.t=!1,m.zg=void 0,m.vd=void 0},setLogger:function(r){typeof r=="function"?(m.init(),m.vd=r):m.info("Ignoring setLogger call since logger is not a function")},toggleLogging:function(){m.init(),m.zg?(console.log("Disabling Braze logging"),m.zg=!1):(console.log("Enabled Braze logging"),m.zg=!0)},info:function(r){if(m.zg){const t="Braze: "+r;m.vd!=null?m.vd(t):console.log(t)}},warn:function(r){if(m.zg){const t="Braze SDK Warning: "+r+" (v5.3.0)";m.vd!=null?m.vd(t):console.warn(t)}},error:function(r){if(m.zg){const t="Braze SDK Error: "+r+" (v5.3.0)";m.vd!=null?m.vd(t):console.error(t)}}},RP={Tn:function(r){const t=(r+"=".repeat((4-r.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;++i)n[i]=e.charCodeAt(i);return n}},Z={CustomEvent:"ce",Pr:"p",_u:"pc",vc:"ca",Ea:"i",qs:"ie",M:"cci",R:"ccic",I:"ccc",F:"ccd",ql:"ss",xl:"se",Oi:"si",Ei:"sc",Gi:"sbc",Cc:"sfe",mo:"iec",Uu:"lr",zu:"uae",O:"ci",$:"cc",Ju:"lcaa",Eu:"lcar",On:"inc",Ln:"add",Rn:"rem",$n:"set",Bn:"ncam",Ku:"sgu",Fr:"ffi"},no={W:function(){const r=(t=!1)=>{const e=(Math.random().toString(16)+"000000000").substr(2,8);return t?"-"+e.substr(0,4)+"-"+e.substr(4,4):e};return r()+r(!0)+r(!0)+r()}};class Dt{constructor(t,e){this.database=t,this.vd=e,this.parent=typeof window>"u"?self:window,this.database=t,this.vd=e}Dd(){if("indexedDB"in this.parent)return this.parent.indexedDB}isSupported(){var t;try{if(this.Dd()==null)return!1;{const e=(t=this.Dd())===null||t===void 0?void 0:t.open("Braze IndexedDB Support Test");if(e&&(e.onupgradeneeded=()=>e.result.close(),e.onsuccess=()=>e.result.close()),typeof window<"u"){const n=window,i=n.chrome||n.browser||n.pd;if(i&&i.runtime&&i.runtime.id)return this.vd.info("Not using IndexedDB for storage because we are running inside an extension"),!1}return!0}}catch(e){return this.vd.info("Not using IndexedDB for storage due to following error: "+e),!1}}Bd(t,e){var n;const i=(n=this.Dd())===null||n===void 0?void 0:n.open(this.database.Sd,this.database.VERSION);if(i==null)return typeof e=="function"&&e(),!1;const o=this;return i.onupgradeneeded=s=>{var a;o.vd.info("Upgrading indexedDB "+o.database.Sd+" to v"+o.database.VERSION+"...");const u=(a=s.target)===null||a===void 0?void 0:a.result;for(const l in o.database.ss){const f=l;o.database.ss.hasOwnProperty(l)&&!u.objectStoreNames.contains(o.database.ss[f])&&u.createObjectStore(o.database.ss[f])}},i.onsuccess=s=>{var a;const u=(a=s.target)===null||a===void 0?void 0:a.result;u.onversionchange=()=>{u.close(),typeof e=="function"&&e(),o.vd.error("Needed to close the database unexpectedly because of an upgrade in another tab")},t(u)},i.onerror=s=>{var a;const u=s;return o.vd.info("Could not open indexedDB "+o.database.Sd+" v"+o.database.VERSION+": "+((a=u.target)===null||a===void 0?void 0:a.errorCode)),typeof e=="function"&&e(),!0},!0}setItem(t,e,n,i,o){if(!this.isSupported())return typeof o=="function"&&o(),!1;const s=this;return this.Bd(a=>{if(!a.objectStoreNames.contains(t))return s.vd.error("Could not store object "+e+" in "+t+" on indexedDB "+s.database.Sd+" - "+t+" is not a valid objectStore"),typeof o=="function"&&o(),void a.close();const u=a.transaction([t],"readwrite");u.oncomplete=()=>a.close();const l=u.objectStore(t).put(n,e);l.onerror=()=>{s.vd.error("Could not store object "+e+" in "+t+" on indexedDB "+s.database.Sd),typeof o=="function"&&o()},l.onsuccess=()=>{typeof i=="function"&&i()}},o)}getItem(t,e,n){if(!this.isSupported())return!1;const i=this;return this.Bd(o=>{if(!o.objectStoreNames.contains(t))return i.vd.error("Could not retrieve object "+e+" in "+t+" on indexedDB "+i.database.Sd+" - "+t+" is not a valid objectStore"),void o.close();const s=o.transaction([t],"readonly");s.oncomplete=()=>o.close();const a=s.objectStore(t).get(e);a.onerror=()=>{i.vd.error("Could not retrieve object "+e+" in "+t+" on indexedDB "+i.database.Sd)},a.onsuccess=u=>{var l;const f=(l=u.target)===null||l===void 0?void 0:l.result;f!=null&&n(f)}})}jr(t,e,n){if(!this.isSupported())return typeof n=="function"&&n(),!1;const i=this;return this.Bd(o=>{if(!o.objectStoreNames.contains(t))return i.vd.error("Could not retrieve last record from "+t+" on indexedDB "+i.database.Sd+" - "+t+" is not a valid objectStore"),typeof n=="function"&&n(),void o.close();const s=o.transaction([t],"readonly");s.oncomplete=()=>o.close();const a=s.objectStore(t).openCursor(null,"prev");a.onerror=()=>{i.vd.error("Could not open cursor for "+t+" on indexedDB "+i.database.Sd),typeof n=="function"&&n()},a.onsuccess=u=>{var l;const f=(l=u.target)===null||l===void 0?void 0:l.result;f!=null&&f.value!=null&&f.key!=null?e(f.key,f.value):typeof n=="function"&&n()}},n)}re(t,e){if(!this.isSupported())return!1;const n=this;return this.Bd(i=>{if(!i.objectStoreNames.contains(t))return n.vd.error("Could not delete record "+e+" from "+t+" on indexedDB "+n.database.Sd+" - "+t+" is not a valid objectStore"),void i.close();const o=i.transaction([t],"readwrite");o.oncomplete=()=>i.close(),o.objectStore(t).delete(e).onerror=()=>{n.vd.error("Could not delete record "+e+" from "+t+" on indexedDB "+n.database.Sd)}})}Zt(t,e){if(!this.isSupported())return!1;const n=this;return this.Bd(i=>{if(!i.objectStoreNames.contains(t))return n.vd.error("Could not retrieve objects from "+t+" on indexedDB "+n.database.Sd+" - "+t+" is not a valid objectStore"),void i.close();const o=i.transaction([t],"readwrite");o.oncomplete=()=>i.close();const s=o.objectStore(t),a=s.openCursor(),u=[];a.onerror=()=>{u.length>0?(n.vd.info("Cursor closed midway through for "+t+" on indexedDB "+n.database.Sd),e(u)):n.vd.error("Could not open cursor for "+t+" on indexedDB "+n.database.Sd)},a.onsuccess=l=>{var f;const c=(f=l.target)===null||f===void 0?void 0:f.result;c!=null?(c.value!=null&&c.key!=null&&(s.delete(c.key).onsuccess=()=>{u.push(c.value)}),typeof c.continue=="function"&&c.continue()):u.length>0&&e(u)}})}clearData(){if(!this.isSupported())return!1;const t=[];for(const n in this.database.ss){const i=n;this.database.ss.hasOwnProperty(n)&&this.database.ss[i]!==this.database.ss.ae&&t.push(this.database.ss[i])}const e=this;return this.Bd(function(n){const i=n.transaction(t,"readwrite");i.oncomplete=()=>n.close();for(let o=0;o<t.length;o++){const s=t[o];i.objectStore(s).clear().onerror=function(){e.vd.error("Could not clear "+this.source.name+" on indexedDB "+e.database.Sd)}}i.onerror=function(){e.vd.error("Could not clear object stores on indexedDB "+e.database.Sd)}})}}Dt.Yt={Qt:{Sd:"AppboyServiceWorkerAsyncStorage",VERSION:6,ss:{$a:"data",hr:"pushClicks",cu:"pushSubscribed",Cd:"fallbackDevice",ts:"cardUpdates",ae:"optOut",wr:"pendingData",jh:"sdkAuthenticationSignature"},ie:1}};const Qh={Eo:"allowCrawlerActivity",_o:"baseUrl",Io:"noCookies",Ao:"devicePropertyAllowlist",_a:"disablePushTokenMaintenance",So:"enableLogging",No:"enableSdkAuthentication",Ma:"manageServiceWorkerExternally",Oo:"minimumIntervalBetweenTriggerActionsInSeconds",Po:"sessionTimeoutInSeconds",Ro:"appVersion",Lo:"appVersionNumber",wa:"serviceWorkerLocation",ya:"safariWebsitePushId",zn:"localization",bo:"contentSecurityNonce",Do:"allowUserSuppliedJavascript",jo:"inAppMessageZIndex",ho:"openInAppMessagesInNewTab",en:"openNewsFeedCardsInNewTab",Lh:"requireExplicitInAppMessageDismissal",Mo:"doNotLoadFontAwesome",Uo:"deviceId",Bo:"sdkFlavor",tn:"openCardsInNewTab"};function Bs(r){const t=[];let e;for(const n in r)e=n,Object.prototype.hasOwnProperty.call(r,e)&&r[e]!==void 0&&t.push(r[e]);return t}function Pe(r,t,e,n){const i=Bs(r);return i.indexOf(t)!==-1||(m.error(`${e} Valid values from ${n} are "${i.join('"/"')}".`),!1)}function Pt(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}function ae(r){return Object.prototype.toString.call(r)==="[object Date]"}function io(r){return Object.prototype.toString.call(r)==="[object Object]"}function ze(r){const t=[];for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t.push(e);return t}function Rr(r,t){if(r===t)return r!==0||1/r==1/t;if(r==null||t==null)return r===t;const e=r.toString();if(e!==t.toString())return!1;switch(e){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!=+r?+t!=+t:+r==0?1/+r==1/t:+r==+t;case"[object Date]":case"[object Boolean]":return+r==+t}const n=e==="[object Array]";if(!n){if(typeof r!="object"||typeof t!="object")return!1;const a=r.constructor,u=t.constructor;if(a!==u&&!(typeof a=="function"&&a instanceof a&&typeof u=="function"&&u instanceof u)&&"constructor"in r&&"constructor"in t)return!1}const i=[],o=[];let s=i.length;for(;s--;)if(i[s]===r)return o[s]===t;if(i.push(r),o.push(t),n){if(s=r.length,s!==t.length)return!1;for(;s--;)if(!Rr(r[s],t[s]))return!1}else{const a=ze(r);let u;if(s=a.length,ze(t).length!==s)return!1;for(;s--;)if(u=a[s],!Object.prototype.hasOwnProperty.call(t,u)||!Rr(r[u],t[u]))return!1}return i.pop(),o.pop(),!0}function Ls(r,t=!1){let e=r/1e3;return t&&(e=Math.floor(e)),e}function TP(r){return 1e3*r}function ul(r){if(r==null)return null;const t=parseInt(r.toString());return isNaN(t)?null:new Date(1e3*t)}function cs(r){return r!=null&&ae(r)?r.toISOString().replace(/\.[0-9]{3}Z$/,""):r}function ll(r){return r==null||r===""?null:new Date(r)}function DP(r){return r==null||r===""?new Date().valueOf():r}function Hh(r){return(new Date().valueOf()-r.valueOf())/1e3}function Yh(r){return(r.valueOf()-new Date().valueOf())/1e3}const FP="logCustomEvent",hn="setCustomUserAttribute",kP="Braze must be initialized before calling methods.",UP=30,NP=30,xP=72e5,Xh=1;class Bt{constructor(){this._e={}}It(t){if(typeof t!="function")return null;const e=no.W();return this._e[e]=t,e}removeSubscription(t){delete this._e[t]}removeAllSubscriptions(){this._e={}}ic(){return Object.keys(this._e).length}Dt(t){const e=[];for(const n in this._e){const i=this._e[n];e.push(i(t))}return e}}function cl(r){const t=r==null?void 0:r.j(b.C._E);let e;return t&&(e={label:t.l,name:t.a}),e}class Wt{constructor(t,e,n,i,o){this.userId=t,this.type=e,this.time=n,this.sessionId=i,this.data=o,this.userId=t,this.type=e,this.time=DP(n),this.sessionId=i,this.data=o}Ir(){var t;const e={name:this.type,time:Ls(this.time),data:this.data||{},session_id:this.sessionId};this.userId!=null&&(e.user_id=this.userId);const n=((t=R.Sr())===null||t===void 0?void 0:t.Fh())||!1;if(!e.user_id&&!n){const i=cl(R.l());i&&(e.alias=i)}return e}Y(){return{u:this.userId,t:this.type,ts:this.time,s:this.sessionId,d:this.data}}static fromJson(t){return new Wt(t.user_id,t.name,t.time,t.session_id,t.data)}static RE(t){return t!=null&&io(t)&&t.t!=null&&t.t!==""}static qn(t){return new Wt(t.u,t.t,t.ts,t.s,t.d)}}const ue=r=>r instanceof Error?r.message:String(r);class le{constructor(t,e,n){this.eu=t,t==null&&(t=no.W()),!n||isNaN(n)?this.Dl=new Date().valueOf():this.Dl=n,this.eu=t,this.Wl=new Date().valueOf(),this.Hl=e}Y(){return`g:${encodeURIComponent(this.eu)}|e:${this.Hl}|c:${this.Dl}|l:${this.Wl}`}static hE(t){if(typeof t!="string")return null;const e=t.lastIndexOf("|e:"),n=t.substring(0,e),i=n.split("g:")[1];let o;return o=/[|:]/.test(i)?encodeURIComponent(i):i,t=t.replace(n,`g:${o}`)}static qn(t){let e;if(typeof t=="string")try{const n=t.split("|");if(!Pt(n)||n.length!==4)return null;const i=s=>s.split(":")[1],o=s=>{const a=parseInt(i(s));if(!isNaN(a))return a};e=new le(decodeURIComponent(i(n[0])),o(n[1]),o(n[2])),e.Wl=o(n[3])}catch(n){m.info(`Unable to parse cookie string ${t}, failed with error: ${ue(n)}`)}else{if(t==null||t.g==null)return null;e=new le(t.g,t.e,t.c),e.Wl=t.l}return e}}function fs(r){let t=r.length;for(let e=r.length-1;e>=0;e--){const n=r.charCodeAt(e);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&e--}return t}function jP(r){try{r=r.replace(/-/g,"+").replace(/_/g,"/");const t=window.atob(r),e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);const n=new Uint16Array(e.buffer);return String.fromCharCode(...n)}catch(t){return m.error("Unable to decode Base64: "+t),null}}const X={types:{ro:"container",logCustomEvent:"logCustomEvent",setEmailNotificationSubscriptionType:"setEmailNotificationSubscriptionType",setPushNotificationSubscriptionType:"setPushNotificationSubscriptionType",setCustomUserAttribute:"setCustomUserAttribute",requestPushPermission:"requestPushPermission",addToSubscriptionGroup:"addToSubscriptionGroup",removeFromSubscriptionGroup:"removeFromSubscriptionGroup",addToCustomAttributeArray:"addToCustomAttributeArray",removeFromCustomAttributeArray:"removeFromCustomAttributeArray",no:"openLink",ao:"openLinkInWebView"},properties:{type:"type",oo:"steps",eo:"args"}},hs={Qi:"unknownBrazeAction",Wi:"noPushPrompt"},Zh=(r,t)=>{switch(r){case hs.Qi:return`${t} contains an unknown braze action type and will not be displayed.`;case hs.Wi:return`${t} contains a push prompt braze action, but is not eligible for a push prompt. Ignoring.`;default:return""}};function MP(r){try{const t=r.match(fl),e=t?t[0].length:null,n=e?r.substring(e):null;if(e==null||e>r.length-1||!n)return void m.error(`Did not find base64 encoded brazeAction in url to process : ${r}`);const i=jP(n);return i?JSON.parse(i):void m.error(`Failed to decode base64 encoded brazeAction: ${n}`)}catch(t){return void m.error(`Failed to process brazeAction URL ${r} : ${ue(t)}`)}}function Uy(r,t){let e=!1;if(t){for(const n of t)if(e=e||r(n),e)return!0}return!1}function Ny(r){const t=X.properties.type,e=X.properties.oo;try{if(r==null)return!0;const n=r[t];return n===X.types.ro?Uy(Ny,r[e]):!JP(n)}catch{return!0}}function xy(r){if(!r||!VP(r))return!1;const t=X.properties.type,e=X.properties.oo,n=r[t];return n===X.types.ro?Uy(xy,r[e]):n===X.types.requestPushPermission}const BP=/^[^\x00-\x1F\x22]+$/,LP=/[$.]/,qP=["$add","$update","$remove","$identifier_key","$identifier_value","$new_object","$time","$google_ad_personalization","$google_ad_user_data"],GP=new RegExp(/^.+@.+\..+$/),fl=/^brazeActions:\/\/v\d+\//;function oe(r,t,e){const n=r!=null&&typeof r=="string"&&(r===""||r.match(BP)!=null);return n||m.error(`Cannot ${t} because ${e} "${r}" is invalid.`),n}function Ll(r){return r!=null&&r.match(LP)&&qP.indexOf(r)===-1&&m.warn("Custom attribute keys cannot contain '$' or '.'"),oe(r,"set custom user attribute","the given key")}function ql(r){const t=typeof r;return r==null||t==="number"||t==="boolean"||ae(r)||t==="string"}function hl(r,t,e){const n=e!==-1;if(n&&e>50)return m.error("Nested attributes cannot be more than 50 levels deep."),!1;const i=n?e+1:-1;if(Pt(r)&&Pt(t)){for(let o=0;o<r.length&&o<t.length;o++)if(ae(r[o])&&(t[o]=cs(r[o])),!hl(r[o],t[o],i))return!1}else{if(!io(r))return ql(r);for(const o of ze(r)){const s=r[o];if(n&&!Ll(o)||(ae(s)&&(t[o]=cs(s)),!hl(s,t[o],i)))return!1}}return!0}function WP(r,t,e,n,i){let o;return o=io(r)||Pt(r)?hl(r,t,i?1:-1):ql(r),o||m.error(`Cannot ${e} because ${n} "${r}" is invalid.`),o}function Vt(r,t,e,n=!1){const i=typeof r=="string"||r===null&&n;return i||m.error(`Cannot ${t} because ${e} "${r}" is invalid.`),i}function Gl(r,t,e,n,i){if(r==null&&(r={}),typeof r!="object"||Pt(r))return m.error(`${t} requires that ${e} be an object. Ignoring ${i}.`),[!1,null];let o,s;t===hn?(o=76800,s="75KB"):(o=51200,s="50KB");const a=JSON.stringify(r);if(fs(a)>o)return m.error(`Could not ${n} because ${e} was greater than the max size of ${s}.`),[!1,null];let u;try{u=JSON.parse(a)}catch{return m.error(`Could not ${n} because ${e} did not contain valid JSON.`),[!1,null]}for(const l in r){if(t===hn&&!Ll(l))return[!1,null];if(!oe(l,n,`the ${i} property name`))return[!1,null];const f=r[l];if(t!==hn&&f==null){delete r[l],delete u[l];continue}if(ae(f)&&(u[l]=cs(f)),!WP(f,u[l],n,`the ${i} property "${l}"`,t===hn))return[!1,null]}return[!0,u]}function zP(r,t){let e=!1,n=!1;const i=()=>{m.error("Custom attribute arrays must be either string arrays or object arrays.")};for(const o of t)if(typeof o=="string"){if(n)return i(),[!1,!1];if(!oe(o,`set custom user attribute "${r}"`,"the element in the given array"))return[!1,!1];e=!0}else{if(!io(o))return i(),[!1,!1];if(e)return i(),[!1,!1];if(!Gl(o,hn,"attribute value",`set custom user attribute "${r}"`,"custom user attribute"))return[!1,!1];n=!0}return[e,n]}function KP(r){return typeof r=="string"&&r.toLowerCase().match(GP)!=null}function VP(r){if(!(X.properties.type in r))return!1;switch(r[X.properties.type]){case X.types.ro:if(X.properties.oo in r)return!0;break;case X.types.logCustomEvent:case X.types.setEmailNotificationSubscriptionType:case X.types.setPushNotificationSubscriptionType:case X.types.setCustomUserAttribute:case X.types.addToSubscriptionGroup:case X.types.removeFromSubscriptionGroup:case X.types.addToCustomAttributeArray:case X.types.removeFromCustomAttributeArray:case X.types.no:case X.types.ao:if(X.properties.eo in r)return!0;break;case X.types.requestPushPermission:return!0;default:return!1}return!1}function JP(r){let t=!1;return Object.keys(X.types).forEach(e=>{X.types[e]!==r.toString()||(t=!0)}),t}class Q{constructor(t,e){this.wt=t,this.zi=e,this.wt=t,this.zi=e}getUserId(t){const e=this.wt.getUserId();if(typeof t!="function")return e;m.warn("The callback for getUserId is deprecated. You can access its return value directly instead (e.g. `const id = braze.getUser().getUserId()`)"),t(e)}addAlias(t,e){return!Vt(t,"add alias","the alias",!1)||t.length<=0?(m.error("addAlias requires a non-empty alias"),!1):!Vt(e,"add alias","the label",!1)||e.length<=0?(m.error("addAlias requires a non-empty label"),!1):this.zi.Cn(t,e).L}setFirstName(t){return!!Vt(t,"set first name","the firstName",!0)&&this.wt.nu("first_name",t)}setLastName(t){return!!Vt(t,"set last name","the lastName",!0)&&this.wt.nu("last_name",t)}setEmail(t){return t===null||KP(t)?this.wt.nu("email",t):(m.error(`Cannot set email address - "${t}" did not pass RFC-5322 validation.`),!1)}setGender(t){return typeof t=="string"&&(t=t.toLowerCase()),!(t!==null&&!Pe(Q.Genders,t,`Gender "${t}" is not a valid gender.`,"User.Genders"))&&this.wt.nu("gender",t)}setDateOfBirth(t,e,n){return t===null&&e===null&&n===null?this.wt.nu("dob",null):(t=t!=null?parseInt(t.toString()):null,e=e!=null?parseInt(e.toString()):null,n=n!=null?parseInt(n.toString()):null,t==null||e==null||n==null||isNaN(t)||isNaN(e)||isNaN(n)||e>12||e<1||n>31||n<1?(m.error("Cannot set date of birth - parameters should comprise a valid date e.g. setDateOfBirth(1776, 7, 4);"),!1):this.wt.nu("dob",`${t}-${e}-${n}`))}setCountry(t){return!!Vt(t,"set country","the country",!0)&&this.wt.nu("country",t)}setHomeCity(t){return!!Vt(t,"set home city","the homeCity",!0)&&this.wt.nu("home_city",t)}setLanguage(t){return!!Vt(t,"set language","the language",!0)&&this.wt.nu("language",t)}setEmailNotificationSubscriptionType(t){return!!Pe(Q.NotificationSubscriptionTypes,t,`Email notification setting "${t}" is not a valid subscription type.`,"User.NotificationSubscriptionTypes")&&this.wt.nu("email_subscribe",t)}setPushNotificationSubscriptionType(t){return!!Pe(Q.NotificationSubscriptionTypes,t,`Push notification setting "${t}" is not a valid subscription type.`,"User.NotificationSubscriptionTypes")&&this.wt.nu("push_subscribe",t)}setPhoneNumber(t){return!!Vt(t,"set phone number","the phoneNumber",!0)&&(t===null||t.match(Q.En)?this.wt.nu("phone",t):(m.error(`Cannot set phone number - "${t}" did not pass validation.`),!1))}setLastKnownLocation(t,e,n,i,o){return t==null||e==null?(m.error("Cannot set last-known location - latitude and longitude are required."),!1):(t=parseFloat(t.toString()),e=parseFloat(e.toString()),n!=null&&(n=parseFloat(n.toString())),i!=null&&(i=parseFloat(i.toString())),o!=null&&(o=parseFloat(o.toString())),isNaN(t)||isNaN(e)||n!=null&&isNaN(n)||i!=null&&isNaN(i)||o!=null&&isNaN(o)?(m.error("Cannot set last-known location - all supplied parameters must be numeric."),!1):t>90||t<-90||e>180||e<-180?(m.error("Cannot set last-known location - latitude and longitude are bounded by 90 and 180 respectively."),!1):n!=null&&n<0||o!=null&&o<0?(m.error("Cannot set last-known location - accuracy and altitudeAccuracy may not be negative."),!1):this.zi.setLastKnownLocation(this.wt.getUserId(),t,e,i,n,o).L)}setCustomUserAttribute(t,e,n){if(!Ll(t))return!1;const i=o=>{const[s]=Gl(o,hn,"attribute value",`set custom user attribute "${t}"`,"custom user attribute");return s};if(Pt(e)){const[o,s]=zP(t,e);if(!o&&!s&&e.length!==0)return!1;if(o||e.length===0)return this.zi.Fn(Z.$n,t,e).L;for(const a of e)if(!i(a))return!1}else if(io(e)){if(!i(e))return!1;if(n)return this.zi.Fn(Z.Bn,t,e).L}else if(!(e!==void 0&&ql(e))||(ae(e)&&(e=cs(e)),typeof e=="string"&&!oe(e,`set custom user attribute "${t}"`,"the element in the given array")))return!1;return this.wt.setCustomUserAttribute(t,e)}addToCustomAttributeArray(t,e){return!!oe(t,"add to custom user attribute array","the given key")&&!(e!=null&&!oe(e,"add to custom user attribute array","the given value"))&&this.zi.Fn(Z.Ln,t,e).L}removeFromCustomAttributeArray(t,e){return!!oe(t,"remove from custom user attribute array","the given key")&&!(e!=null&&!oe(e,"remove from custom user attribute array","the given value"))&&this.zi.Fn(Z.Rn,t,e).L}incrementCustomUserAttribute(t,e){if(!oe(t,"increment custom user attribute","the given key"))return!1;e==null&&(e=1);const n=parseInt(e.toString());return isNaN(n)||n!==parseFloat(e.toString())?(m.error(`Cannot increment custom user attribute because the given incrementValue "${e}" is not an integer.`),!1):this.zi.Fn(Z.On,t,n).L}setCustomLocationAttribute(t,e,n){return!!oe(t,"set custom location attribute","the given key")&&((e!==null||n!==null)&&(e=e!=null?parseFloat(e.toString()):null,n=n!=null?parseFloat(n.toString()):null,e==null&&n!=null||e!=null&&n==null||e!=null&&(isNaN(e)||e>90||e<-90)||n!=null&&(isNaN(n)||n>180||n<-180))?(m.error("Received invalid values for latitude and/or longitude. Latitude and longitude are bounded by 90 and 180 respectively, or must both be null for removal."),!1):this.zi.Gn(t,e,n).L)}addToSubscriptionGroup(t){return!Vt(t,"add user to subscription group","subscription group ID",!1)||t.length<=0?(m.error("addToSubscriptionGroup requires a non-empty subscription group ID"),!1):this.zi.Hn(t,Q.Kn.SUBSCRIBED).L}removeFromSubscriptionGroup(t){return!Vt(t,"remove user from subscription group","subscription group ID",!1)||t.length<=0?(m.error("removeFromSubscriptionGroup requires a non-empty subscription group ID"),!1):this.zi.Hn(t,Q.Kn.UNSUBSCRIBED).L}kn(t,e,n,i,o){this.wt.kn(t,e,n,i,o),this.zi.Mn()}Dn(t){this.wt.Dn(t)}}Q.Genders={MALE:"m",FEMALE:"f",OTHER:"o",UNKNOWN:"u",NOT_APPLICABLE:"n",PREFER_NOT_TO_SAY:"p"},Q.NotificationSubscriptionTypes={OPTED_IN:"opted_in",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"},Q.En=/^[0-9 .\\(\\)\\+\\-]+$/,Q.Kn={SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"},Q.Yn="user_id",Q.lu="custom",Q.lr=997;class jy{constructor(){}ef(){}rf(){}Ta(t){}static sf(t,e){if(t&&e){if(t=t.toLowerCase(),Pt(e.ff)){for(let n=0;n<e.ff.length;n++)if(t.indexOf(e.ff[n].toLowerCase())!==-1)return e.identity}else if(t.indexOf(e.ff.toLowerCase())!==-1)return e.identity}}}const ee={rO:"Chrome",eO:"Edge",oO:"Opera",Bg:"Safari",OO:"Firefox"},Ue={xg:"Android",io:"iOS",Pg:"Mac",Og:"Windows"};class Wl extends jy{constructor(){if(super(),this.userAgentData=navigator.userAgentData,this.browser=null,this.version=null,this.userAgentData){const t=this.hc();this.browser=t.browser||"Unknown Browser",this.version=t.version||"Unknown Version"}this.OS=null}ef(){return this.browser}rf(){return this.version}Ta(t){if(this.OS)return Promise.resolve(this.OS);const e=n=>{for(let i=0;i<t.length;i++){const o=Wl.sf(n,t[i]);if(o)return this.OS=o,this.OS}return n};return this.userAgentData.platform?Promise.resolve(e(this.userAgentData.platform)):this.getHighEntropyValues().then(n=>n.platform?e(n.platform):navigator.platform).catch(()=>navigator.platform)}hc(){const t={},e=this.userAgentData.brands;if(e&&e.length)for(const n of e){const i=this.uc(ee),o=n.brand.match(i);if(o&&o.length>0){t.browser=o[0],t.version=n.version;break}}return t}uc(t){const e=[];for(const n in t){const i=n;e.push(t[i])}return new RegExp("("+e.join("|")+")","i")}getHighEntropyValues(){return this.userAgentData.getHighEntropyValues?this.userAgentData.getHighEntropyValues(["platform"]):Promise.reject()}}class ds extends jy{constructor(){super(),this.fd=ds.hc(navigator.userAgent||"")}ef(){return this.fd[0]||"Unknown Browser"}rf(){return this.fd[1]||"Unknown Version"}Ta(t){for(let e=0;e<t.length;e++){const n=t[e].string;let i=ds.sf(n,t[e]);if(i)return i===Ue.Pg&&navigator.maxTouchPoints>1&&(i=Ue.io),Promise.resolve(i)}return Promise.resolve(navigator.platform)}static hc(t){let e,n=t.match(/(samsungbrowser|tizen|roku|konqueror|icab|crios|opera|ucbrowser|chrome|safari|firefox|camino|msie|trident(?=\/))\/?\s*(\.?\d+(\.\d+)*)/i)||[];if(t.indexOf("(Web0S; Linux/SmartTV)")!==-1)return["LG Smart TV",null];if(t.indexOf("CrKey")!==-1)return["Chromecast",null];if(t.indexOf("BRAVIA")!==-1||t.indexOf("SonyCEBrowser")!==-1||t.indexOf("SonyDTV")!==-1)return["Sony Smart TV",null];if(t.indexOf("PhilipsTV")!==-1)return["Philips Smart TV",null];if(t.match(/\b(Roku)\b/))return["Roku",null];if(t.match(/\bAFTM\b/))return["Amazon Fire Stick",null];if(n[1]===ee.rO&&(e=t.match(/\b(OPR|Edge|EdgA|Edg|UCBrowser)\/(\.?\d+(\.\d+)*)/),e!=null))return e=e.slice(1),e[0]=e[0].replace("OPR",ee.oO),e[0]=e[0].replace("EdgA",ee.eO),e[0]==="Edg"&&(e[0]=ee.eO),[e[0],e[1]];if(n[1]===ee.Bg&&(e=t.match(/\b(EdgiOS)\/(\.?\d+(\.\d+)*)/),e!=null))return e=e.slice(1),e[0]=e[0].replace("EdgiOS",ee.eO),[e[0],e[1]];if(n=n[2]?[n[1],n[2]]:[null,null],n[0]===ee.Bg&&(e=t.match(/version\/(\.?\d+(\.\d+)*)/i))!=null&&n.splice(1,1,e[1]),(e=t.match(/\b(UCBrowser)\/(\.?\d+(\.\d+)*)/))!=null&&n.splice(1,1,e[2]),n[0]===ee.oO&&(e=t.match(/mini\/(\.?\d+(\.\d+)*)/i))!=null)return["Opera Mini",e[1]||""];if(n[0]){const i=n[0].toLowerCase();i==="crios"&&(n[0]=ee.rO),i==="tizen"&&(n[0]="Samsung Smart TV",n[1]=null),i==="samsungbrowser"&&(n[0]="Samsung Browser")}return n}}class Ai{constructor(){const t=navigator.userAgentData?Wl:ds;this.Sg=new t,this.userAgent=navigator.userAgent,this.browser=this.Sg.ef(),this.version=this.Sg.rf(),this.OS=null,this.Ta().then(n=>this.OS=n);const e=navigator;this.language=(e.userLanguage||e.language||e.browserLanguage||e.systemLanguage||"").toLowerCase(),this.Zo=Ai.vg(this.userAgent)}IE(){return this.browser===ee.Bg}Oa(){return this.OS||null}Ta(){return this.OS?Promise.resolve(this.OS):this.Sg.Ta(Ai.kg).then(t=>(this.OS=t,t))}static vg(t){t=t.toLowerCase();const e=["googlebot","bingbot","slurp","duckduckbot","baiduspider","yandex","facebookexternalhit","sogou","ia_archiver","https://github.com/prerender/prerender","aolbuild","bingpreview","msnbot","adsbot","mediapartners-google","teoma","taiko"];for(let n=0;n<e.length;n++)if(t.indexOf(e[n])!==-1)return!0;return!1}}Ai.kg=[{string:navigator.platform,ff:"Win",identity:Ue.Og},{string:navigator.platform,ff:"Mac",identity:Ue.Pg},{string:navigator.platform,ff:"BlackBerry",identity:"BlackBerry"},{string:navigator.platform,ff:"FreeBSD",identity:"FreeBSD"},{string:navigator.platform,ff:"OpenBSD",identity:"OpenBSD"},{string:navigator.platform,ff:"Nintendo",identity:"Nintendo"},{string:navigator.platform,ff:"SunOS",identity:"SunOS"},{string:navigator.platform,ff:"PlayStation",identity:"PlayStation"},{string:navigator.platform,ff:"X11",identity:"X11"},{string:navigator.userAgent,ff:["iPhone","iPad","iPod"],identity:Ue.io},{string:navigator.platform,ff:"Pike v",identity:Ue.io},{string:navigator.userAgent,ff:["Web0S"],identity:"WebOS"},{string:navigator.platform,ff:["Linux armv7l","Android"],identity:Ue.xg},{string:navigator.userAgent,ff:["Android"],identity:Ue.xg},{string:navigator.platform,ff:"Linux",identity:"Linux"}];const de=new Ai,b={iu:{su:"ab.storage.userId",Uo:"ab.storage.deviceId",El:"ab.storage.sessionId"},C:{ec:"ab.test",tE:"ab.storage.events",eE:"ab.storage.attributes",sE:"ab.storage.attributes.anonymous_user",Ca:"ab.storage.device",Yh:"ab.storage.sdk_metadata",Jh:"ab.storage.session_id_for_cached_metadata",In:"ab.storage.pushToken",Ui:"ab.storage.newsFeed",ki:"ab.storage.lastNewsFeedRefresh",J:"ab.storage.cardImpressions",ul:"ab.storage.serverConfig",rE:"ab.storage.triggers",oE:"ab.storage.triggers.ts",Nl:"ab.storage.messagingSessionStart",ws:"ab.storage.cc",gs:"ab.storage.ccLastFullSync",ys:"ab.storage.ccLastCardUpdated",nE:"ab.storage.ccRateLimitCurrentTokenCount",au:"ab.storage.globalRateLimitCurrentTokenCount",vu:"ab.storage.dynamicRateLimitCurrentTokenCount",v:"ab.storage.ccClicks",H:"ab.storage.ccImpressions",A:"ab.storage.ccDismissals",aE:"ab.storage.lastDisplayedTriggerTimesById",iE:"ab.storage.lastDisplayedTriggerTime",EE:"ab.storage.triggerFireInstancesById",wh:"ab.storage.signature",As:"ab.storage.brazeSyncRetryCount",Ss:"ab.storage.sdkVersion",gi:"ab.storage.ff",vi:"ab.storage.ffImpressions",xi:"ab.storage.ffLastRefreshAt",Di:"ab.storage.ff.sessionId",lE:"ab.storage.lastReqToEndpoint",SE:"ab.storage.requestAttempts",Cr:"ab.storage.deferredIam",Qa:"ab.storage.lastSdkReq",_E:"ab.storage.alias"},se:"ab.optOut"};class Tt{constructor(t,e){this.uE=t,this.TE=e,this.uE=t,this.TE=e}Wh(t){const e=ze(b.iu),n=new Tt.ee(t);for(const i of e)n.remove(b.iu[i])}uu(t,e){let n=null;e!=null&&e instanceof le&&(n=e.Y()),this.uE.store(t,n)}cE(t){const e=this.tu(t);e!=null&&(e.Wl=new Date().valueOf(),this.uu(t,e))}tu(t){const e=this.uE.br(t),n=(o=>{let s;try{s=JSON.parse(o)}catch{s=null}return s})(e);let i;if(n)i=le.qn(n)||null,i&&this.uu(t,i);else{const o=le.hE(e);i=le.qn(o)||null,o!==e&&i&&this.uu(t,i)}return i}Al(t){this.uE.remove(t)}Vh(){const t=ze(b.iu);let e;for(const n of t)e=this.tu(b.iu[n]),e!=null&&this.uu(b.iu[n],e)}xo(t){let e;if(t==null||t.length===0)return!1;e=Pt(t)?t:[t];let n=this.TE.br(b.C.tE);n!=null&&Pt(n)||(n=[]);for(let i=0;i<e.length;i++)n.push(e[i].Y());return this.TE.store(b.C.tE,n)}kl(t){return t!=null&&this.xo([t])}AE(){let t=this.TE.br(b.C.tE);this.TE.remove(b.C.tE),t==null&&(t=[]);const e=[];let n=!1,i=null;if(Pt(t))for(let o=0;o<t.length;o++)Wt.RE(t[o])?e.push(Wt.qn(t[o])):i=o;else n=!0;if(n||i!=null){let o="Stored events could not be deserialized as Events";n&&(o+=", was "+Object.prototype.toString.call(t)+" not an array"),i!=null&&(o+=", value at index "+i+" does not look like an event"),o+=", serialized values were of type "+typeof t+": "+JSON.stringify(t),e.push(new Wt(null,Z.qs,new Date().valueOf(),null,{e:o}))}return e}k(t,e){return!!Pe(b.C,t,"StorageManager cannot store object.","STORAGE_KEYS.OBJECTS")&&this.TE.store(t,e)}j(t){return!!Pe(b.C,t,"StorageManager cannot retrieve object.","STORAGE_KEYS.OBJECTS")&&this.TE.br(t)}ti(t){return!!Pe(b.C,t,"StorageManager cannot remove object.","STORAGE_KEYS.OBJECTS")&&(this.TE.remove(t),!0)}clearData(){const t=ze(b.iu),e=ze(b.C);for(let n=0;n<t.length;n++){const i=t[n];this.uE.remove(b.iu[i])}for(let n=0;n<e.length;n++){const i=e[n];this.TE.remove(b.C[i])}}gE(t){return t||b.C.sE}La(t){let e=this.TE.br(b.C.eE);e==null&&(e={});const n=this.gE(t[Q.Yn]),i=e[n];for(const o in t)o!==Q.Yn&&(e[n]==null||i&&i[o]==null)&&this.mu(t[Q.Yn],o,t[o])}mu(t,e,n){let i=this.TE.br(b.C.eE);i==null&&(i={});const o=this.gE(t);let s=i[o];if(s==null&&(s={},t!=null&&(s[Q.Yn]=t)),e===Q.lu){s[e]==null&&(s[e]={});for(const a in n)s[e][a]=n[a]}else s[e]=n;return i[o]=s,this.TE.store(b.C.eE,i)}OE(){const t=this.TE.br(b.C.eE);this.TE.remove(b.C.eE);const e=[];for(const n in t)t[n]!=null&&e.push(t[n]);return e}ru(t){const e=this.TE.br(b.C.eE);if(e!=null){const s=this.gE(null),a=e[s];a!=null&&(e[s]=void 0,this.TE.store(b.C.eE,e),a[Q.Yn]=t,this.La(a))}const n=this.tu(b.iu.El);let i=null;n!=null&&(i=n.eu);const o=this.AE();if(o!=null)for(let s=0;s<o.length;s++){const a=o[s];a.userId==null&&a.sessionId==i&&(a.userId=t),this.kl(a)}}dE(){return this.TE.fE}}Tt.rc=class{constructor(r){this.rn=r,this.rn=r,this.fE=de.IE()?3:10}bE(r){return r+"."+this.rn}store(r,t){const e={v:t};try{return localStorage.setItem(this.bE(r),JSON.stringify(e)),!0}catch(n){return m.info("Storage failure: "+ue(n)),!1}}br(r){try{let t=null;const e=localStorage.getItem(this.bE(r));return e!=null&&(t=JSON.parse(e)),t==null?null:t.v}catch(t){return m.info("Storage retrieval failure: "+ue(t)),null}}remove(r){try{localStorage.removeItem(this.bE(r))}catch(t){return m.info("Storage removal failure: "+ue(t)),!1}}},Tt.ac=class{constructor(){this.mE={},this.KE=5242880,this.fE=3}store(r,t){const e={value:t},n=this.YE(t);return n>this.KE?(m.info("Storage failure: object is "+n+" bytes which is greater than the max of "+this.KE),!1):(this.mE[r]=e,!0)}YE(r){const t=[],e=[r];let n=0;for(;e.length;){const i=e.pop();if(typeof i=="boolean")n+=4;else if(typeof i=="string")n+=2*i.length;else if(typeof i=="number")n+=8;else if(typeof i=="object"&&t.indexOf(i)===-1){let o,s;t.push(i);for(const a in i)s=i,o=a,e.push(s[o])}}return n}br(r){const t=this.mE[r];return t==null?null:t.value}remove(r){this.mE[r]=null}},Tt.ee=class{constructor(r,t){this.rn=r,this.NE=t,this.rn=r,this.CE=this.GE(),this.DE=576e3,this.NE=!!t}bE(r){return this.rn!=null?r+"."+this.rn:r}GE(){let r=0,t=document.location.hostname;const e=t.split("."),n="ab._gd";for(;r<e.length-1&&document.cookie.indexOf(n+"="+n)===-1;)r++,t="."+e.slice(-1-r).join("."),document.cookie=n+"="+n+";domain="+t+";";return document.cookie=n+"=;expires="+new Date(0).toUTCString()+";domain="+t+";",t}ne(){const r=new Date;return r.setTime(r.getTime()+60*this.DE*1e3),r.getFullYear()}ME(){const r=Bs(b.iu),t=document.cookie.split(";");for(let e=0;e<t.length;e++){let n=t[e];for(;n.charAt(0)===" ";)n=n.substring(1);let i=!1;for(let o=0;o<r.length;o++)if(n.indexOf(r[o])===0){i=!0;break}if(i){const o=n.split("=")[0];o.indexOf("."+this.rn)===-1&&this.pE(o)}}}store(r,t){this.ME();const e=new Date;e.setTime(e.getTime()+60*this.DE*1e3);const n="expires="+e.toUTCString(),i="domain="+this.CE;let o;o=this.NE?t:encodeURIComponent(t);const s=this.bE(r)+"="+o+";"+n+";"+i+";path=/";return s.length>=4093?(m.info("Storage failure: string is "+s.length+" chars which is too large to store as a cookie."),!1):(document.cookie=s,!0)}br(r){const t=[],e=this.bE(r)+"=",n=document.cookie.split(";");for(let i=0;i<n.length;i++){let o=n[i];for(;o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(e)===0)try{let s;s=this.NE?o.substring(e.length,o.length):decodeURIComponent(o.substring(e.length,o.length)),t.push(s)}catch(s){return m.info("Storage retrieval failure: "+ue(s)),this.remove(r),null}}return t.length>0?t[t.length-1]:null}remove(r){this.pE(this.bE(r))}pE(r){const t=r+"=;expires="+new Date(0).toUTCString();document.cookie=t,document.cookie=t+";path=/";const e=t+";domain="+this.CE;document.cookie=e,document.cookie=e+";path=/"}},Tt.tc=class{constructor(r,t,e){this.rn=r,this.vE=[],t&&this.vE.push(new Tt.ee(r)),e&&this.vE.push(new Tt.rc(r)),this.vE.push(new Tt.ac)}store(r,t){let e=!0;for(let n=0;n<this.vE.length;n++)e=this.vE[n].store(r,t)&&e;return e}br(r){for(let t=0;t<this.vE.length;t++){const e=this.vE[t].br(r);if(e!=null)return e}return null}remove(r){new Tt.ee(this.rn).remove(r);for(let t=0;t<this.vE.length;t++)this.vE[t].remove(r)}};class QP{constructor(t,e,n){this.u=t,this.Jn=e,this.Qn=n,this.u=t,this.Jn=e||!1,this.Qn=n,this.Xn=new Bt,this.Zn=0,this.gh=1}Fh(){return this.Jn}kh(){return this.u.j(b.C.wh)}setSdkAuthenticationSignature(t){const e=this.kh();this.u.k(b.C.wh,t);const n=Dt.Yt.Qt;new Dt(n,m).setItem(n.ss.jh,this.gh,t),e!==t&&this.Os()}xh(){this.u.ti(b.C.wh);const t=Dt.Yt.Qt;new Dt(t,m).re(t.ss.jh,this.gh)}subscribeToSdkAuthenticationFailures(t){return this.Qn.It(t)}qh(t){this.Qn.Dt(t)}yh(){this.Xn.removeAllSubscriptions()}Bh(){this.Zn+=1}Gh(){return this.Zn}Os(){this.Zn=0}}class zl{constructor(){}Ns(t){}changeUser(t=!1){}clearData(t=!1){}}class HP{constructor(t){this.id=t,this.id=t}Ir(){const t={};return this.browser!=null&&(t.browser=this.browser),this.Ia!=null&&(t.browser_version=this.Ia),this.os!=null&&(t.os_version=this.os),this.resolution!=null&&(t.resolution=this.resolution),this.language!=null&&(t.locale=this.language),this.timeZone!=null&&(t.time_zone=this.timeZone),this.userAgent!=null&&(t.user_agent=this.userAgent),t}}const Ee={BROWSER:"browser",BROWSER_VERSION:"browserVersion",OS:"os",RESOLUTION:"resolution",LANGUAGE:"language",TIME_ZONE:"timeZone",USER_AGENT:"userAgent"};class YP{constructor(t,e){this.u=t,this.ka=e,this.u=t,e==null&&(e=Bs(Ee)),this.ka=e}ce(t=!0){let e=this.u.tu(b.iu.Uo);e==null&&(e=new le(no.W()),t&&this.u.uu(b.iu.Uo,e));const n=new HP(e.eu);for(let i=0;i<this.ka.length;i++)switch(this.ka[i]){case Ee.BROWSER:n.browser=de.browser;break;case Ee.BROWSER_VERSION:n.Ia=de.version;break;case Ee.OS:n.os=this.Ta();break;case Ee.RESOLUTION:n.Da=screen.width+"x"+screen.height;break;case Ee.LANGUAGE:n.language=de.language;break;case Ee.TIME_ZONE:n.timeZone=this.Sa(new Date);break;case Ee.USER_AGENT:n.userAgent=de.userAgent}return n}Ta(){if(de.Oa())return de.Oa();const t=this.u.j(b.C.Ca);return t&&t.os_version?t.os_version:de.Ta()}Sa(t){let e=!1;if(typeof Intl<"u"&&typeof Intl.DateTimeFormat=="function")try{if(typeof Intl.DateTimeFormat().resolvedOptions=="function"){const i=Intl.DateTimeFormat().resolvedOptions().timeZone;if(i!=null&&i!=="")return i}}catch(i){m.info("Intl.DateTimeFormat threw an error, cannot detect user's time zone:"+ue(i)),e=!0}if(e)return"";const n=t.getTimezoneOffset();return this.Fa(n)}Fa(t){const e=Math.trunc(t/60),n=Math.trunc(t%60);let i="GMT";return t!==0&&(i+=t<0?"+":"-",i+=("00"+Math.abs(e)).slice(-2)+":"+("00"+Math.abs(n)).slice(-2)),i}}const er={qa:"invalid_api_key",Aa:"blacklisted",Ba:"no_device_identifier",Ra:"invalid_json_response",Zh:"empty_response",__:"sdk_auth_error"},N={Ps:{$a:"data",Bs:"content_cards/sync",bi:"feature_flags/sync",Mr:"template"},qu:r=>r==null?void 0:r.j(b.C.lE),sm:r=>r==null?void 0:r.j(b.C.SE),nm:(r,t)=>{r==null||r.k(b.C.lE,t)},um:(r,t)=>{r==null||r.k(b.C.SE,t)},Pa:(r,t)=>{if(!r||!t)return-1;const e=N.qu(r);if(e==null)return-1;const n=e[t];return n==null||isNaN(n)?-1:n},Ua:(r,t)=>{let e=Xh;if(!r||!t)return e;const n=N.sm(r);return n==null?e:(e=n[t],e==null||isNaN(e)?Xh:e)},_s:(r,t,e)=>{if(!r||!t)return;let n=N.qu(r);n==null&&(n={}),n[t]=e,N.nm(r,n)},Qs:(r,t,e)=>{if(!r||!t)return;let n=N.sm(r);n==null&&(n={}),n[t]=e,N.um(r,n)},Ys:(r,t)=>{if(!r||!t)return;const e=N.Ua(r,t);N.Qs(r,t,e+1)}};class XP{constructor(t,e,n,i,o,s,a,u,l,f,c,h){this.on=t,this.u=e,this.zo=n,this.wt=i,this.ri=o,this.yt=s,this.rn=a,this.Go=u,this.Wo=l,this.Vo=f,this.appVersion=c,this.Xh=h,this.$h=d=>d==null?"":`${d} `,this.on=t,this.u=e,this.zo=n,this.wt=i,this.ri=o,this.yt=s,this.rn=a,this.Go=u,this.Wo=l,this.Vo=f,this.appVersion=c,this.Xh=h,this.Hh=["npm"]}Js(t,e=!1,n=!1){const i=this.on.ce(!n),o=i.Ir(),s=this.u.j(b.C.Ca);Rr(s,o)||(t.device=o),t.api_key=this.rn,t.time=Ls(new Date().valueOf(),!0);const a=this.u.j(b.C.Yh)||[],u=this.u.j(b.C.Jh)||"";if(this.Hh.length>0&&(!Rr(a,this.Hh)||u!==this.ri.Si())&&(t.sdk_metadata=this.Hh),t.sdk_version=this.Wo,this.Vo&&(t.sdk_flavor=this.Vo),t.app_version=this.appVersion,t.app_version_code=this.Xh,t.device_id=i.id,e){const l=this.wt.getUserId();l!=null&&(t.user_id=l)}if(!t.user_id&&!this.zo.Fh()){const l=cl(this.u);l&&(t.alias=l)}return t}Ks(t,e,n){const i=e.auth_error,o=e.error;if(!i&&!o)return!0;if(i){let s;this.zo.Bh();const a={errorCode:i.error_code};for(const l of n)Pt(l)&&l[0]==="X-Braze-Auth-Signature"&&(a.signature=l[1]);t.respond_with&&t.respond_with.user_id?a.userId=t.respond_with.user_id:t.user_id&&(a.userId=t.user_id);const u=i.reason;return u?(a.reason=u,s=`due to ${u}`):s=`with error code ${i.error_code}.`,this.zo.Fh()||(s+=' Please use the "enableSdkAuthentication" initialization option to enable authentication.'),m.error(`SDK Authentication failed ${s}`),this.Qh(t.events||[],t.attributes||[]),this.zo.qh(a),!1}if(o){let s,a=o;switch(a){case er.Zh:return s="Received successful response with empty body.",Ht.q(Z.qs,{e:s}),m.info(s),!1;case er.Ra:return s="Received successful response with invalid JSON",Ht.q(Z.qs,{e:s+": "+e.response}),m.info(s),!1;case er.qa:a=`The API key "${t.api_key}" is invalid for the baseUrl ${this.Go}`;break;case er.Aa:a="Sorry, we are not currently accepting your requests. If you think this is in error, please contact us.";break;case er.Ba:a="No device identifier. Please contact support@braze.com"}m.error("Backend error: "+a)}return!1}Na(t,e,n,i){return!!(t&&t.length!==0||e&&e.length!==0||n||i)}Xa(t,e,n,i,o=!1){const s=[],a=g=>g||"",u=a(this.wt.getUserId());let l=this.Zi(t,e);const f=[],c=[];let h,d=null;if(n.length>0){const g=[];for(const S of n){if(h=S.Ir(),this.zo.Fh()){if(u&&!h.user_id){d||(d={}),d.events||(d.events=[]),d.events.push(h);continue}if(a(h.user_id)!==u){c.push(h);continue}}g.push(h)}g.length>0&&(l.events=g)}if(i.length>0){const g=[];for(const S of i)S&&(this.zo.Fh()&&a(S.user_id)!==u?f.push(S):g.push(S));g.length>0&&(l.attributes=g)}if(this.Qh(c,f),l=this.Js(l,!0,o),d){d=this.Js(d,!1,o);const g={requestData:d,headers:this.$s(d,N.Ps.$a)};s.push(g)}if(l&&!this.Na(l.events,l.attributes,t,e))return d?s:null;const p={requestData:l,headers:this.$s(l,N.Ps.$a)};return s.push(p),s}Qh(t,e){if(t){const n=[];for(const i of t){const o=Wt.fromJson(i);o.time=TP(o.time),n.push(o)}this.u.xo(n)}if(e)for(const n of e)this.u.La(n)}Vs(t,e){let n="HTTP error ";t!=null&&(n+=t+" "),n+=e,m.error(n)}qr(t){return Ht.q(Z.Ea,{n:t})}Zi(t,e,n){const i={};t&&(i.feed=!0),e&&(i.triggers=!0);const o=n??this.wt.getUserId();if(o&&(i.user_id=o),!i.user_id&&!this.zo.Fh()){const s=cl(this.u);s&&(i.alias=s)}return i.config={config_time:this.yt.ii()},{respond_with:i}}Ka(t){const e=new Date().valueOf();let n=xP.toString();const i=N.Pa(this.u,t);return i!==-1&&(n=(e-i).toString()),n}$s(t,e,n=!1){const i=[["X-Braze-Api-Key",this.rn]],o=this.Ka(e);i.push(["X-Braze-Last-Req-Ms-Ago",o]);const s=N.Ua(this.u,e).toString();i.push(["X-Braze-Req-Attempt",s]);let a=!1;if(t.respond_with!=null&&t.respond_with.triggers&&(i.push(["X-Braze-TriggersRequest","true"]),a=!0),t.respond_with!=null&&t.respond_with.feed&&(i.push(["X-Braze-FeedRequest","true"]),a=!0),e===N.Ps.Bs){i.push(["X-Braze-ContentCardsRequest","true"]);let u=this.u.j(b.C.As);u&&n||(u=0,this.u.k(b.C.As,u)),i.push(["BRAZE-SYNC-RETRY-COUNT",u.toString()]),a=!0}if(e===N.Ps.bi&&(i.push(["X-Braze-FeatureFlagsRequest","true"]),a=!0),a&&i.push(["X-Braze-DataRequest","true"]),this.zo.Fh()){const u=this.zo.kh();u!=null&&i.push(["X-Braze-Auth-Signature",u])}return i}Ga(t,e,n,i){window.setTimeout(()=>{m.info(`Retrying rate limited ${this.$h(i)}SDK request.`),this.Xs(e,n,i)},t)}Xs(t,e,n,i){if(!this.Ha(n))return m.info(`${this.$h(n)}SDK request being rate limited.`),void(typeof i=="function"&&i());const o=this.Wa();if(!o.Ya)return m.info(`${this.$h(n)}SDK request being rate limited. Request will be retried in ${Math.trunc(o.Ja/1e3)} seconds.`),void this.Ga(o.Ja,t,e,n);this.u.k(b.C.Qa,new Date().valueOf());const s=t.device;s&&s.os_version instanceof Promise?s.os_version.then(a=>{t.device.os_version=a,e(o.Va)}):e(o.Va)}Za(t){var e;(e=this.u)===null||e===void 0||e.k(b.C.au,t)}du(t,e){let n=this.fu();n==null&&(n={}),n[t]=e,this.u.k(b.C.vu,n)}Ru(){var t;return(t=this.u)===null||t===void 0?void 0:t.j(b.C.au)}fu(){var t;return(t=this.u)===null||t===void 0?void 0:t.j(b.C.vu)}gu(t,e,n,i,o=""){let s;if(o){const u=this.fu();s=u==null||isNaN(u[o])?e:u[o]}else s=this.Ru(),(s==null||isNaN(s))&&(s=e);const a=(t-i)/1e3;return s=Math.min(s+a/n,e),s}pu(t,e){return Math.max(0,(1-t)*e*1e3)}bu(t,e=""){var n,i,o,s,a;const u={Ya:!0,Va:-1,Ja:0};if(t==null&&(t=!0),!t&&!e)return u;let l,f,c=null;if(t)c=(n=this.u)===null||n===void 0?void 0:n.j(b.C.Qa);else{const p=N.qu(this.u);if(p==null||p[e]==null)return u;c=p[e]}if(c==null||isNaN(c)||(t?(l=((i=this.yt)===null||i===void 0?void 0:i.Au())||-1,f=((o=this.yt)===null||o===void 0?void 0:o.Du())||-1):(l=((s=this.yt)===null||s===void 0?void 0:s.Tu(e))||-1,f=((a=this.yt)===null||a===void 0?void 0:a.ku(e))||-1),l===-1||f===-1))return u;const h=new Date().valueOf();let d=this.gu(h,l,f,c,e);return d<1?(u.Ya=!1,u.Ja=this.pu(d,f),u):(d=Math.trunc(d)-1,u.Va=d,t?this.Za(d):this.du(e,d),u)}Wa(){return this.bu(!0)}Ha(t){const e=this.bu(!1,t);return!(e&&!e.Ya)}Os(){this.zo.Os()}Hs(){return this.Go}addSdkMetadata(t){for(const e of t)this.Hh.indexOf(e)===-1&&this.Hh.push(e)}}const Kl={Gs:r=>{let t,e;try{const n=()=>{m.error("This browser does not have any supported ajax options!")};let i=!1;if(window.XMLHttpRequest&&(i=!0),!i)return void n();t=new XMLHttpRequest;const o=()=>{typeof r.error=="function"&&r.error(t.status),typeof r.Ws=="function"&&r.Ws(!1)};t.onload=()=>{let a=!1;if(t.readyState===4)if(a=t.status>=200&&t.status<300||t.status===304,a){if(typeof r.L=="function"){let u,l;try{u=JSON.parse(t.responseText),l=t.getAllResponseHeaders()}catch{const c={error:t.responseText===""?er.Zh:er.Ra,response:t.responseText};(0,r.L)(c,l)}u&&r.L(u,l)}typeof r.Ws=="function"&&r.Ws(!0)}else o()},t.onerror=()=>{o()},t.ontimeout=()=>{o()},e=JSON.stringify(r.data),t.open("POST",r.url,!0),t.setRequestHeader("Content-type","application/json"),t.setRequestHeader("X-Requested-With","XMLHttpRequest");const s=r.headers||[];for(const a of s)t.setRequestHeader(a[0],a[1]);t.send(e)}catch(n){m.error(`Network request error: ${ue(n)}`)}}},Vl=(r,t)=>(r=Math.ceil(r),t=Math.floor(t),Math.floor(Math.random()*(t-r+1))+r);class Pi{constructor(t=!1,e=[]){this.L=t,this.ge=e,this.L=t,this.ge=e}P(t){this.L=this.L&&t.L,this.ge.push(...t.ge)}}const lt={dn:()=>"serviceWorker"in navigator&&typeof ServiceWorkerRegistration<"u"&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in window,bn:()=>"safari"in window&&"pushNotification"in window.safari&&typeof window.safari.pushNotification.permission=="function"&&typeof window.safari.pushNotification.requestPermission=="function",isPushSupported:()=>lt.dn()||lt.bn(),isPushBlocked:()=>{const r=lt.isPushSupported()&&"Notification"in window&&window.Notification!=null&&window.Notification.permission!=null&&window.Notification.permission==="denied",t=lt.isPushSupported()&&(!("Notification"in window)||window.Notification==null);return r||t},isPushPermissionGranted:()=>lt.isPushSupported()&&"Notification"in window&&window.Notification!=null&&window.Notification.permission!=null&&window.Notification.permission==="granted",Vi:()=>!lt.isPushBlocked()&&lt.isPushSupported()&&!lt.isPushPermissionGranted()};class ZP{constructor(t,e,n,i,o,s,a,u,l,f){this.rn=t,this.baseUrl=e,this.ri=n,this.on=i,this.wt=o,this.yt=s,this.u=a,this.wu=u,this.zo=l,this.qt=f,this.rn=t,this.baseUrl=e,this.yu=0,this.fE=a.dE()||0,this.ju=null,this.ri=n,this.on=i,this.wt=o,this.yt=s,this.u=a,this.zo=l,this.qt=f,this.wu=u,this.Su=new Bt,this.$u=null,this.Cu=50,this.Fu=!1}Lu(t,e){return!t&&!e&&this.zo.Gh()>=this.Cu}Mu(t){let e=this.ri.Gl();if(t.length>0){const n=this.wt.getUserId();for(const i of t){const o=!i.userId&&!n||i.userId===n;i.type===Z.ql&&o&&(e=!0)}}return e}Pu(t=!1,e=!1,n=!0,i,o,s,a=!1,u=!1){n&&this.xu();const l=this.u.AE(),f=this.u.OE();let c=!1;const h=(E,_,w=-1)=>{let A=!1;const O=new Date().valueOf();N._s(this.u,N.Ps.$a,O),w!==-1&&_.push(["X-Braze-Req-Tokens-Remaining",w.toString()]),Kl.Gs({url:this.baseUrl+"/data/",data:E,headers:_,L:I=>{E.respond_with!=null&&E.respond_with.triggers&&(this.yu=Math.max(this.yu-1,0)),this.qt.Ks(E,I,_)?(this.zo.Os(),this.yt.al(I),E.respond_with!=null&&E.respond_with.user_id!=this.wt.getUserId()||(E.device!=null&&this.u.k(b.C.Ca,E.device),E.sdk_metadata!=null&&(this.u.k(b.C.Yh,E.sdk_metadata),this.u.k(b.C.Jh,this.ri.Si())),this.wu(I),N.Qs(this.u,N.Ps.$a,1),typeof i=="function"&&i())):I.auth_error&&(A=!0)},error:()=>{E.respond_with!=null&&E.respond_with.triggers&&(this.yu=Math.max(this.yu-1,0)),this.qt.Qh(E.events,E.attributes),typeof o=="function"&&o()},Ws:I=>{if(typeof s=="function"&&s(I),n&&!c){if(I&&!A)this.Iu();else{N.Ys(this.u,N.Ps.$a);let F=this.ju;(F==null||F<1e3*this.fE)&&(F=1e3*this.fE),this.Iu(Math.min(3e5,Vl(1e3*this.fE,3*F)))}c=!0}}})},d=this.Mu(l),p=e||d;if(this.Lu(a,d))return void m.info("Declining to flush data due to 50 consecutive authentication failures");if(n&&!this.qt.Na(l,f,t,p))return this.Iu(),void(typeof s=="function"&&s(!0));const g=this.qt.Xa(t,p,l,f,u);p&&this.yu++;let S=!1;if(g)for(const E of g)this.qt.Xs(E.requestData,_=>h(E.requestData,E.headers,_),N.Ps.$a,o),S=!0;this.zo.Fh()&&n&&!S?this.Iu():d&&(m.info("Invoking new session subscriptions"),this.Su.Dt())}Nu(){return this.yu>0}Iu(t=1e3*this.fE){this.Fu||(this.xu(),this.$u=window.setTimeout(()=>{if(document.hidden){const e="visibilitychange",n=()=>{document.hidden||(document.removeEventListener(e,n,!1),this.Pu())};document.addEventListener(e,n,!1)}else this.Pu()},t),this.ju=t)}xu(){this.$u!=null&&(clearTimeout(this.$u),this.$u=null)}initialize(){this.Fu=!1,this.Iu()}destroy(){this.Su.removeAllSubscriptions(),this.zo.yh(),this.xu(),this.Fu=!0,this.Pu(void 0,void 0,!1,void 0,void 0,void 0,void 0,!0),this.$u=null}mr(t){return this.Su.It(t)}openSession(){const t=this.ri.Si()!==this.ri.wo();t&&(this.u.cE(b.iu.Uo),this.u.cE(b.iu.su)),this.Pu(void 0,!1,void 0,()=>{this.u.ti(b.C.vi)}),this.Mn(),t&&Iu(()=>Promise.resolve().then(()=>yO),void 0).then(e=>{if(this.Fu)return;const n=e.default.m();if(n!=null&&(lt.isPushPermissionGranted()||lt.isPushBlocked())){const i=()=>{n.mn()?m.info("Push token maintenance is disabled, not refreshing token for backend."):n.subscribe()},o=(u,l)=>{l&&i()},s=()=>{const u=this.u.j(b.C.In);(u==null||u)&&i()},a=Dt.Yt.Qt;new Dt(a,m).jr(a.ss.cu,o,s)}})}Ou(){this.u.ti(b.C.gi),this.u.ti(b.C.ws),this.u.ti(b.C.Cr)}changeUser(t,e,n){const i=this.wt.getUserId();if(i!==t){this.ri.yl(),this.Ou(),i!=null&&this.Pu(void 0,!1,void 0,void 0,void 0),this.wt.ou(t),n?this.zo.setSdkAuthenticationSignature(n):this.zo.xh();for(let o=0;o<e.length;o++)e[o].changeUser(i==null);i!=null&&this.u.ti(b.C.J),this.u.ti(b.C.Ca),this.u.ti(b.C.nE),this.u.ti(b.C._E),this.openSession(),m.info('Changed user to "'+t+'".')}else{let o="Doing nothing.";n&&this.zo.kh()!==n&&(this.zo.setSdkAuthenticationSignature(n),o="Updated SDK authentication signature"),m.info(`Current user is already ${t}. ${o}`)}}requestImmediateDataFlush(t){this.xu(),this.ri.wo(),this.Pu(void 0,void 0,void 0,void 0,()=>{m.error("Failed to flush data, request will be retried automatically.")},t,!0)}requestFeedRefresh(){this.ri.wo(),this.Pu(!0)}$r(t,e){this.ri.wo(),m.info("Requesting explicit trigger refresh."),this.Pu(void 0,!0,void 0,t,e)}Cn(t,e){const n=Z.zu,i={a:t,l:e},o=Ht.q(n,i);return o&&(m.info(`Logged alias ${t} with label ${e}`),this.u.k(b.C._E,i)),o}Fn(t,e,n){if(this.yt.hu(e))return m.info(`Custom Attribute "${e}" is blocklisted, ignoring.`),new Pi;const i={key:e,value:n},o=Ht.q(t,i);if(o){const s=typeof n=="object"?JSON.stringify(n,null,2):n;m.info(`Logged custom attribute: ${e} with value: ${s}`)}return o}setLastKnownLocation(t,e,n,i,o,s){const a={latitude:e,longitude:n};i!=null&&(a.altitude=i),o!=null&&(a.ll_accuracy=o),s!=null&&(a.alt_accuracy=s);const u=Ht.q(Z.Uu,a,t||void 0);return u&&m.info(`Set user last known location as ${JSON.stringify(a,null,2)}`),u}kr(t,e){const n=this.ri.wo();return new Wt(this.wt.getUserId(),Z._u,t,n,{cid:e})}Bu(t,e){return new Dt(t,e)}Mn(){const t=Dt.Yt.Qt;this.Bu(t,m).setItem(t.ss.$a,1,{baseUrl:this.baseUrl,data:{api_key:this.rn,device_id:this.on.ce().id},userId:this.wt.getUserId(),sdkAuthEnabled:this.zo.Fh()})}yr(t){for(const e of t)if(e.api_key===this.rn)this.qt.Qh(e.events,e.attributes);else{const n=Dt.Yt.Qt;new Dt(n,m).setItem(n.ss.wr,no.W(),e)}}Gn(t,e,n){if(this.yt.hu(t))return m.info(`Custom Attribute "${t}" is blocklisted, ignoring.`),new Pi;let i,o;return e===null&&n===null?(i=Z.Eu,o={key:t}):(i=Z.Ju,o={key:t,latitude:e,longitude:n}),Ht.q(i,o)}Hn(t,e){const n={group_id:t,status:e};return Ht.q(Z.Ku,n)}}class bi{constructor(t=0,e=[],n=[],i=[],o=null,s=null,a={enabled:!1},u={enabled:!1,refresh_rate_limit:void 0},l={enabled:!0,capacity:UP,refill_rate:NP,endpoint_overrides:{}}){this.hl=t,this.gl=e,this.fl=n,this.bl=i,this.Rl=o,this.cl=s,this.ml=a,this.hi=u,this.ol=l,this.hl=t,this.gl=e,this.fl=n,this.bl=i,this.Rl=o,this.cl=s,this.ml=a,this.hi=u,this.ol=l}Y(){return{s:"5.3.0",l:this.hl,e:this.gl,a:this.fl,p:this.bl,m:this.Rl,v:this.cl,c:this.ml,f:this.hi,grl:this.ol}}static qn(t){let e=t.l;return t.s!=="5.3.0"&&(e=0),new bi(e,t.e,t.a,t.p,t.m,t.v,t.c,t.f,t.grl)}}class tO{constructor(t){this.u=t,this.u=t,this.tl=new Bt,this.el=new Bt,this.il=new Bt,this.sl=null,this.rl=null}ll(){if(this.rl==null){const t=this.u.j(b.C.ul);this.rl=t!=null?bi.qn(t):new bi}return this.rl}ii(){return this.ll().hl}al(t){if(t!=null&&t.config!=null){const e=t.config;if(e.time>this.ll().hl){const n=u=>u??this.ll().ol,i=new bi(e.time,e.events_blacklist,e.attributes_blacklist,e.purchases_blacklist,e.messaging_session_timeout,e.vapid_public_key,e.content_cards,e.feature_flags,n(e.global_request_rate_limit));let o=!1;i.cl!=null&&this.Wn()!==i.cl&&(o=!0);let s=!1;i.ml.enabled!=null&&this.si()!==i.ml.enabled&&(s=!0);let a=!1;i.hi.enabled!=null&&this.ci()!==i.hi.enabled&&(a=!0),this.rl=i,this.u.k(b.C.ul,i.Y()),o&&this.tl.Dt(),s&&this.el.Dt(),a&&this.il.Dt()}}}_n(t){const e=this.tl.It(t);return this.sl&&this.tl.removeSubscription(this.sl),this.sl=e,e}Is(t){return this.el.It(t)}ji(t){return this.il.It(t)}me(t){return this.ll().gl.indexOf(t)!==-1}hu(t){return this.ll().fl.indexOf(t)!==-1}Dr(t){return this.ll().bl.indexOf(t)!==-1}dl(){return this.ll().Rl}Wn(){return this.ll().cl}si(){return this.ll().ml.enabled||!1}Cl(){const t=this.ll().ol;return!(!t||t.enabled==null)&&t.enabled}Au(){if(!this.Cl())return-1;const t=this.ll().ol;return t.capacity==null||t.capacity<10?-1:t.capacity}Du(){if(!this.Cl())return-1;const t=this.ll().ol;return t.refill_rate==null||t.refill_rate<=0?-1:t.refill_rate}vl(t){const e=this.ll().ol.endpoint_overrides;return e==null?null:e[t]}Tu(t){const e=this.vl(t);return e==null||isNaN(e.capacity)||e.capacity<=0?-1:e.capacity}ku(t){const e=this.vl(t);return e==null||isNaN(e.refill_rate)||e.refill_rate<=0?-1:e.refill_rate}ci(){return this.ll().hi.enabled&&this.Ri()==null?(Ht.q(Z.qs,{e:"Missing feature flag refresh_rate_limit."}),!1):this.ll().hi.enabled||!1}Ri(){return this.ll().hi.refresh_rate_limit}}class eO{constructor(t,e,n,i){this.u=t,this.wt=e,this.yt=n,this.wl=i,this.u=t,this.wt=e,this.yt=n,this.Sl=1e3,(i==null||isNaN(i))&&(i=1800),i<this.Sl/1e3&&(m.info("Specified session timeout of "+i+"s is too small, using the minimum session timeout of "+this.Sl/1e3+"s instead."),i=this.Sl/1e3),this.wl=i}jl(t,e){return new Wt(this.wt.getUserId(),Z.xl,t,e.eu,{d:Ls(t-e.Dl)})}Si(){const t=this.u.tu(b.iu.El);return t==null?null:t.eu}Gl(){const t=new Date().valueOf(),e=this.yt.dl(),n=this.u.j(b.C.Nl);if(n!=null&&e==null)return!1;let i=!1;return n==null?i=!0:e!=null&&(i=t-n>1e3*e),i&&this.u.k(b.C.Nl,t),i}zl(t,e){return e==null||e.Hl==null||!(t-e.Dl<this.Sl)&&e.Hl<t}wo(){const t=new Date().valueOf(),e=t+1e3*this.wl,n=this.u.tu(b.iu.El);if(this.zl(t,n)){let i="Generating session start event with time "+t;if(n!=null){let s=n.Wl;s-n.Dl<this.Sl&&(s=n.Dl+this.Sl),this.u.kl(this.jl(s,n)),i+=" (old session ended "+s+")"}i+=". Will expire "+e.valueOf(),m.info(i);const o=new le(no.W(),e);return this.u.kl(new Wt(this.wt.getUserId(),Z.ql,t,o.eu)),this.u.uu(b.iu.El,o),this.u.j(b.C.Nl)==null&&this.u.k(b.C.Nl,t),o.eu}if(n!=null)return n.Wl=t,n.Hl=e,this.u.uu(b.iu.El,n),n.eu}yl(){const t=this.u.tu(b.iu.El);t!=null&&(this.u.Al(b.iu.El),this.u.kl(this.jl(new Date().valueOf(),t)))}}const My={Qo:function(r,t=!1){let e=!1;try{if(localStorage&&localStorage.getItem)try{localStorage.setItem(b.C.ec,"true"),localStorage.getItem(b.C.ec)&&(localStorage.removeItem(b.C.ec),e=!0)}catch(s){if(!(s instanceof Error&&(s.name==="QuotaExceededError"||s.name==="NS_ERROR_DOM_QUOTA_REACHED")&&localStorage.length>0))throw s;e=!0}}catch{m.info("Local Storage not supported!")}const n=My.oc(),i=new Tt.tc(r,n&&!t,e);let o;return o=e?new Tt.rc(r):new Tt.ac,new Tt(i,o)},oc:function(){return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}};class Oi{constructor(t,e){this.triggerId=t,this.messageExtras=e,this.triggerId=t,this.messageExtras=e,this.extras={},this.isControl=!0}static fromJson(t){return new Oi(t.trigger_id,t.message_extras)}}function rO(r,t=!1,e=!1,n=!1){if(r==null)return!1;t=t||!1,e=e||!1;const i=r.getBoundingClientRect();return i!=null&&(i.top>=0&&i.top<=(window.innerHeight||document.documentElement.clientHeight)||!t)&&(i.left>=0||!n)&&(i.bottom>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)||!e)&&(i.right<=(window.innerWidth||document.documentElement.clientWidth)||!n)}const fi={dc:null,po:rO};function nO(){if(fi.dc==null){fi.dc=!1;try{const r=Object.defineProperty({},"passive",{get:()=>{fi.dc=!0}});window.addEventListener("testPassive",()=>{},r),window.removeEventListener("testPassive",()=>{},r)}catch(r){m.error(ue(r))}}return fi.dc}function td(r){if(r.onclick){const t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0),r.onclick.apply(r,[t])}}const iO={Fo:32,lo:9,To:13,mh:27},oO=r=>r!==null&&r.tagName==="IFRAME";class v{constructor(t,e,n,i,o,s,a,u,l,f,c,h,d,p,g,S,E,_,w,A,O,I,F,$,K,et,ft,ct,st,ht){this.message=t,this.messageAlignment=e,this.slideFrom=n,this.extras=i,this.triggerId=o,this.clickAction=s,this.uri=a,this.openTarget=u,this.dismissType=l,this.duration=f,this.icon=c,this.imageUrl=h,this.imageStyle=d,this.iconColor=p,this.iconBackgroundColor=g,this.backgroundColor=S,this.textColor=E,this.closeButtonColor=_,this.animateIn=w,this.animateOut=A,this.header=O,this.headerAlignment=I,this.headerTextColor=F,this.frameColor=$,this.buttons=K,this.cropType=et,this.orientation=ft,this.htmlId=ct,this.css=st,this.messageExtras=ht,this.message=t,this.messageAlignment=e||v.TextAlignment.CENTER,this.duration=f||5e3,this.slideFrom=n||v.SlideFrom.BOTTOM,this.extras=i||{},this.triggerId=o,this.clickAction=s||v.ClickAction.NONE,this.uri=a,this.openTarget=u||v.OpenTarget.NONE,this.dismissType=l||v.DismissType.AUTO_DISMISS,this.icon=c,this.imageUrl=h,this.imageStyle=d||v.ImageStyle.TOP,this.iconColor=p||v.th.ih,this.iconBackgroundColor=g||v.th.sh,this.backgroundColor=S||v.th.ih,this.textColor=E||v.th.hh,this.closeButtonColor=_||v.th.eh,this.animateIn=w,this.animateIn==null&&(this.animateIn=!0),this.animateOut=A,this.animateOut==null&&(this.animateOut=!0),this.header=O,this.headerAlignment=I||v.TextAlignment.CENTER,this.headerTextColor=F||v.th.hh,this.frameColor=$||v.th.Eh,this.buttons=K||[],this.cropType=et||v.CropType.FIT_CENTER,this.orientation=ft,this.htmlId=ct,this.css=st,this.isControl=!1,this.messageExtras=ht,this.nh=!1,this.Th=!1,this.vo=!1,this.oh=!1,this.Me=null,this.ke=null,this.Et=new Bt,this.rh=new Bt,this.De=v.TextAlignment.CENTER}subscribeToClickedEvent(t){return this.Et.It(t)}subscribeToDismissedEvent(t){return this.rh.It(t)}removeSubscription(t){this.Et.removeSubscription(t),this.rh.removeSubscription(t)}removeAllSubscriptions(){this.Et.removeAllSubscriptions(),this.rh.removeAllSubscriptions()}closeMessage(){this.Ae(this.Me)}ze(){return!0}do(){return this.ze()}xe(){return this.htmlId!=null&&this.htmlId.length>4}Ce(){return this.xe()&&this.css!=null&&this.css.length>0}ve(){if(this.xe()&&this.Ce())return this.htmlId+"-css"}K(){return!this.Th&&(this.Th=!0,!0)}Ur(){return this.Th}p(t){return!this.vo&&(this.vo=!0,this.Et.Dt(),!0)}N(){return!this.oh&&(this.oh=!0,this.rh.Dt(),!0)}hide(t){if(t&&t.parentNode){let e=t.closest(".ab-iam-root");if(e==null&&(e=t),this.ze()&&e.parentNode!=null){const n=e.parentNode.classList;n&&n.contains(v.lh)&&n.remove(v.lh),document.body.removeEventListener("touchmove",v.uh)}e.className=e.className.replace(v.ah,v.Ih)}return this.animateOut||!1}Ae(t,e){if(t==null)return;let n;this.Me=null,n=t.className.indexOf("ab-in-app-message")===-1?t.getElementsByClassName("ab-in-app-message")[0]:t;let i=!1;n&&(i=this.hide(n));const o=document.body;let s;o!=null&&(s=o.scrollTop);const a=()=>{if(t&&t.parentNode){let l=t.closest(".ab-iam-root");l==null&&(l=t),l.parentNode&&l.parentNode.removeChild(l)}const u=this.ve();if(u!=null){const l=document.getElementById(u);l&&l.parentNode&&l.parentNode.removeChild(l)}o!=null&&de.browser==="Safari"&&(o.scrollTop=s),e?e():this.N()};i?setTimeout(a,v.Ah):a(),this.ke&&this.ke.focus()}Je(){return document.createTextNode(this.message||"")}Ge(t){let e="";this.message||this.header||!this.ze()||(e="Modal Image"),t.setAttribute("alt",e)}static uh(t){if(t.targetTouches&&t.targetTouches.length>1)return;const e=t.target;e&&e.classList&&e.classList.contains("ab-message-text")&&e.scrollHeight>e.clientHeight||document.querySelector(`.${v.lh}`)&&t.cancelable&&t.preventDefault()}Oh(t){const e=t.parentNode;this.ze()&&e!=null&&this.orientation!==v.Orientation.LANDSCAPE&&(e.classList!=null&&e.classList.add(v.lh),document.body.addEventListener("touchmove",v.uh,!!nO()&&{passive:!1})),t.className+=" "+v.ah}static _h(t){if(t.keyCode===iO.mh&&!R.nn(ut.Lh)&&document.querySelectorAll(".ab-modal-interactions").length>0){const e=document.getElementsByClassName("ab-html-message");let n=!1;for(const i of e){let o=null;oO(i)&&i.contentWindow&&(o=i.contentWindow.document.getElementsByClassName("ab-programmatic-close-button")[0]),o!=null&&(td(o),n=!0)}if(!n){const i=document.querySelectorAll(".ab-modal-interactions > .ab-close-button")[0];i!=null&&td(i)}}}Nh(){this.nh||R.nn(ut.Lh)||(document.addEventListener("keydown",v._h,!1),R.Sh(()=>{document.removeEventListener("keydown",v._h)}),this.nh=!0)}Y(t){const e={};return t&&(e[v.tt.Vr]=this.message,e[v.tt.Wr]=this.messageAlignment,e[v.tt.Rh]=this.slideFrom,e[v.tt.bt]=this.extras,e[v.tt.Yr]=this.triggerId,e[v.tt.Zr]=this.clickAction,e[v.tt.URI]=this.uri,e[v.tt.ea]=this.openTarget,e[v.tt.ra]=this.dismissType,e[v.tt.sa]=this.duration,e[v.tt.ta]=this.icon,e[v.tt.ot]=this.imageUrl,e[v.tt.ia]=this.imageStyle,e[v.tt.aa]=this.iconColor,e[v.tt.oa]=this.iconBackgroundColor,e[v.tt.pa]=this.backgroundColor,e[v.tt.ma]=this.textColor,e[v.tt.na]=this.closeButtonColor,e[v.tt.ua]=this.animateIn,e[v.tt.ca]=this.animateOut,e[v.tt.fa]=this.header,e[v.tt.da]=this.headerAlignment,e[v.tt.la]=this.headerTextColor,e[v.tt.ga]=this.frameColor,e[v.tt.ja]=this.buttons,e[v.tt.xa]=this.cropType,e[v.tt.za]=this.orientation,e[v.tt.ha]=this.htmlId,e[v.tt.CSS]=this.css,e[v.tt.Z]=t,e[v.tt.va]=this.messageExtras),e}}v.th={hh:4281545523,ih:4294967295,sh:4278219733,Mh:4293914607,Dh:4283782485,Eh:3224580915,eh:4288387995},v.Be={Ch:"hd",Le:"ias",dh:"of",Uh:"do",bh:"umt",Ph:"tf",ph:"te"},v.SlideFrom={TOP:"TOP",BOTTOM:"BOTTOM"},v.ClickAction={NEWS_FEED:"NEWS_FEED",URI:"URI",NONE:"NONE"},v.DismissType={AUTO_DISMISS:"AUTO_DISMISS",MANUAL:"SWIPE"},v.OpenTarget={NONE:"NONE",BLANK:"BLANK"},v.ImageStyle={TOP:"TOP",GRAPHIC:"GRAPHIC"},v.Orientation={PORTRAIT:"PORTRAIT",LANDSCAPE:"LANDSCAPE"},v.TextAlignment={START:"START",CENTER:"CENTER",END:"END"},v.CropType={CENTER_CROP:"CENTER_CROP",FIT_CENTER:"FIT_CENTER"},v.qe={Kr:"SLIDEUP",Jr:"MODAL",Ve:"MODAL_STYLED",Or:"FULL",Hr:"WEB_HTML",$e:"HTML",We:"HTML_FULL"},v.Ah=500,v.fh=200,v.ah="ab-show",v.Ih="ab-hide",v.lh="ab-pause-scrolling",v.tt={Vr:"m",Wr:"ma",Rh:"sf",bt:"e",Yr:"ti",Zr:"ca",URI:"u",ea:"oa",ra:"dt",sa:"d",ta:"i",ot:"iu",ia:"is",aa:"ic",oa:"ibc",pa:"bc",ma:"tc",na:"cbc",ua:"ai",ca:"ao",fa:"h",da:"ha",la:"htc",ga:"fc",ja:"b",xa:"ct",za:"o",ha:"hi",CSS:"css",Z:"type",uo:"messageFields",va:"me"};class Ve extends v{constructor(t,e,n,i,o,s,a,u,l,f,c,h){super(t,void 0,void 0,e,n,void 0,void 0,void 0,i=i||v.DismissType.MANUAL,o,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,s,a,void 0,void 0,void 0,u,void 0,void 0,void 0,l,f,h),this.messageFields=c,this.messageFields=c}do(){return!1}p(t){if(this.we===v.qe.Hr){if(this.vo)return!1;this.vo=!0}return this.Et.Dt(t),!0}Y(){const t=super.Y(Ve.it);return t[v.tt.uo]=this.messageFields,t}static Xr(t){return new Ve(t[v.tt.Vr],t[v.tt.bt],t[v.tt.Yr],t[v.tt.ra],t[v.tt.sa],t[v.tt.ua],t[v.tt.ca],t[v.tt.ga],t[v.tt.ha],t[v.tt.CSS],t[v.tt.uo],t[v.tt.va])}}Ve.it=v.qe.Hr;class Tr{constructor(t,e,n,i,o,s,a){this.text=t,this.backgroundColor=e,this.textColor=n,this.borderColor=i,this.clickAction=o,this.uri=s,this.id=a,this.text=t||"",this.backgroundColor=e||v.th.sh,this.textColor=n||v.th.ih,this.borderColor=i||this.backgroundColor,this.clickAction=o||v.ClickAction.NONE,this.uri=s,a==null&&(a=Tr.Ji),this.id=a,this.vo=!1,this.Et=new Bt}subscribeToClickedEvent(t){return this.Et.It(t)}removeSubscription(t){this.Et.removeSubscription(t)}removeAllSubscriptions(){this.Et.removeAllSubscriptions()}p(){return!this.vo&&(this.vo=!0,this.Et.Dt(),!0)}static fromJson(t){return new Tr(t.text,t.bg_color,t.text_color,t.border_color,t.click_action,t.uri,t.id)}}Tr.Ji=-1;class Dr extends v{constructor(t,e,n,i,o,s,a,u,l,f,c,h,d,p,g,S,E,_,w,A,O,I,F,$,K,et,ft,ct,st){u=u||v.DismissType.MANUAL,et=et||v.Orientation.PORTRAIT,super(t,e,void 0,n,i,o,s,a,u,l,f,c,h,d,p,g,S,E,_,w,A,O,I,F,$,K=K||v.CropType.CENTER_CROP,et,ft,ct,st),this.De=v.TextAlignment.CENTER}Y(){return super.Y(Dr.it)}static Xr(t){return new Dr(t[v.tt.Vr],t[v.tt.Wr],t[v.tt.bt],t[v.tt.Yr],t[v.tt.Zr],t[v.tt.URI],t[v.tt.ea],t[v.tt.ra],t[v.tt.sa],t[v.tt.ta],t[v.tt.ot],t[v.tt.ia],t[v.tt.aa],t[v.tt.oa],t[v.tt.pa],t[v.tt.ma],t[v.tt.na],t[v.tt.ua],t[v.tt.ca],t[v.tt.fa],t[v.tt.da],t[v.tt.la],t[v.tt.ga],Ly(t[v.tt.ja]),t[v.tt.xa],t[v.tt.za],t[v.tt.ha],t[v.tt.CSS],t[v.tt.va])}}Dr.it=v.qe.Or;class Fr extends v{constructor(t,e,n,i,o,s,a,u,l,f,c,h,d,p,g,S,E,_,w,A,O,I,F,$,K,et,ft,ct){super(t,e,void 0,n,i,o,s,a,u=u||v.DismissType.MANUAL,l,f,c,h,d,p,g,S,E,_,w,A,O,I,F,$,K=K||v.CropType.FIT_CENTER,void 0,et,ft,ct),this.De=v.TextAlignment.CENTER}Y(){return super.Y(Fr.it)}static Xr(t){return new Fr(t[v.tt.Vr],t[v.tt.Wr],t[v.tt.bt],t[v.tt.Yr],t[v.tt.Zr],t[v.tt.URI],t[v.tt.ea],t[v.tt.ra],t[v.tt.sa],t[v.tt.ta],t[v.tt.ot],t[v.tt.ia],t[v.tt.aa],t[v.tt.oa],t[v.tt.pa],t[v.tt.ma],t[v.tt.na],t[v.tt.ua],t[v.tt.ca],t[v.tt.fa],t[v.tt.da],t[v.tt.la],t[v.tt.ga],Ly(t[v.tt.ja]),t[v.tt.xa],t[v.tt.ha],t[v.tt.CSS],t[v.tt.va])}}Fr.it=v.qe.Jr;class kr extends v{constructor(t,e,n,i,o,s,a,u,l,f,c,h,d,p,g,S,E,_,w,A,O,I){S=S||v.th.Dh,g=g||v.th.Mh,super(t,e=e||v.TextAlignment.START,n,i,o,s,a,u,l,f,c,h,void 0,d,p,g,S,E,_,w,void 0,void 0,void 0,void 0,void 0,void 0,void 0,A,O,I),this.De=v.TextAlignment.START}ze(){return!1}Je(){const t=document.createElement("span");return t.appendChild(document.createTextNode(this.message||"")),t}Oh(t){const e=t.getElementsByClassName("ab-in-app-message")[0];fi.po(e,!0,!0)||(this.slideFrom===v.SlideFrom.TOP?e.style.top="0px":e.style.bottom="0px"),super.Oh(t)}Y(){return super.Y(kr.it)}static Xr(t){return new kr(t[v.tt.Vr],t[v.tt.Wr],t[v.tt.Rh],t[v.tt.bt],t[v.tt.Yr],t[v.tt.Zr],t[v.tt.URI],t[v.tt.ea],t[v.tt.ra],t[v.tt.sa],t[v.tt.ta],t[v.tt.ot],t[v.tt.aa],t[v.tt.oa],t[v.tt.pa],t[v.tt.ma],t[v.tt.na],t[v.tt.ua],t[v.tt.ca],t[v.tt.ha],t[v.tt.CSS],t[v.tt.va])}}kr.it=v.qe.Kr;function By(r){if(!r)return null;if(r.is_control)return Oi.fromJson(r);let t=r.type;t!=null&&(t=t.toUpperCase());const e=r.message,n=r.text_align_message,i=r.slide_from,o=r.extras,s=r.trigger_id,a=r.click_action,u=r.uri,l=r.open_target,f=r.message_close,c=r.duration,h=r.icon,d=r.image_url,p=r.image_style,g=r.icon_color,S=r.icon_bg_color,E=r.bg_color,_=r.text_color,w=r.close_btn_color,A=r.header,O=r.text_align_header,I=r.header_text_color,F=r.frame_color,$=[];let K=r.btns;K==null&&(K=[]);for(let J=0;J<K.length;J++)$.push(Tr.fromJson(K[J]));const et=r.crop_type,ft=r.orientation,ct=r.animate_in,st=r.animate_out;let ht=r.html_id,Xt=r.css;ht!=null&&ht!==""&&Xt!=null&&Xt!==""||(ht=void 0,Xt=void 0);const be=r.message_extras;let it;if(t===Fr.it||t===v.qe.Ve)it=new Fr(e,n,o,s,a,u,l,f,c,h,d,p,g,S,E,_,w,ct,st,A,O,I,F,$,et,ht,Xt,be);else if(t===Dr.it)it=new Dr(e,n,o,s,a,u,l,f,c,h,d,p,g,S,E,_,w,ct,st,A,O,I,F,$,et,ft,ht,Xt,be);else if(t===kr.it)it=new kr(e,n,i,o,s,a,u,l,f,c,h,d,g,S,E,_,w,ct,st,ht,Xt,be);else{if(t!==Ve.it&&t!==v.qe.$e&&t!==v.qe.We)return void m.error("Ignoring message with unknown type "+t);{const J=r.message_fields;it=new Ve(e,o,s,f,c,ct,st,F,ht,Xt,J,be),it.trusted=r.trusted||!1}}return it.we=t,it}function Ly(r){const t=[];for(const e of r)t.push(new Tr(e.text,e.backgroundColor,e.textColor,e.borderColor,e.clickAction,e.uri,e.id));return t}class ps{constructor(t){this.Bl=t,this.Bl=t}Jl(t){return this.Bl==null||this.Bl===t[0]}static fromJson(t){return new ps(t?t.event_name:null)}Y(){return this.Bl}}class Y{constructor(t,e,n,i){this.Tl=t,this._l=e,this.comparator=n,this.Ll=i,this.Tl=t,this._l=e,this.comparator=n,this.Ll=i,this._l===Y.Ol.Il&&this.comparator!==Y.Ql.Ul&&this.comparator!==Y.Ql.Xl&&this.comparator!==Y.Ql.Fl&&this.comparator!==Y.Ql.Kl&&(this.Ll=ul(this.Ll))}Jl(t){let e=null;switch(t!=null&&(e=t[this.Tl]),this.comparator){case Y.Ql.Pl:return e!=null&&e.valueOf()===this.Ll.valueOf();case Y.Ql.Yl:return e==null||e.valueOf()!==this.Ll.valueOf();case Y.Ql.Zl:return e!=null&&typeof e==typeof this.Ll&&e>this.Ll;case Y.Ql.Ul:return this._l===Y.Ol.Il?e!=null&&ae(e)&&Hh(e)<=this.Ll.valueOf():e!=null&&typeof e==typeof this.Ll&&e>=this.Ll;case Y.Ql.$l:return e!=null&&typeof e==typeof this.Ll&&e<this.Ll;case Y.Ql.Xl:return this._l===Y.Ol.Il?e!=null&&ae(e)&&Hh(e)>=this.Ll.valueOf():e!=null&&typeof e==typeof this.Ll&&e<=this.Ll;case Y.Ql.Hu:return e!=null&&typeof e=="string"&&typeof e==typeof this.Ll&&e.match(this.Ll)!=null;case Y.Ql.Qu:return e!=null;case Y.Ql.Xu:return e==null;case Y.Ql.Fl:return e!=null&&ae(e)&&Yh(e)<this.Ll;case Y.Ql.Kl:return e!=null&&ae(e)&&Yh(e)>this.Ll;case Y.Ql.Gu:return e==null||typeof e!=typeof this.Ll||typeof e!="string"||e.match(this.Ll)==null}return!1}static fromJson(t){return new Y(t.property_key,t.property_type,t.comparator,t.property_value)}Y(){let t=this.Ll;return ae(this.Ll)&&(t=Ls(t.valueOf())),{k:this.Tl,t:this._l,c:this.comparator,v:t}}static qn(t){return new Y(t.k,t.t,t.c,t.v)}}Y.Ol={Vu:"boolean",Wu:"number",Yu:"string",Il:"date"},Y.Ql={Pl:1,Yl:2,Zl:3,Ul:4,$l:5,Xl:6,Hu:10,Qu:11,Xu:12,Fl:15,Kl:16,Gu:17};class Ur{constructor(t){this.filters=t,this.filters=t}Jl(t){let e=!0;for(let n=0;n<this.filters.length;n++){const i=this.filters[n];let o=!1;for(let s=0;s<i.length;s++)if(i[s].Jl(t)){o=!0;break}if(!o){e=!1;break}}return e}static fromJson(t){if(t==null||!Pt(t))return null;const e=[];for(let n=0;n<t.length;n++){const i=[],o=t[n];for(let s=0;s<o.length;s++)i.push(Y.fromJson(o[s]));e.push(i)}return new Ur(e)}Y(){const t=[];for(let e=0;e<this.filters.length;e++){const n=this.filters[e],i=[];for(let o=0;o<n.length;o++)i.push(n[o].Y());t.push(i)}return t}static qn(t){const e=[];for(let n=0;n<t.length;n++){const i=[],o=t[n];for(let s=0;s<o.length;s++)i.push(Y.qn(o[s]));e.push(i)}return new Ur(e)}}class ys{constructor(t,e){this.Bl=t,this.Ml=e,this.Bl=t,this.Ml=e}Jl(t){if(this.Bl==null||this.Ml==null)return!1;const e=t[0],n=t[1];return e===this.Bl&&this.Ml.Jl(n)}static fromJson(t){return new ys(t?t.event_name:null,t?Ur.fromJson(t.property_filters):null)}Y(){return{e:this.Bl,pf:this.Ml?this.Ml.Y():null}}}class gs{constructor(t,e){this.Zu=t,this.tf=e,this.Zu=t,this.tf=e}Jl(t){if(this.Zu==null)return!1;const e=k.if(t[0],this.Zu);if(!e)return!1;let n=this.tf==null||this.tf.length===0;if(this.tf!=null){for(let i=0;i<this.tf.length;i++)if(this.tf[i]===t[1]){n=!0;break}}return e&&n}static fromJson(t){return new gs(t?t.id:null,t?t.buttons:null)}Y(){return this.Zu}}class vs{constructor(t){this.productId=t,this.productId=t}Jl(t){return this.productId==null||t[0]===this.productId}static fromJson(t){return new vs(t?t.product_id:null)}Y(){return this.productId}}class ms{constructor(t,e){this.productId=t,this.Ml=e,this.productId=t,this.Ml=e}Jl(t){if(this.productId==null||this.Ml==null)return!1;const e=t[0],n=t[1];return e===this.productId&&this.Ml.Jl(n)}static fromJson(t){return new ms(t?t.product_id:null,t?Ur.fromJson(t.property_filters):null)}Y(){return{id:this.productId,pf:this.Ml?this.Ml.Y():null}}}class bs{constructor(t){this.Zu=t,this.Zu=t}Jl(t){return this.Zu==null||k.if(t[0],this.Zu)}static fromJson(t){return new bs(t?t.campaign_id:null)}Y(){return this.Zu}}const xt={OPEN:"open",Rr:"purchase",vr:"push_click",ue:"custom_event",Qr:"iam_click",kt:"test"};class k{constructor(t,e){this.type=t,this.data=e,this.type=t,this.data=e}sc(t,e){return k.cc[this.type]===t&&(this.data==null||this.data.Jl(e))}static if(t,e){let n=null;try{n=window.atob(t)}catch(i){return m.info("Failed to unencode analytics id "+t+": "+ue(i)),!1}return e===n.split("_")[0]}static fromJson(t){const e=t.type;let n=null;switch(e){case k._r.OPEN:case k._r.kt:break;case k._r.Rr:n=vs.fromJson(t.data);break;case k._r.nc:n=ms.fromJson(t.data);break;case k._r.vr:n=bs.fromJson(t.data);break;case k._r.ue:n=ps.fromJson(t.data);break;case k._r.lc:n=ys.fromJson(t.data);break;case k._r.Qr:n=gs.fromJson(t.data)}return new k(e,n)}Y(){return{t:this.type,d:this.data?this.data.Y():null}}static qn(t){let e,n=null;switch(t.t){case k._r.OPEN:case k._r.kt:break;case k._r.Rr:n=new vs(t.d);break;case k._r.nc:e=t.d||{},n=new ms(e.id,Ur.qn(e.pf||[]));break;case k._r.vr:n=new bs(t.d);break;case k._r.ue:n=new ps(t.d);break;case k._r.lc:e=t.d||{},n=new ys(e.e,Ur.qn(e.pf||[]));break;case k._r.Qr:n=new gs(t.d)}return new k(t.t,n)}}k._r={OPEN:"open",Rr:"purchase",nc:"purchase_property",vr:"push_click",ue:"custom_event",lc:"custom_event_property",Qr:"iam_click",kt:"test"},k.cc={},k.cc[k._r.OPEN]=xt.OPEN,k.cc[k._r.Rr]=xt.Rr,k.cc[k._r.nc]=xt.Rr,k.cc[k._r.vr]=xt.vr,k.cc[k._r.ue]=xt.ue,k.cc[k._r.lc]=xt.ue,k.cc[k._r.Qr]=xt.Qr,k.cc[k._r.kt]=xt.kt;class Mt{constructor(t,e=[],n,i,o=0,s,a,u=0,l=Mt.td,f,c,h){this.id=t,this.sd=e,this.startTime=n,this.endTime=i,this.priority=o,this.type=s,this.data=a,this.ed=u,this.rd=l,this.Nr=f,this.hd=c,this.od=h,this.id=t,this.sd=e||[],n===void 0&&(n=null),this.startTime=n,i===void 0&&(i=null),this.endTime=i,this.priority=o||0,this.type=s,this.ed=u||0,f==null&&(f=1e3*(this.ed+30)),this.Nr=f,this.data=a,l!=null&&(this.rd=l),this.hd=c,this.od=h||null}nd(t){return this.od==null||this.rd!==Mt.td&&t-this.od>=1e3*this.rd}ad(t){this.od=t}ud(t){const e=t+1e3*this.ed;return Math.max(e-new Date().valueOf(),0)}dd(t){const e=new Date().valueOf()-t,n=t==null||isNaN(e)||this.Nr==null||e<this.Nr;return n||m.info(`Trigger action ${this.type} is no longer eligible for display - fired ${e}ms ago and has a timeout of ${this.Nr}ms.`),!n}static fromJson(t){const e=t.id,n=[];for(let d=0;d<t.trigger_condition.length;d++)n.push(k.fromJson(t.trigger_condition[d]));const i=ul(t.start_time),o=ul(t.end_time),s=t.priority,a=t.type,u=t.delay,l=t.re_eligibility,f=t.timeout,c=t.data,h=t.min_seconds_since_last_trigger;return Pe(Mt._r,a,"Could not construct Trigger from server data","Trigger.Types")?new Mt(e,n,i,o,s,a,c,u,l,f,h):null}Y(){const t=[];for(let e=0;e<this.sd.length;e++)t.push(this.sd[e].Y());return{i:this.id,c:t,s:this.startTime,e:this.endTime,p:this.priority,t:this.type,da:this.data,d:this.ed,r:this.rd,tm:this.Nr,ss:this.hd,ld:this.od}}static qn(t){const e=[],n=t.c||[];for(let i=0;i<n.length;i++)e.push(k.qn(n[i]));return new Mt(t.i,e,ll(t.s),ll(t.e),t.p,t.t,t.da,t.d,t.r,t.tm,t.ss,t.ld)}}Mt._r={Br:"inapp",md:"templated_iam"},Mt.td=-1;const li={PORTRAIT:0,LANDSCAPE:1};function sO(){return screen.width<=600}function aO(){if("orientation"in window)return Math.abs(window.orientation)===90||window.orientation===270?li.LANDSCAPE:li.PORTRAIT;const r=window;if("screen"in r){let t=r.screen.orientation||screen.mozOrientation||screen.msOrientation;return t!=null&&typeof t=="object"&&(t=t.type),t==="landscape-primary"||t==="landscape-secondary"?li.LANDSCAPE:li.PORTRAIT}return li.PORTRAIT}function uO(r,t,e){r&&(t||e!=null&&e.metaKey?window.open(r):window.location=r)}function lO(){return window.location.href}const qy={openUri:uO,fo:sO,co:aO,Un:lO};function TO(){if(R.X())return R.pr()}function cO(r){r==null&&(r="");const t=r.split("?").slice(1).join("?"),e={};if(t!=null){const n=t.split("&");for(let i=0;i<n.length;i++){const o=n[i].split("=");o[0]!==""&&(e[o[0]]=o[1])}}return e}class fO{constructor(t,e,n,i){this.qt=t,this.ri=e,this.u=n,this.wt=i,this.qt=t,this.ri=e,this.u=n,this.wt=i,this._e=new Bt,R.$t(this._e),this.Xe=1e3,this.Ye=6e4,this.Ze=null}Mi(){return this._e}_i(t){return this._e.It(t)}Pi(){return this.Ze}$i(t){this.Ze=t}q(t,e,n,i){const o=new Pi;let s;if(t instanceof Oi)s={trigger_ids:[t.triggerId]};else{if(e===Z.Ei||t instanceof Ve&&e===Z.Gi){if(!t.p(i))return m.info("This in-app message has already received a click. Ignoring analytics event."),o}else if(e===Z.Oi&&!t.K())return m.info("This in-app message has already received an impression. Ignoring analytics event."),o;s=this.Xi(t)}return s==null?o:(t.messageExtras&&(s.message_extras=t.messageExtras),n!=null&&(s.bid=n),Ht.q(e,s))}Hi(t,e){const n=new Pi;if(!t.p())return m.info("This in-app message button has already received a click. Ignoring analytics event."),n;const i=this.Xi(e);return i==null?n:t.id===Tr.Ji?(m.info("This in-app message button does not have a tracking id. Not logging event to Braze servers."),n):(t.id!=null&&(i.bid=t.id),Ht.q(Z.Gi,i))}Ki(t){const e=t.messageFields;return e!=null&&e.is_push_primer||!1}Li(t){if(!(t instanceof v))return;const e=o=>{if(!o)return;const s=MP(o);return Ny(s)?Zh(hs.Qi,"In-App Message"):xy(s)&&!lt.Vi()?Zh(hs.Wi,"In-App Message"):void 0};if(this.Ki(t)&&!lt.Vi())return"In-App Message contains a push prompt, but is not eligible for a push prompt. Ignoring.";const n=t.buttons||[];let i;for(const o of n)if(o.clickAction===v.ClickAction.URI&&o.uri&&fl.test(o.uri)&&(i=e(o.uri),i))return i;return t.clickAction===v.ClickAction.URI&&t.uri&&fl.test(t.uri)?e(t.uri):void 0}Yi(t,e,n,i){const o=this.qt;if(!o)return;const s=o.Zi(!1,!1),a=o.Js(s);a.template={trigger_id:t.triggerId,trigger_event_type:e},n!=null&&(a.template.data=n.Ir());const u=o.$s(a,N.Ps.Mr);o.Xs(a,(l=-1)=>{if(!this.qt)return;const f=new Date().valueOf();N._s(this.u,N.Ps.Mr,f),l!==-1&&u.push(["X-Braze-Req-Tokens-Remaining",l.toString()]),Kl.Gs({url:`${this.qt.Hs()}/template/`,data:a,headers:u,L:c=>{if(N.Qs(this.u,N.Ps.Mr,1),!this.qt.Ks(a,c,u))return void(typeof t.Tr=="function"&&t.Tr());if(this.qt.Os(),c==null||c.templated_message==null)return;const h=c.templated_message;if(h.type!==Mt._r.Br)return;const d=By(h.data);if(d==null)return;const p=this.Li(d);if(p)return m.error(p),void(typeof t.Tr=="function"&&t.Tr());typeof t.Er=="function"&&t.Er(d)},error:c=>{let h=`getting user personalization for message ${t.triggerId}`;if(new Date().valueOf()-t.Gr<t.Nr){N.Ys(this.u,N.Ps.Mr);const d=Math.min(t.Nr,this.Ye),p=this.Xe;i==null&&(i=p);const g=Math.min(d,Vl(p,3*i));h+=`. Retrying in ${g} ms`,setTimeout(()=>{this.Yi(t,e,n,g)},g)}this.qt.Vs(c,h)}})},N.Ps.Mr)}Xi(t){if(t.triggerId==null)return m.info("The in-app message has no analytics id. Not logging event to Braze servers."),null;const e={};return t.triggerId!=null&&(e.trigger_ids=[t.triggerId]),e}je(t){return!!this.u&&!(!(t&&t instanceof v&&t.constructor!==v)||t instanceof Oi)&&this.u.k(b.C.Cr,t.Y())}Ue(){if(!this.u)return null;const t=this.u.j(b.C.Cr);if(!t)return null;let e;switch(t.type){case v.qe.Or:e=Dr.Xr(t);break;case v.qe.Hr:case v.qe.$e:case v.qe.We:e=Ve.Xr(t);break;case v.qe.Jr:case v.qe.Ve:e=Fr.Xr(t);break;case v.qe.Kr:e=kr.Xr(t)}return e&&this.Lr(),e}Lr(){this.u&&this.u.ti(b.C.Cr)}}const re={i:null,t:!1,m:()=>(re.o(),re.i||(re.i=new fO(R.nr(),R.zr(),R.l(),R.er())),re.i),o:()=>{re.t||(R.g(re),re.t=!0)},destroy:()=>{re.i=null,re.t=!1}};class Jl{constructor(t,e,n,i,o){this.triggerId=t,this.Er=e,this.Tr=n,this.Gr=i,this.Nr=o,this.triggerId=t,this.Er=e,this.Tr=n,this.Gr=i,this.Nr=o}static fromJson(t,e,n,i,o){return t==null||t.trigger_id==null?null:new Jl(t.trigger_id,e,n,i,o)}}class hO extends zl{constructor(t,e,n,i,o){super(),this.tg=t,this.Jt=e,this.u=n,this.zi=i,this.ig=o,this.tg=t,this.Jt=e,this.u=n,this.zi=i,this.ig=o,this.sg=[],this.eg=[],this.hg=null,this.ng={},this.og={},this.triggers=[],this.lg=0,this.ag(),this.gg()}fg(){if(this.u){this.hg=this.u.j(b.C.iE)||this.hg,this.ng=this.u.j(b.C.EE)||this.ng,this.og=this.u.j(b.C.aE)||this.og;for(let t=0;t<this.triggers.length;t++){const e=this.triggers[t];e.id&&this.og[e.id]!=null&&e.ad(this.og[e.id])}}}ag(){if(!this.u)return;this.lg=this.u.j(b.C.oE)||0;const t=this.u.j(b.C.rE)||[],e=[];for(let n=0;n<t.length;n++)e.push(Mt.qn(t[n]));this.triggers=e,this.fg()}gg(){const t=this,e=function(o,s,a,u,l){return function(){t.cg(o,s,a,u,l)}},n={};for(const o of this.triggers)o.id&&(n[o.id]=o);let i=!1;for(let o=0;o<this.triggers.length;o++){const s=this.triggers[o];if(s.id&&this.ng[s.id]!=null){const a=this.ng[s.id],u=[];for(let l=0;l<a.length;l++){const f=a[l],c=s.ud(f.Gr||0);if(c>0){let h,d;u.push(f),f.ug!=null&&(h=f.ug),f.dg!=null&&Wt.RE(f.dg)&&(d=Wt.qn(f.dg));const p=[];if(f.pg&&Pt(f.pg))for(let g=0;g<f.pg.length;g++){const S=n[f.pg[g]];S!=null&&p.push(S)}this.eg.push(window.setTimeout(e(s,f.Gr||0,h,d,p),c))}}this.ng[s.id].length>u.length&&(this.ng[s.id]=u,i=!0,this.ng[s.id].length===0&&delete this.ng[s.id])}}i&&this.u&&this.u.k(b.C.EE,this.ng)}mg(){if(!this.u)return;const t=[];for(let e=0;e<this.triggers.length;e++)t.push(this.triggers[e].Y());this.lg=new Date().valueOf(),this.u.k(b.C.rE,t),this.u.k(b.C.oE,this.lg)}bg(){this.u&&((this.u.j(b.C.oE)||0)>this.lg?this.ag():this.fg())}Ns(t){let e=!1;if(t!=null&&t.triggers){this.ig.Lr(),this.fg();const n={},i={};this.triggers=[];for(let a=0;a<t.triggers.length;a++){const u=Mt.fromJson(t.triggers[a]);if(u){u.id&&this.og[u.id]!=null&&(u.ad(this.og[u.id]),n[u.id]=this.og[u.id]),u.id&&this.ng[u.id]!=null&&(i[u.id]=this.ng[u.id]);for(let l=0;l<u.sd.length;l++)if(u.sd[l].sc(xt.kt,null)){e=!0;break}this.triggers.push(u)}}Rr(this.og,n)||(this.og=n,this.u&&this.u.k(b.C.aE,this.og)),Rr(this.ng,i)||(this.ng=i,this.u&&this.u.k(b.C.EE,this.ng)),this.mg(),e&&(m.info("Trigger with test condition found, firing test."),this.fe(xt.kt)),this.fe(xt.OPEN);const o=this.sg;let s;this.sg=[];for(let a=0;a<o.length;a++)s=Array.prototype.slice.call(o[a]),this.fe(...s)}}cg(t,e,n,i,o){const s=c=>{this.fg();const h=new Date().valueOf();t.dd(e)||(navigator.onLine===!1&&t.type===Mt._r.Br&&c.imageUrl?m.info(`Not showing ${t.type} trigger action ${t.id} due to offline state.`):t.nd(h)&&this.wg(t,h,n)?this.Jt.ic()===0?m.info(`Not displaying trigger ${t.id} because neither automaticallyShowInAppMessages() nor subscribeToInAppMessage() were called.`):(this.Jt.Dt([c]),this.yg(t,h)):m.info(`Not displaying trigger ${t.id} because display time fell outside of the acceptable time window.`))},a=()=>{this.fg();const c=o.pop();if(c!=null)if(this.Tg(c,e,n,i,o),c.dd(e)){let h=`Server aborted in-app message display, but the timeout on fallback trigger ${c.id} has already elapsed.`;o.length>0&&(h+=" Continuing to fall back."),m.info(h),a()}else{m.info(`Server aborted in-app message display. Falling back to lower priority ${c.type} trigger action ${t.id}.`);const h=1e3*c.ed-(new Date().valueOf()-e);h>0?this.eg.push(window.setTimeout(()=>{this.cg(c,e,n,i,o)},h)):this.cg(c,e,n,i,o)}};let u,l,f;switch(t.type){case Mt._r.Br:if(u=By(t.data),u==null){m.error(`Could not parse trigger data for trigger ${t.id}, ignoring.`);break}if(l=this.ig.Li(u),l){m.error(l),a();break}s(u);break;case Mt._r.md:if(f=Jl.fromJson(t.data,s,a,e,t.Nr||0),f==null){m.error(`Could not parse trigger data for trigger ${t.id}, ignoring.`);break}this.ig.Yi(f,n,i);break;default:m.error(`Trigger ${t.id} was of unexpected type ${t.type}, ignoring.`)}}fe(t,e=null,n){if(!Pe(xt,t,"Cannot fire trigger action.","TriggerEvents"))return;if(this.zi&&this.zi.Nu())return m.info("Trigger sync is currently in progress, awaiting sync completion before firing trigger event."),void this.sg.push(arguments);this.bg();const i=new Date().valueOf(),o=i-(this.hg||0);let s=!0,a=!0;const u=[];for(let f=0;f<this.triggers.length;f++){const c=this.triggers[f],h=i+1e3*c.ed;if(c.nd(h)&&(c.startTime==null||c.startTime.valueOf()<=i)&&(c.endTime==null||c.endTime.valueOf()>=i)){let d=!1;for(let p=0;p<c.sd.length;p++)if(c.sd[p].sc(t,e)){d=!0;break}d&&(s=!1,this.wg(c,h,t)&&(a=!1,u.push(c)))}}if(s)return void m.info(`Trigger event ${t} did not match any trigger conditions.`);if(a)return void m.info(`Ignoring ${t} trigger event because a trigger was displayed ${o/1e3}s ago.`);u.sort((f,c)=>f.priority-c.priority);const l=u.pop();l!=null&&(m.info(`Firing ${l.type} trigger action ${l.id} from trigger event ${t}.`),this.Tg(l,i,t,n,u),l.ed===0?this.cg(l,i,t,n,u):this.eg.push(window.setTimeout(()=>{this.cg(l,i,t,n,u)},1e3*l.ed)))}changeUser(t=!1){if(this.triggers=[],this.u&&this.u.ti(b.C.rE),!t){this.sg=[],this.hg=null,this.og={},this.ng={};for(let e=0;e<this.eg.length;e++)clearTimeout(this.eg[e]);this.eg=[],this.u&&(this.u.ti(b.C.iE),this.u.ti(b.C.aE),this.u.ti(b.C.EE))}}clearData(){this.triggers=[],this.hg=null,this.og={},this.ng={};for(let t=0;t<this.eg.length;t++)clearTimeout(this.eg[t]);this.eg=[]}wg(t,e,n){if(this.hg==null)return!0;if(n===xt.kt)return m.info("Ignoring minimum interval between trigger because it is a test type."),!0;let i=t.hd;return i==null&&(i=this.tg),e-this.hg>=1e3*i}Tg(t,e,n,i,o){this.fg(),t.id&&(this.ng[t.id]=this.ng[t.id]||[]);const s={};let a;s.Gr=e,s.ug=n,i!=null&&(a=i.Y()),s.dg=a;const u=[];for(const l of o)l.id&&u.push(l.id);s.pg=u,t.id&&this.ng[t.id].push(s),this.u&&this.u.k(b.C.EE,this.ng)}yg(t,e){this.fg(),t.ad(e),this.hg=e,t.id&&(this.og[t.id]=e),this.u&&(this.u.k(b.C.iE,e),this.u.k(b.C.aE,this.og))}}const $t={t:!1,provider:null,rr:()=>($t.o(),$t.provider||$t.rg(),$t.provider),rg:()=>{if(!$t.provider){const r=R.nn(ut.Oo);$t.provider=new hO(r??30,re.m().Mi(),R.l(),R.cr(),re.m()),R.ar($t.provider)}},o:()=>{$t.t||($t.rg(),R.g($t),$t.t=!0)},destroy:()=>{$t.provider=null,$t.t=!1}};class qs{constructor(t,e,n,i,o){this.endpoint=t,this.Vn=e,this.publicKey=n,this.Vl=i,this.cl=o,this.endpoint=t||null,this.Vn=e||null,this.publicKey=n||null,this.Vl=i||null,this.cl=o||null}Y(){return{e:this.endpoint,c:this.Vn,p:this.publicKey,u:this.Vl,v:this.cl}}static qn(t){return new qs(t.e,ll(t.c),t.p,t.u,t.v)}}class dO{constructor(t,e){this.yt=t,this.u=e,this.yt=t,this.u=e}getUserId(){const t=this.u.tu(b.iu.su);if(t==null)return null;let e=t.eu,n=fs(e);if(n>Q.lr){for(;n>Q.lr;)e=e.slice(0,e.length-1),n=fs(e);t.eu=e,this.u.uu(b.iu.su,t)}return e}ou(t){const e=this.getUserId()==null;this.u.uu(b.iu.su,new le(t)),e&&this.u.ru(t)}setCustomUserAttribute(t,e){if(this.yt.hu(t))return m.info('Custom Attribute "'+t+'" is blocklisted, ignoring.'),!1;const n={};return n[t]=e,this.nu(Q.lu,n,!0)}nu(t,e,n=!1,i=!1){const o=this.u.mu(this.getUserId(),t,e);let s="",a=t,u=e;return n&&(s=" custom",typeof e=="object"&&(a=Object.keys(e)[0],u=e[a],typeof u=="object"&&(u=JSON.stringify(u,null,2)))),!i&&o&&m.info(`Logged${s} attribute ${a} with value ${u}`),o}kn(t,e,n,i,o){this.nu("push_token",t,!1,!0),this.nu("custom_push_public_key",n,!1,!0),this.nu("custom_push_user_auth",i,!1,!0),this.nu("custom_push_vapid_public_key",o,!1,!0);const s=Dt.Yt.Qt,a=new Dt(s,m),u=new qs(t,e,n,i,o);this.u.k(b.C.In,u.Y()),a.setItem(s.ss.cu,s.ie,!0)}Dn(t){if(this.nu("push_token",null,!1,!0),this.nu("custom_push_public_key",null,!1,!0),this.nu("custom_push_user_auth",null,!1,!0),this.nu("custom_push_vapid_public_key",null,!1,!0),t){const e=Dt.Yt.Qt,n=new Dt(e,m);this.u.k(b.C.In,!1),n.setItem(e.ss.cu,e.ie,!1)}}}const ut={Eo:"allowCrawlerActivity",_o:"baseUrl",Io:"noCookies",Ao:"devicePropertyAllowlist",_a:"disablePushTokenMaintenance",So:"enableLogging",No:"enableSdkAuthentication",Ma:"manageServiceWorkerExternally",Oo:"minimumIntervalBetweenTriggerActionsInSeconds",Po:"sessionTimeoutInSeconds",Ro:"appVersion",Lo:"appVersionNumber",wa:"serviceWorkerLocation",ya:"safariWebsitePushId",zn:"localization",bo:"contentSecurityNonce",Do:"allowUserSuppliedJavascript",jo:"inAppMessageZIndex",ho:"openInAppMessagesInNewTab",tn:"openCardsInNewTab",en:"openNewsFeedCardsInNewTab",Lh:"requireExplicitInAppMessageDismissal",Mo:"doNotLoadFontAwesome",Uo:"deviceId",Bo:"sdkFlavor"};class pO{constructor(){this.rn="",this.Wo="",this.Vo=void 0,this.zo=null,this.on=null,this.qt=null,this.zi=null,this.yt=null,this.ri=null,this.u=null,this.wt=null,this.Go="",this.Ko=!1,this.$o=!1,this.qo=new Bt,this.Jo=new Bt,this.options={},this.Yo=[],this.Ho=[],this._e=[],this.Wo="5.3.0"}Xo(t){this.qo.It(t)}Sh(t){this.Jo.It(t)}initialize(t,e){if(this.so())return m.info("Braze has already been initialized with an API key."),!0;this.options=e||{};let n=this.nn(ut.So);const i=cO(qy.Un());if(i&&i.brazeLogging==="true"&&(n=!0),m.init(n),m.info(`Initialization Options: ${JSON.stringify(this.options,null,2)}`),t==null||t===""||typeof t!="string")return m.error("Braze requires a valid API key to be initialized."),!1;this.rn=t;let o=this.nn(ut._o);if(o==null||o===""||typeof o!="string")return m.error("Braze requires a valid baseUrl to be initialized."),!1;/^https?:/.test(o)===!1&&(o=`https://${o}`);const s=o;if(o=document.createElement("a"),o.href=s,o.pathname==="/"&&(o=`${o}api/v3`),this.Go=o.toString(),de.Zo&&!this.nn(ut.Eo))return m.info("Ignoring activity from crawler bot "+navigator.userAgent),this.$o=!0,!1;const a=this.nn(ut.Io)||!1;if(this.u=My.Qo(t,a),a&&this.u.Wh(t),new Tt.ee(null,!0).br(b.se))return m.info("Ignoring all activity due to previous opt out"),this.$o=!0,!1;for(const h of ze(this.options))Bs(Qh).indexOf(h)===-1&&m.warn(`Ignoring unknown initialization option '${h}'.`);const u=["mparticle","wordpress","tealium"];if(this.nn(ut.Bo)!=null){const h=this.nn(ut.Bo);u.indexOf(h)!==-1?this.Vo=h:m.error("Invalid sdk flavor passed: "+h)}let l=this.nn(Qh.Ao);if(l!=null)if(Pt(l)){const h=[];for(let d=0;d<l.length;d++)Pe(Ee,l[d],"devicePropertyAllowlist contained an invalid value.","DeviceProperties")&&h.push(l[d]);l=h}else m.error("devicePropertyAllowlist must be an array. Defaulting to all properties."),l=null;const f=this.nn(ut.Uo);if(f){const h=new le(f);this.u.uu(b.iu.Uo,h)}this.on=new YP(this.u,l),this.yt=new tO(this.u),this.wt=new dO(this.yt,this.u),this.ri=new eO(this.u,this.wt,this.yt,this.nn(ut.Po));const c=new Bt;return this.zo=new QP(this.u,this.nn(ut.No),c),this.$t(c),this.qt=new XP(this.on,this.u,this.zo,this.wt,this.ri,this.yt,this.rn,this.Go,this.Wo,this.Vo||"",this.nn(ut.Ro),this.nn(ut.Lo)),this.zi=new ZP(this.rn,this.Go,this.ri,this.on,this.wt,this.yt,this.u,h=>{if(this.so())for(const d of this.gr())d.Ns(h)},this.zo,this.qt),this.zi.initialize(),a||this.u.Vh(),m.info(`Initialized for the Braze backend at "${this.nn(ut._o)}" with API key "${this.rn}".`),$t.o(),this.yt.ji(()=>{var h;this.Ko&&(!((h=this.yt)===null||h===void 0)&&h.ci())&&Iu(()=>Promise.resolve().then(()=>ed),void 0).then(d=>{this.Ko&&(0,d.default)()})}),this.zi.mr(()=>{var h;this.Ko&&(!((h=this.yt)===null||h===void 0)&&h.ci())&&Iu(()=>Promise.resolve().then(()=>ed),void 0).then(d=>{this.Ko&&(0,d.default)(void 0,void 0,!0)})}),this.qo.Dt(this.options),this.Ko=!0,!0}destroy(t){if(m.destroy(),this.so()){this.Jo.Dt(),this.Jo.removeAllSubscriptions();for(const e of this.Yo)e.destroy();this.Yo=[];for(const e of this.Ho)e.clearData(!1);this.Ho=[],this.removeAllSubscriptions(),this._e=[],this.zi!=null&&this.zi.destroy(),this.zi=null,this.zo=null,this.on=null,this.qt=null,this.yt=null,this.ri=null,this.wt=null,this.options={},this.Vo=void 0,this.Ko=!1,this.$o=!1,t&&(this.u=null)}}X(){return!this.Kh()&&(!!this.so()||(console.warn(kP),!1))}ba(){return this.rn}Sr(){return this.zo}Hs(){return this.Go}te(){return this.on}nr(){return this.qt}nn(t){return this.options[t]}gr(){return this.Ho}cr(){return this.zi}ir(){return this.yt}zr(){return this.ri}l(){return this.u}pr(){if(this.wt&&this.zi)return new Q(this.wt,this.zi)}er(){return this.wt}tr(){return this.nn(ut.Do)===!0}g(t){let e=!1;for(const n of this.Yo)n===t&&(e=!0);e||this.Yo.push(t)}ar(t){let e=!1;for(const n of this.Ho)n.constructor===t.constructor&&(e=!0);t instanceof zl&&!e&&this.Ho.push(t)}$t(t){t instanceof Bt&&this._e.push(t)}removeAllSubscriptions(){if(this.X())for(const t of this._e)t.removeAllSubscriptions()}removeSubscription(t){if(this.X())for(const e of this._e)e.removeSubscription(t)}oe(t){this.$o=t}so(){return this.Ko}Kh(){return this.$o}Ds(){return this.Wo}}const R=new pO,Ht={q:(r,t,e)=>{var n,i;const o=new Pi,s=R.zr();if(!s)return m.info(`Not logging event with type "${r}" because the current session ID could not be found.`),o;const a=s.wo();return o.ge.push(new Wt(e||((n=R.er())===null||n===void 0?void 0:n.getUserId()),r,new Date().valueOf(),a,t)),o.L=((i=R.l())===null||i===void 0?void 0:i.xo(o.ge))||!1,o}};function DO(r){R.X()&&R.removeSubscription(r)}function FO(r,t){if(!R.X())return;if(r==null||r.length===0||r!=r)return void m.error("changeUser requires a non-empty userId.");if(fs(r)>Q.lr)return void m.error(`Rejected user id "${r}" because it is longer than ${Q.lr} bytes.`);if(t!=null&&!Vt(t,"set signature for new user","signature"))return;const e=R.cr();e&&e.changeUser(r.toString(),R.gr(),t)}function kO(r,t){return R.initialize(r,t)}function UO(r,t){if(!R.X())return!1;if(r==null||r.length<=0)return m.error(`logCustomEvent requires a non-empty eventName, got "${r}". Ignoring event.`),!1;if(!oe(r,"log custom event","the event name"))return!1;const[e,n]=Gl(t,FP,"eventProperties",`log custom event "${r}"`,"event");if(!e)return!1;const i=R.ir();if(i&&i.me(r))return m.info(`Custom Event "${r}" is blocklisted, ignoring.`),!1;const o=Ht.q(Z.CustomEvent,{n:r,p:n});if(o.L){m.info(`Logged custom event "${r}".`);for(const s of o.ge)$t.rr().fe(xt.ue,[r,t],s)}return o.L}function NO(r){if(!R.X()||r===""||!Vt(r,"set signature","signature",!1))return!1;const t=R.Sr();return!!t&&(t.setSdkAuthenticationSignature(r),!0)}function xO(r){var t;if(R.X())return(t=R.Sr())===null||t===void 0?void 0:t.subscribeToSdkAuthenticationFailures(r)}class Ii{constructor(t,e,n,i,o,s,a,u,l,f){this.sn=t,this.rn=e,this.on=n,this.un=o,this.an=s,this.yt=a,this.cn=u,this.hn=l,this.u=f,this.sn=t,this.rn=e,this.on=n,this.fn=i+"/safari/"+e,this.un=o||"/service-worker.js",this.an=s,this.yt=a,this.cn=u||!1,this.hn=l||!1,this.u=f,this.ln=lt.dn(),this.pn=lt.bn()}mn(){return this.hn}yn(t,e,n,i,o){t.unsubscribe().then(s=>{s?this.vn(e,n,i,o):(m.error("Failed to unsubscribe device from push."),typeof o=="function"&&o(!1))}).catch(s=>{m.error("Push unsubscription error: "+s),typeof o=="function"&&o(!1)})}gn(t,e,n){var i;const o=(f=>{if(typeof f=="string")return f;if(f.endpoint.indexOf("https://android.googleapis.com/gcm/send")!==0)return f.endpoint;let c=f.endpoint;const h=f;return h.wn&&f.endpoint.indexOf(h.wn)===-1&&(c=f.endpoint+"/"+h.wn),c})(t);let s=null,a=null;const u=t;if(u.getKey!=null)try{const f=Array.from(new Uint8Array(u.getKey("p256dh"))),c=Array.from(new Uint8Array(u.getKey("auth")));s=btoa(String.fromCharCode.apply(null,f)),a=btoa(String.fromCharCode.apply(null,c))}catch(f){m.error(ue(f))}const l=(f=>{let c;return f.options&&(c=f.options.applicationServerKey)&&c.byteLength&&c.byteLength>0?btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(c)))).replace(/\+/g,"-").replace(/\//g,"_"):null})(u);(i=this.sn)===null||i===void 0||i.kn(o,e,s,a,l),o&&typeof n=="function"&&n(o,s,a)}Pn(){var t;(t=this.sn)===null||t===void 0||t.Dn(!0)}Sn(t,e){var n;(n=this.sn)===null||n===void 0||n.Dn(!1),m.info(t),typeof e=="function"&&e(!1)}An(t,e,n,i){var o;if(e.permission==="default")try{window.safari.pushNotification.requestPermission(this.fn,t,{api_key:this.rn,device_id:((o=this.on)===null||o===void 0?void 0:o.ce().id)||""},s=>{s.permission==="granted"&&this.sn&&this.sn.setPushNotificationSubscriptionType(Q.NotificationSubscriptionTypes.OPTED_IN),this.An(t,s,n,i)})}catch(s){this.Sn("Could not request permission for push: "+s,i)}else e.permission==="denied"?this.Sn("The user has blocked notifications from this site, or Safari push is not configured in the Braze dashboard.",i):e.permission==="granted"&&(m.info("Device successfully subscribed to push."),this.gn(e.deviceToken,new Date,n))}requestPermission(t,e,n){const i=s=>{switch(s){case"granted":return void(typeof t=="function"&&t());case"default":return void(typeof e=="function"&&e());case"denied":return void(typeof n=="function"&&n());default:m.error("Received unexpected permission result "+s)}};let o=!1;if(window.Notification.permission!=="default")i(Notification.permission);else{const s=window.Notification.requestPermission(a=>{o&&i(a)});s?s.then(a=>{i(a)}):o=!0}}vn(t,e,n,i){const o={userVisibleOnly:!0};e!=null&&(o.applicationServerKey=e),t.pushManager.subscribe(o).then(s=>{m.info("Device successfully subscribed to push."),this.gn(s,new Date,n)}).catch(s=>{lt.isPushBlocked()?(m.info("Permission for push notifications was denied."),typeof i=="function"&&i(!1)):(m.error("Push subscription failed: "+s),typeof i=="function"&&i(!0))})}jn(){return this.cn?navigator.serviceWorker.getRegistration(this.un):navigator.serviceWorker.register(this.un).then(()=>navigator.serviceWorker.ready.then(t=>(t&&typeof t.update=="function"&&t.update().catch(e=>{m.info("ServiceWorker update failed: "+e)}),t)))}xn(t){this.cn||(t.unregister(),m.info("Service worker successfully unregistered."))}subscribe(t,e){if(!lt.isPushSupported())return m.info(Ii.Nn),void(typeof e=="function"&&e(!1));if(this.ln){if(!this.cn&&window.location!=null){let a=this.un;a.indexOf(window.location.host)===-1&&(a=window.location.host+a),a.indexOf(window.location.protocol)===-1&&(a=window.location.protocol+"//"+a);const u=a.substr(0,a.lastIndexOf("/")+1);if(qy.Un().indexOf(u)!==0)return m.error("Cannot subscribe to push from a path higher than the service worker location (tried to subscribe from "+window.location.pathname+" but service worker is at "+a+")"),void(typeof e=="function"&&e(!0))}if(lt.isPushBlocked())return void this.Sn("Notifications from this site are blocked. This may be a temporary embargo or a permanent denial.",e);if(this.yt&&!this.yt.Wn()&&this.yt.ii()===0)return m.info("Waiting for VAPID key from server config before subscribing to push."),void this.yt._n(()=>{this.subscribe(t,e)});const n=()=>{m.info("Permission for push notifications was denied."),typeof e=="function"&&e(!1)},i=()=>{let a="Permission for push notifications was ignored.";lt.isPushBlocked()&&(a+=" The browser has automatically blocked further permission requests for a period (probably 1 week)."),m.info(a),typeof e=="function"&&e(!0)},o=lt.isPushPermissionGranted(),s=()=>{!o&&this.sn&&this.sn.setPushNotificationSubscriptionType(Q.NotificationSubscriptionTypes.OPTED_IN),this.jn().then(a=>{if(a==null)return m.error("No service worker registration. Set the `manageServiceWorkerExternally` initialization option to false or ensure that your service worker is registered before calling registerPush."),void(typeof e=="function"&&e(!0));a.pushManager.getSubscription().then(u=>{var l;let f=null;if(((l=this.yt)===null||l===void 0?void 0:l.Wn())!=null&&(f=RP.Tn(this.yt.Wn())),u){let c,h=null,d=null;if(this.u&&(c=this.u.j(b.C.In)),c&&!Pt(c)){let p;try{p=qs.qn(c).Vn}catch{p=null}p==null||isNaN(p.getTime())||p.getTime()===0||(h=p,d=new Date(h),d.setMonth(h.getMonth()+6))}f!=null&&u.options&&u.options.applicationServerKey&&u.options.applicationServerKey.byteLength&&u.options.applicationServerKey.byteLength>0&&!Rr(f,new Uint8Array(u.options.applicationServerKey))?(u.options.applicationServerKey.byteLength>12?m.info("Device was already subscribed to push using a different VAPID provider, creating new subscription."):m.info("Attempting to upgrade a gcm_sender_id-based push registration to VAPID - depending on the browser this may or may not result in the same gcm_sender_id-based subscription."),this.yn(u,a,f,t,e)):u.expirationTime&&new Date(u.expirationTime).valueOf()<=new Date().valueOf()?(m.info("Push subscription is expired, creating new subscription."),this.yn(u,a,f,t,e)):c&&Pt(c)?this.yn(u,a,f,t,e):d==null?(m.info("No push subscription creation date found, creating new subscription."),this.yn(u,a,f,t,e)):d.valueOf()<=new Date().valueOf()?(m.info("Push subscription older than 6 months, creating new subscription."),this.yn(u,a,f,t,e)):(m.info("Device already subscribed to push, sending existing subscription to backend."),this.gn(u,h,t))}else this.vn(a,f,t,e)}).catch(u=>{m.error("Error checking current push subscriptions: "+u)})}).catch(a=>{m.error("ServiceWorker registration failed: "+a)})};this.requestPermission(s,i,n)}else if(this.pn){if(this.an==null||this.an==="")return m.error("You must supply the safariWebsitePushId initialization option in order to use registerPush on Safari"),void(typeof e=="function"&&e(!0));const n=window.safari.pushNotification.permission(this.an);this.An(this.an,n,t,e)}}unsubscribe(t,e){if(!lt.isPushSupported())return m.info(Ii.Nn),void(typeof e=="function"&&e());this.ln?navigator.serviceWorker.getRegistration().then(n=>{n?n.pushManager.getSubscription().then(i=>{i?(this.Pn(),i.unsubscribe().then(o=>{o?(m.info("Device successfully unsubscribed from push."),typeof t=="function"&&t()):(m.error("Failed to unsubscribe device from push."),typeof e=="function"&&e()),this.xn(n)}).catch(o=>{m.error("Push unsubscription error: "+o),typeof e=="function"&&e()})):(m.info("Device already unsubscribed from push."),typeof t=="function"&&t())}).catch(i=>{m.error("Error unsubscribing from push: "+i),typeof e=="function"&&e()}):(m.info("Device already unsubscribed from push."),typeof t=="function"&&t())}):this.pn&&(this.Pn(),m.info("Device unsubscribed from push."),typeof t=="function"&&t())}}Ii.Nn="Push notifications are not supported in this browser.";const he={t:!1,i:null,m:()=>(he.o(),he.i||(he.i=new Ii(R.pr(),R.ba(),R.te(),R.Hs(),R.nn(ut.wa),R.nn(ut.ya),R.ir(),R.nn(ut.Ma),R.nn(ut._a),R.l())),he.i),o:()=>{he.t||(R.g(he),he.t=!0)},destroy:()=>{he.i=null,he.t=!1}},yO=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));class ot{constructor(t,e=!1,n={},i){this.id=t,this.enabled=e,this.properties=n,this.trackingString=i,this.id=t,this.enabled=e,this.properties=n,this.trackingString=i}he(t,e,n){const i=this.properties[t];return i==null?(this.ye(t),null):e(i)?i.value:(this.Pe(n),null)}getStringProperty(t){return this.he(t,this.be,"string")}getNumberProperty(t){return this.he(t,this.Ie,"number")}getBooleanProperty(t){return this.he(t,this.de,"boolean")}getImageProperty(t){return this.he(t,this.Te,"image")}getJsonProperty(t){return this.he(t,this.Ee,"jsonobject")}getTimestampProperty(t){return this.he(t,this.Ne,"datetime")}Y(){const t={};return t[ot.tt.ht]=this.id,t[ot.tt.le]=this.enabled,t[ot.tt.pe]=this.properties,t[ot.tt.Fe]=this.trackingString,t}Pe(t){m.info(`Property is not of type ${t}.`)}ye(t){m.info(`${t} not found in feature flag properties.`)}be(t){return t.type==="string"&&typeof t.value=="string"}Ie(t){return t.type==="number"&&typeof t.value=="number"}de(t){return t.type==="boolean"&&typeof t.value=="boolean"}Te(t){return t.type==="image"&&typeof t.value=="string"}Ee(t){return t.type==="jsonobject"&&typeof t.value=="object"&&t.value.constructor==Object}Ne(t){return t.type==="datetime"&&typeof t.value=="number"}}ot.tt={ht:"id",le:"e",pe:"pr",Fe:"fts"},ot.Rt={ht:"id",le:"enabled",pe:"properties",Fe:"fts"};function gO(r){if(r[ot.Rt.ht]&&typeof r[ot.Rt.le]=="boolean")return new ot(r[ot.Rt.ht],r[ot.Rt.le],r[ot.Rt.pe],r[ot.Rt.Fe]);m.info(`Unable to create feature flag from ${JSON.stringify(r,null,2)}`)}function vO(r){if(r[ot.tt.ht]&&typeof r[ot.tt.le]=="boolean")return new ot(r[ot.tt.ht],r[ot.tt.le],r[ot.tt.pe],r[ot.tt.Fe]);m.info(`Unable to deserialize feature flag from ${JSON.stringify(r,null,2)}`)}class mO extends zl{constructor(t,e,n,i){super(),this.yt=t,this.qt=e,this.u=n,this.ri=i,this.hi=[],this.oi=0,this.yt=t,this.qt=e,this.u=n,this.ri=i,this.ai=null,this.ni=new Bt,this.li=10,this.ui=null,this.fi=null,R.$t(this.ni)}Ns(t){var e;if(!((e=this.yt)===null||e===void 0)&&e.ci()&&t!=null&&t.feature_flags){this.hi=[];for(const n of t.feature_flags){const i=gO(n);i&&this.hi.push(i)}this.oi=new Date().getTime(),this.di(),this.ni.Dt(this.hi)}}mi(){let t={};this.u&&(t=this.u.j(b.C.gi));const e={};for(const n in t){const i=vO(t[n]);i&&(e[i.id]=i)}return e}Fi(){var t;return((t=this.u)===null||t===void 0?void 0:t.j(b.C.vi))||{}}pi(t){this.u&&this.u.k(b.C.vi,t)}Zs(t){return this.ni.It(t)}refreshFeatureFlags(t,e,n=!1,i=!0){const o=()=>{typeof e=="function"&&e(),this.ni.Dt(this.hi)};if(!this.wi(n))return!this.ai&&this.yt&&(this.ai=this.yt.ji(()=>{this.refreshFeatureFlags(t,e)})),void o();const s=this.qt;if(!s)return void o();i&&this.yi();const a=s.Js({},!0),u=s.$s(a,N.Ps.bi);let l=!1;s.Xs(a,(f=-1)=>{if(!this.qt)return void o();const c=new Date().valueOf();N._s(this.u,N.Ps.bi,c),f!==-1&&u.push(["X-Braze-Req-Tokens-Remaining",f.toString()]),Kl.Gs({url:`${this.qt.Hs()}/feature_flags/sync`,headers:u,data:a,L:h=>{if(!this.qt.Ks(a,h,u))return l=!0,void o();this.qt.Os(),this.Ns(h),l=!1,N.Qs(this.u,N.Ps.bi,1),typeof t=="function"&&t()},error:h=>{this.qt.Vs(h,"retrieving feature flags"),l=!0,o()},Ws:()=>{if(i&&l&&!this.fi){N.Ys(this.u,N.Ps.bi);let h=this.ui;(h==null||h<1e3*this.li)&&(h=1e3*this.li),this.Ci(Math.min(3e5,Vl(1e3*this.li,3*h)),t,e,n)}}})},N.Ps.bi,e)}yi(){this.fi!=null&&(clearTimeout(this.fi),this.fi=null)}Ci(t=1e3*this.li,e,n,i=!1){this.yi(),this.fi=window.setTimeout(()=>{this.refreshFeatureFlags(e,n,i)},t),this.ui=t}wi(t){if(!this.yt)return!1;if(!t){const e=this.yt.Ri();if(e==null)return!1;let n=!1;if(!isNaN(e)){if(e===-1)return m.info("Feature flag refreshes not allowed"),!1;n=new Date().getTime()>=(this.oi||0)+1e3*e}if(!n)return m.info(`Feature flag refreshes were rate limited to ${e} seconds`),!1}return this.yt.ci()}Ti(){var t;return((t=this.u)===null||t===void 0?void 0:t.j(b.C.Di))||null}Ii(){var t,e;(t=this.u)===null||t===void 0||t.k(b.C.Di,(e=this.ri)===null||e===void 0?void 0:e.Si())}qi(){var t;const e=(t=this.ri)===null||t===void 0?void 0:t.Si(),n=this.Ti();return n==null||e===n}di(){if(!this.u)return;const t={};for(const e of this.hi){const n=e.Y();t[e.id]=n}this.u.k(b.C.gi,t),this.u.k(b.C.xi,this.oi),this.Ii()}}const Zt={t:!1,provider:null,rr:()=>(Zt.o(),Zt.provider||(Zt.provider=new mO(R.ir(),R.nr(),R.l(),R.zr()),R.ar(Zt.provider)),Zt.provider),o:()=>{Zt.t||(R.g(Zt),Zt.t=!0)},destroy:()=>{Zt.provider=null,Zt.t=!1}};function Gy(r,t,e=!1){if(R.X())return Zt.rr().refreshFeatureFlags(r,t,e)}function bO(r,t){Gy(r,t)}const ed=Object.freeze(Object.defineProperty({__proto__:null,default:Gy,refreshFeatureFlags:bO},Symbol.toStringTag,{value:"Module"}));export{TO as A,DO as B,xO as C,UO as D,NO as E,IO as F,wl as G,PO as H,$O as I,ln as L,EO as Q,Ui as _,xi as a,Nr as b,Zn as c,zi as d,Xn as e,Wi as f,pl as g,Yt as h,gd as i,Xy as j,Bi as k,ml as l,Ft as m,Ad as n,Iu as o,AO as p,OO as q,Ni as r,rg as s,D as t,ji as u,CO as v,RO as w,Rw as x,kO as y,FO as z};
//# sourceMappingURL=app-chunk-three-DjU8sGjD.js.map
